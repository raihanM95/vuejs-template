{"remainingRequest":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\src\\scripts\\collection-zone\\InvestigationSampleDiagnosis.js","dependencies":[{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\src\\scripts\\collection-zone\\InvestigationSampleDiagnosis.js","mtime":1635850838709},{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9EaWFnbm9zdGljQ2VudGVyTWFuYWdlbWVudF9DbGllbnQvdHJ1bmsvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgQ29tbW9uU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL0NvbW1vblNlcnZpY2UiOwppbXBvcnQgVGVzdFBhcmFtZXRlclNldHVwU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL3NldHVwL1Rlc3RQYXJhbWV0ZXJTZXR1cFNlcnZpY2UiOwppbXBvcnQgSW52ZXN0aWdhdGlvblNhbXBsZURpYWdub3Npc1NlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9jb2xsZWN0aW9uLXpvbmUvSW52ZXN0aWdhdGlvblNhbXBsZURpYWdub3Npc1NlcnZpY2UiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCB7IEZpbHRlck1hdGNoTW9kZSwgRmlsdGVyT3BlcmF0b3IgfSBmcm9tICJwcmltZXZ1ZS9hcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGFMaXN0OiB0cnVlLAogICAgICB0ZXN0UGFyYW1ldGVyTGlzdDogW10sCiAgICAgIGludmVzdGlnYXRpb25TYW1wbGVEaWFnbm9zaXNMaXN0OiBbXSwKICAgICAgZGlhZ25vc2lzSW52ZXN0aWdhdGlvblN0YXR1c0xpc3Q6IFtdLAogICAgICBpbnZlc3RpZ2F0aW9uU2FtcGxlRGlhZ25vc2lzOiB7CiAgICAgICAgY2Rmcm9tZGF0ZTogbW9tZW50KFN0cmluZyhuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkgLSA3KSkpKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgICBjZHRvZGF0ZTogbW9tZW50KFN0cmluZyhuZXcgRGF0ZSgpKSkuZm9ybWF0KCJNTS9ERC9ZWVlZIiksCiAgICAgICAgaW52ZXN0aWdhdGlvbl9zdGF0dXM6ICJXYWl0aW5nIGZvciBSZXN1bHQiCiAgICAgIH0sCiAgICAgIHN1Ym1pdHRlZDogZmFsc2UsCiAgICAgIGZpbHRlcnM6IHsKICAgICAgICBnbG9iYWw6IHsKICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuQ09OVEFJTlMKICAgICAgICB9LAogICAgICAgIG5hbWU6IHsKICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuU1RBUlRTX1dJVEgKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGluaXRGaWx0ZXJzOiBmdW5jdGlvbiBpbml0RmlsdGVycygpIHsKICAgICAgICB0aGlzLmZpbHRlcnMgPSB7CiAgICAgICAgICBnbG9iYWw6IHsKICAgICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLkNPTlRBSU5TCiAgICAgICAgICB9LAogICAgICAgICAgbmFtZTogewogICAgICAgICAgICBvcGVyYXRvcjogRmlsdGVyT3BlcmF0b3IuQU5ELAogICAgICAgICAgICBjb25zdHJhaW50czogW3sKICAgICAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5TVEFSVFNfV0lUSAogICAgICAgICAgICB9XQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLnRlc3RQYXJhbWV0ZXJTZXR1cFNlcnZpY2UgPSBuZXcgVGVzdFBhcmFtZXRlclNldHVwU2VydmljZSgpOwogICAgdGhpcy5pbnZlc3RpZ2F0aW9uU2FtcGxlRGlhZ25vc2lzU2VydmljZSA9IG5ldyBJbnZlc3RpZ2F0aW9uU2FtcGxlRGlhZ25vc2lzU2VydmljZSgpOwogICAgdGhpcy5jb21tb25TZXJ2aWNlID0gbmV3IENvbW1vblNlcnZpY2UoKTsKICAgIHRoaXMuY29tbW9uU2VydmljZS5HZXREaWFnbm9zaXNJbnZlc3RpZ2F0aW9uU3RhdHVzKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gX3RoaXMuZGlhZ25vc2lzSW52ZXN0aWdhdGlvblN0YXR1c0xpc3QgPSBkYXRhLmRhdGE7CiAgICB9KTsKICAgIHRoaXMuc2hvdygpOwogIH0sCiAgbWV0aG9kczogewogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICAvLyB0aGlzLmludmVzdGlnYXRpb25TYW1wbGVEaWFnbm9zaXMgPSB7CiAgICAgIC8vICAgY2Rmcm9tZGF0ZTogbW9tZW50KAogICAgICAvLyAgICAgU3RyaW5nKG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSAtIDcpKSkKICAgICAgLy8gICApLmZvcm1hdCgiTU0vREQvWVlZWSIpLAogICAgICAvLyAgIGNkdG9kYXRlOiBtb21lbnQoU3RyaW5nKG5ldyBEYXRlKCkpKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgLy8gICBpbnZlc3RpZ2F0aW9uX3N0YXR1czogIldhaXRpbmcgZm9yIFJlc3VsdCIsCiAgICAgIC8vIH07CiAgICAgIHRoaXMuZGF0YUxpc3QgPSB0cnVlOwogICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgICB0aGlzLnNob3coKTsKICAgIH0sCiAgICBzaG93OiBmdW5jdGlvbiBzaG93KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKCiAgICAgIGlmICghdGhpcy5pbnZlc3RpZ2F0aW9uU2FtcGxlRGlhZ25vc2lzLmNkZnJvbWRhdGUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaW52ZXN0aWdhdGlvblNhbXBsZURpYWdub3Npcy5jZHRvZGF0ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICghdGhpcy5pbnZlc3RpZ2F0aW9uU2FtcGxlRGlhZ25vc2lzLmludmVzdGlnYXRpb25fc3RhdHVzKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaW52ZXN0aWdhdGlvblNhbXBsZURpYWdub3Npcy5mcm9tZGF0ZSA9IG1vbWVudChTdHJpbmcodGhpcy5pbnZlc3RpZ2F0aW9uU2FtcGxlRGlhZ25vc2lzLmNkZnJvbWRhdGUpKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgICB0aGlzLmludmVzdGlnYXRpb25TYW1wbGVEaWFnbm9zaXMudG9kYXRlID0gbW9tZW50KFN0cmluZyh0aGlzLmludmVzdGlnYXRpb25TYW1wbGVEaWFnbm9zaXMuY2R0b2RhdGUpKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgICB0aGlzLmludmVzdGlnYXRpb25TYW1wbGVEaWFnbm9zaXNTZXJ2aWNlLmdldER5bmFtaWModGhpcy5pbnZlc3RpZ2F0aW9uU2FtcGxlRGlhZ25vc2lzLmZyb21kYXRlLCB0aGlzLmludmVzdGlnYXRpb25TYW1wbGVEaWFnbm9zaXMudG9kYXRlLCB0aGlzLmludmVzdGlnYXRpb25TYW1wbGVEaWFnbm9zaXMuaW52ZXN0aWdhdGlvbl9zdGF0dXMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBfdGhpczIuaW52ZXN0aWdhdGlvblNhbXBsZURpYWdub3Npc0xpc3QgPSBkYXRhLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKICAgIH0sCiAgICByZXN1bHRTdWJtaXRDb25maXJtOiBmdW5jdGlvbiByZXN1bHRTdWJtaXRDb25maXJtKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0ucmVxdWlyZSh7CiAgICAgICAgbWVzc2FnZTogIkFyZSB5b3Ugd2FudCB0byBzdXJlIHN1Ym1pdCByZXN1bHQ/IiwKICAgICAgICBoZWFkZXI6ICJDb25maXJtYXRpb24iLAogICAgICAgIGljb246ICJwaSBwaS1leGNsYW1hdGlvbi10cmlhbmdsZSIsCiAgICAgICAgYWNjZXB0OiBmdW5jdGlvbiBhY2NlcHQoKSB7CiAgICAgICAgICBfdGhpczMucmVzdWx0U3VibWl0KCk7CiAgICAgICAgfSwKICAgICAgICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdCgpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlc3VsdEVkaXRDb25maXJtOiBmdW5jdGlvbiByZXN1bHRFZGl0Q29uZmlybSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtLnJlcXVpcmUoewogICAgICAgIG1lc3NhZ2U6ICJBcmUgeW91IHdhbnQgdG8gc3VyZSBlZGl0IHJlc3VsdD8iLAogICAgICAgIGhlYWRlcjogIkNvbmZpcm1hdGlvbiIsCiAgICAgICAgaWNvbjogInBpIHBpLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlIiwKICAgICAgICBhY2NlcHQ6IGZ1bmN0aW9uIGFjY2VwdCgpIHsKICAgICAgICAgIF90aGlzNC5yZXN1bHRTdWJtaXQoKTsKICAgICAgICB9LAogICAgICAgIHJlamVjdDogZnVuY3Rpb24gcmVqZWN0KCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2VuZFRvVmVyaWZ5Q29uZmlybTogZnVuY3Rpb24gc2VuZFRvVmVyaWZ5Q29uZmlybShkYXRhKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybS5yZXF1aXJlKHsKICAgICAgICBtZXNzYWdlOiAiQXJlIHlvdSB3YW50IHRvIHN1cmUgc2VuZCB0byB2ZXJpZnk/IiwKICAgICAgICBoZWFkZXI6ICJDb25maXJtYXRpb24iLAogICAgICAgIGljb246ICJwaSBwaS1leGNsYW1hdGlvbi10cmlhbmdsZSIsCiAgICAgICAgYWNjZXB0OiBmdW5jdGlvbiBhY2NlcHQoKSB7CiAgICAgICAgICBfdGhpczUuc2VuZFRvVmVyaWZ5KGRhdGEpOwogICAgICAgIH0sCiAgICAgICAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3QoKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBmaW5kQmFyY29kZTogZnVuY3Rpb24gZmluZEJhcmNvZGUoKSB7CiAgICAgIHZhciBhRGlhZ25vc2lzID0gdGhpcy5pbnZlc3RpZ2F0aW9uU2FtcGxlRGlhZ25vc2lzTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgcmV0dXJuIGVsLmJhcmNvZGVfb3JfbGV2ZWwgPT0gdGhpcy5pbnZlc3RpZ2F0aW9uU2FtcGxlRGlhZ25vc2lzLmJhcmNvZGU7CiAgICAgIH0sIHRoaXMpWzBdOwogICAgICBjb25zb2xlLmxvZyhhRGlhZ25vc2lzKTsKCiAgICAgIGlmIChhRGlhZ25vc2lzKSB7CiAgICAgICAgdGhpcy5yZXN1bHQoYURpYWdub3Npcyk7CiAgICAgIH0KICAgIH0sCiAgICByZXN1bHQ6IGZ1bmN0aW9uIHJlc3VsdChkYXRhKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdGhpcy5jdXJyZW50X3NhbXBsZV9jb2xsZWN0aW9uX2lkID0gZGF0YS5zYW1wbGVfY29sbGVjdGlvbl9pZDsKICAgICAgdGhpcy50ZXN0UGFyYW1ldGVyU2V0dXBTZXJ2aWNlLmdldEJ5SWQoZGF0YS5pbnZlc3RpZ2F0aW9uX2lkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNi50ZXN0UGFyYW1ldGVyTGlzdCA9IGRhdGEuZGF0YTsKICAgICAgfSk7CiAgICAgIHRoaXMuZGlhZ25vc2lzTmFtZSA9IGRhdGEuX2ludmVzdGluZ2F0aW9uX25hbWU7CiAgICAgIHRoaXMucGF0aWVudE5hbWUgPSBkYXRhLmFQYXRpZW50LmZpcnN0X25hbWUgKyAiICIgKyBkYXRhLmFQYXRpZW50Lmxhc3RfbmFtZTsKICAgICAgdGhpcy5wYXRpZW50Q29udGFjdCA9IGRhdGEuYVBhdGllbnQuY29udGFjdF9ubzsKICAgICAgdGhpcy5wYXRpZW50UmVnaXN0cmF0aW9uID0gZGF0YS5hUGF0aWVudC5yZWdpc3RyYXRpb25fbm87CiAgICAgIHRoaXMuZGF0YUxpc3QgPSBmYWxzZTsKICAgIH0sCiAgICByZXN1bHRFZGl0OiBmdW5jdGlvbiByZXN1bHRFZGl0KGRhdGEpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB0aGlzLmludmVzdGlnYXRpb25TYW1wbGVEaWFnbm9zaXNTZXJ2aWNlLmdldERpYWdub3Npc1Jlc3VsdEJ5SWQoZGF0YS5zYW1wbGVfY29sbGVjdGlvbl9pZCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBfdGhpczcuZ2V0UGFyYW1ldGVyRm9ybWF0dGVkKGRhdGEpOwogICAgICB9KTsKICAgICAgdGhpcy5kaWFnbm9zaXNOYW1lID0gZGF0YS5faW52ZXN0aW5nYXRpb25fbmFtZTsKICAgICAgdGhpcy5wYXRpZW50TmFtZSA9IGRhdGEuYVBhdGllbnQuZmlyc3RfbmFtZSArIGRhdGEuYVBhdGllbnQubGFzdF9uYW1lOwogICAgfSwKICAgIGdldFBhcmFtZXRlckZvcm1hdHRlZDogZnVuY3Rpb24gZ2V0UGFyYW1ldGVyRm9ybWF0dGVkKGRhdGEpIHsKICAgICAgdGhpcy50ZXN0UGFyYW1ldGVyTGlzdCA9IGRhdGEuZGF0YTsKICAgICAgdGhpcy5pbnZlc3RpZ2F0aW9uU2FtcGxlRGlhZ25vc2lzLnJlc3VsdF9lbnRyeV9ub3RlID0gZGF0YS5kYXRhWzBdLnJlc3VsdF9lbnRyeV9ub3RlOwogICAgICB0aGlzLmRhdGFMaXN0ID0gZmFsc2U7CiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2U7CiAgICAgIHRoaXMuZGF0YUxpc3QgPSB0cnVlOwogICAgfSwKICAgIHJlc3VsdFN1Ym1pdDogZnVuY3Rpb24gcmVzdWx0U3VibWl0KCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczguc3VibWl0dGVkID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM4LmN1cnJlbnRfc2FtcGxlX2NvbGxlY3Rpb25faWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM4LnRlc3RQYXJhbWV0ZXJMaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNhbXBsZV9jb2xsZWN0aW9uX2lkID0gX3RoaXM4LmN1cnJlbnRfc2FtcGxlX2NvbGxlY3Rpb25faWQ7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzOC5yZXF1cmVkID0gIiI7CgogICAgICAgICAgICAgICAgX3RoaXM4LnRlc3RQYXJhbWV0ZXJMaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZXN1bHRfZW50cnlfbm90ZSA9IF90aGlzOC5pbnZlc3RpZ2F0aW9uU2FtcGxlRGlhZ25vc2lzLnJlc3VsdF9lbnRyeV9ub3RlOwoKICAgICAgICAgICAgICAgICAgaWYgKCFlbGVtZW50LmFjdHVhbF9yZXN1bHRfdmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczgucmVxdXJlZCA9ICJyZXF1aXJlZCI7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmICghX3RoaXM4LnJlcXVyZWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzOC4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJSZXF1aXJlZCIsCiAgICAgICAgICAgICAgICAgIGRldGFpbDogIlBsZWFzZSBmaWxsIGluIHRoZSByZXF1aXJlZCBmaWVsZHMiLAogICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczguaW52ZXN0aWdhdGlvblNhbXBsZURpYWdub3Npc1NlcnZpY2Uuc2F2ZURpYWdub3Npc1Jlc3VsdChfdGhpczgudGVzdFBhcmFtZXRlckxpc3QsIF90aGlzOCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXM4LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIlN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogIlN1Y2Nlc3NmdWxseSBTYXZlZCIsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczgucmVzZXQoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOC4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRmFpbGQiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LnJlcywKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZW5kVG9WZXJpZnk6IGZ1bmN0aW9uIHNlbmRUb1ZlcmlmeShkYXRhKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOS5pbnZlc3RpZ2F0aW9uU2FtcGxlRGlhZ25vc2lzU2VydmljZS5zZW5kUmVzdWx0VG9WZXJpZnkoZGF0YS5zYW1wbGVfY29sbGVjdGlvbl9pZCwgX3RoaXM5KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpczkuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiU2VuZCB0byBWZXJpZnkiLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXM5LnJlc2V0KCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczkuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxkIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHJlc3VsdC5yZXMsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUodmFsdWUpIHsKICAgICAgcmV0dXJuIG1vbWVudChTdHJpbmcodmFsdWUpKS5mb3JtYXQoIk1NL0REL1lZWVkgaDptbTpzcyBhIik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["F:/SVN PROJECTS/DiagnosticCenterManagement_Client/trunk/src/scripts/collection-zone/InvestigationSampleDiagnosis.js"],"names":["CommonService","TestParameterSetupService","InvestigationSampleDiagnosisService","moment","FilterMatchMode","FilterOperator","data","dataList","testParameterList","investigationSampleDiagnosisList","diagnosisInvestigationStatusList","investigationSampleDiagnosis","cdfromdate","String","Date","setDate","getDate","format","cdtodate","investigation_status","submitted","filters","global","value","matchMode","CONTAINS","name","STARTS_WITH","initFilters","operator","AND","constraints","created","testParameterSetupService","investigationSampleDiagnosisService","commonService","GetDiagnosisInvestigationStatus","then","show","methods","reset","fromdate","todate","getDynamic","resultSubmitConfirm","$confirm","require","message","header","icon","accept","resultSubmit","reject","resultEditConfirm","sendToVerifyConfirm","sendToVerify","findBarcode","aDiagnosis","filter","el","barcode_or_level","barcode","console","log","result","current_sample_collection_id","sample_collection_id","getById","investigation_id","diagnosisName","_investingation_name","patientName","aPatient","first_name","last_name","patientContact","contact_no","patientRegistration","registration_no","resultEdit","getDiagnosisResultById","getParameterFormatted","result_entry_note","cancel","forEach","element","requred","actual_result_value","$toast","add","severity","summary","detail","life","saveDiagnosisResult","status","res","sendResultToVerify","formatDate"],"mappings":"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","sourcesContent":["import CommonService from \"../../service/CommonService\";\r\nimport TestParameterSetupService from \"../../service/setup/TestParameterSetupService\";\r\nimport InvestigationSampleDiagnosisService from \"../../service/collection-zone/InvestigationSampleDiagnosisService\";\r\nimport moment from \"moment\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      dataList: true,\r\n      testParameterList: [],\r\n      investigationSampleDiagnosisList: [],\r\n      diagnosisInvestigationStatusList: [],\r\n      investigationSampleDiagnosis: {\r\n        cdfromdate: moment(\r\n          String(new Date(new Date().setDate(new Date().getDate() - 7)))\r\n        ).format(\"MM/DD/YYYY\"),\r\n        cdtodate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n        investigation_status: \"Waiting for Result\",\r\n      },\r\n      submitted: false,\r\n      filters: {\r\n        global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        name: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      initFilters() {\r\n        this.filters = {\r\n          global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n          name: {\r\n            operator: FilterOperator.AND,\r\n            constraints: [\r\n              { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            ],\r\n          },\r\n        };\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.testParameterSetupService = new TestParameterSetupService();\r\n    this.investigationSampleDiagnosisService =\r\n      new InvestigationSampleDiagnosisService();\r\n    this.commonService = new CommonService();\r\n\r\n    this.commonService\r\n      .GetDiagnosisInvestigationStatus()\r\n      .then((data) => (this.diagnosisInvestigationStatusList = data.data));\r\n\r\n    this.show();\r\n  },\r\n  methods: {\r\n    reset() {\r\n      // this.investigationSampleDiagnosis = {\r\n      //   cdfromdate: moment(\r\n      //     String(new Date(new Date().setDate(new Date().getDate() - 7)))\r\n      //   ).format(\"MM/DD/YYYY\"),\r\n      //   cdtodate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n      //   investigation_status: \"Waiting for Result\",\r\n      // };\r\n      this.dataList = true;\r\n      this.submitted = false;\r\n\r\n      this.show();\r\n    },\r\n    show() {\r\n      this.submitted = true;\r\n      if (!this.investigationSampleDiagnosis.cdfromdate) {\r\n        return;\r\n      } else if (!this.investigationSampleDiagnosis.cdtodate) {\r\n        return;\r\n      } else if (!this.investigationSampleDiagnosis.investigation_status) {\r\n        return;\r\n      } else {\r\n        this.investigationSampleDiagnosis.fromdate = moment(\r\n          String(this.investigationSampleDiagnosis.cdfromdate)\r\n        ).format(\"YYYY-MM-DD\");\r\n        this.investigationSampleDiagnosis.todate = moment(\r\n          String(this.investigationSampleDiagnosis.cdtodate)\r\n        ).format(\"YYYY-MM-DD\");\r\n        this.investigationSampleDiagnosisService\r\n          .getDynamic(\r\n            this.investigationSampleDiagnosis.fromdate,\r\n            this.investigationSampleDiagnosis.todate,\r\n            this.investigationSampleDiagnosis.investigation_status\r\n          )\r\n          .then((data) => (this.investigationSampleDiagnosisList = data.data));\r\n      }\r\n\r\n      this.submitted = true;\r\n    },\r\n    resultSubmitConfirm() {\r\n      this.$confirm.require({\r\n        message: \"Are you want to sure submit result?\",\r\n        header: \"Confirmation\",\r\n        icon: \"pi pi-exclamation-triangle\",\r\n        accept: () => {\r\n          this.resultSubmit();\r\n        },\r\n        reject: () => {\r\n          return;\r\n        },\r\n      });\r\n    },\r\n    resultEditConfirm() {\r\n      this.$confirm.require({\r\n        message: \"Are you want to sure edit result?\",\r\n        header: \"Confirmation\",\r\n        icon: \"pi pi-exclamation-triangle\",\r\n        accept: () => {\r\n          this.resultSubmit();\r\n        },\r\n        reject: () => {\r\n          return;\r\n        },\r\n      });\r\n    },\r\n    sendToVerifyConfirm(data) {\r\n      this.$confirm.require({\r\n        message: \"Are you want to sure send to verify?\",\r\n        header: \"Confirmation\",\r\n        icon: \"pi pi-exclamation-triangle\",\r\n        accept: () => {\r\n          this.sendToVerify(data);\r\n        },\r\n        reject: () => {\r\n          return;\r\n        },\r\n      });\r\n    },\r\n    findBarcode(){\r\n       var aDiagnosis = this.investigationSampleDiagnosisList.filter(function (el) {\r\n        return el.barcode_or_level == this.investigationSampleDiagnosis.barcode;\r\n      }, this)[0];\r\n      console.log(aDiagnosis);\r\n      if(aDiagnosis){\r\n        this.result(aDiagnosis);\r\n      }\r\n    },\r\n    result(data) {\r\n      this.current_sample_collection_id = data.sample_collection_id;\r\n      this.testParameterSetupService\r\n        .getById(data.investigation_id)\r\n        .then((data) => (this.testParameterList = data.data));\r\n\r\n      this.diagnosisName = data._investingation_name;\r\n      this.patientName = data.aPatient.first_name + \" \" + data.aPatient.last_name;\r\n      this.patientContact = data.aPatient.contact_no;\r\n      this.patientRegistration = data.aPatient.registration_no;\r\n      this.dataList = false;\r\n    },\r\n    resultEdit(data) {\r\n      this.investigationSampleDiagnosisService\r\n        .getDiagnosisResultById(data.sample_collection_id)\r\n        .then((data) => this.getParameterFormatted(data));\r\n        this.diagnosisName = data._investingation_name;\r\n        this.patientName = data.aPatient.first_name + data.aPatient.last_name;\r\n    },\r\n    getParameterFormatted(data) {\r\n      this.testParameterList = data.data;\r\n      this.investigationSampleDiagnosis.result_entry_note =\r\n        data.data[0].result_entry_note;\r\n        \r\n      this.dataList = false;\r\n    },\r\n    cancel() {\r\n      this.submitted = false;\r\n      this.dataList = true;\r\n    },\r\n    async resultSubmit() {\r\n      this.submitted = true;\r\n      if (this.current_sample_collection_id) {\r\n        this.testParameterList.forEach((element) => {\r\n          element.sample_collection_id = this.current_sample_collection_id;\r\n        });\r\n      }\r\n      this.requred = \"\";\r\n      this.testParameterList.forEach((element) => {\r\n        element.result_entry_note =\r\n          this.investigationSampleDiagnosis.result_entry_note;\r\n        if (!element.actual_result_value) {\r\n          this.requred = \"required\";\r\n        }\r\n      });\r\n\r\n      if (this.requred) {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Required\",\r\n          detail: \"Please fill in the required fields\",\r\n          life: 10000,\r\n        });\r\n        return;\r\n      } else {\r\n        let result =\r\n          await this.investigationSampleDiagnosisService.saveDiagnosisResult(\r\n            this.testParameterList, this\r\n          );\r\n        if (result.status === 200) {\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Success\",\r\n            detail: \"Successfully Saved\",\r\n            life: 10000,\r\n          });\r\n          this.reset();\r\n        } else {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Faild\",\r\n            detail: result.res,\r\n            life: 10000,\r\n          });\r\n        }\r\n      }\r\n    },\r\n    async sendToVerify(data) {\r\n      let result =\r\n        await this.investigationSampleDiagnosisService.sendResultToVerify(\r\n          data.sample_collection_id, this\r\n        );\r\n      if (result.status === 200) {\r\n        this.$toast.add({\r\n          severity: \"success\",\r\n          summary: \"Success\",\r\n          detail: \"Send to Verify\",\r\n          life: 10000,\r\n        });\r\n        this.reset();\r\n      } else {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Faild\",\r\n          detail: result.res,\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n    formatDate(value) {\r\n      return moment(String(value)).format(\"MM/DD/YYYY h:mm:ss a\");\r\n    },\r\n  },\r\n};"]}]}