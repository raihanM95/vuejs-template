{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\security\\RolePermission.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\security\\RolePermission.js","mtime":1643521418768},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9FUlBfSG9zcGl0YWxfQ2xpZW50L3RydW5rL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmVudHJpZXMuanMiOwppbXBvcnQgUm9sZVNldHVwU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL3NlY3VyaXR5L1JvbGVTZXR1cFNlcnZpY2UiOwppbXBvcnQgUm9sZVBlcm1pc3Npb25TZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2Uvc2VjdXJpdHkvUm9sZVBlcm1pc3Npb25TZXJ2aWNlIjsKaW1wb3J0IE1lbnVTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2Uvc2VjdXJpdHkvTWVudVNlcnZpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdGVkVHJlZVZhbHVlOiBudWxsLAogICAgICByb2xlTGlzdDogW10sCiAgICAgIG1lbnVMaXN0OiBbXSwKICAgICAgdHJlZU1lbnVMaXN0OiBbXSwKICAgICAgcm9sZVBlcm1pc3Npb246IHt9LAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5yb2xlU2V0dXBTZXJ2aWNlID0gbmV3IFJvbGVTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMucm9sZVBlcm1pc3Npb25TZXJ2aWNlID0gbmV3IFJvbGVQZXJtaXNzaW9uU2VydmljZSgpOwogICAgdGhpcy5tZW51U2VydmljZSA9IG5ldyBNZW51U2VydmljZSgpOwogICAgdGhpcy5yb2xlU2V0dXBTZXJ2aWNlLmdldEFsbCh0aGlzKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5yb2xlTGlzdCA9IGRhdGEuZGF0YTsKICAgIH0pOyAvL3RoaXMucm9sZVBlcm1pc3Npb25TZXJ2aWNlLmdldEFsbCgpLnRoZW4oKGRhdGEpID0+ICh0aGlzLm1lbnVMaXN0ID1KU09OLnBhcnNlKGRhdGEuZGF0YS5kYXRhKSkpOwoKICAgIHRoaXMubWVudVNlcnZpY2UuZ2V0QWxsTW9kdWxlQnlQZXJtaXNzaW9uV2lzZSh0aGlzKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5tZW51TGlzdCA9IEpTT04ucGFyc2UoZGF0YS5kYXRhLmRhdGEpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmaWx0ZXJSb2xlOiBmdW5jdGlvbiBmaWx0ZXJSb2xlKCkgewogICAgICByZXR1cm4gdGhpcy5yb2xlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgcmV0dXJuIGVsLnJvbGVfaWQgIT0gNzsKICAgICAgfSwgdGhpcyk7CiAgICB9LAogICAgbG9hZFJvbGVNZW51OiBmdW5jdGlvbiBsb2FkUm9sZU1lbnUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5tZW51U2VydmljZS5nZXRNZW51QnlSb2xlSWQoX3RoaXMyLnJvbGVQZXJtaXNzaW9uLnJvbGVfaWQsIF90aGlzMik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLmRhdGEubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5zZWxlY3RlZFRyZWVWYWx1ZSA9IHt9OwogICAgICAgICAgICAgICAgICBKU09OLnBhcnNlKHJlc3VsdC5kYXRhLmRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2VsZWN0ZWRUcmVlVmFsdWVbZWxlbWVudC5JRF0gPSB7CiAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgcGFydGlhbENoZWNrZWQ6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczIuc2VsZWN0ZWRUcmVlVmFsdWUgPSB7fTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIudHJlZU1lbnVMaXN0ID0gW107CgogICAgICAgICAgICAgICAgX3RoaXMyLm1lbnVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuUGFyZW50SUQgPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgYU1lbnUgPSB7CiAgICAgICAgICAgICAgICAgICAgICBrZXk6IGVsZW1lbnQuSUQsCiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZWxlbWVudC5UZXh0LAogICAgICAgICAgICAgICAgICAgICAgZGF0YTogZWxlbWVudC5UZXh0LAogICAgICAgICAgICAgICAgICAgICAgaWNvbjogZWxlbWVudC5DTEFTUwogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIF90aGlzMi50cmVlTWVudUxpc3QucHVzaChhTWVudSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF90aGlzMi50cmVlTWVudUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSBbXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5tZW51TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50MSkgewogICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmtleSA9PSBlbGVtZW50MS5QYXJlbnRJRCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGFNZW51ID0gewogICAgICAgICAgICAgICAgICAgICAgICBrZXk6IGVsZW1lbnQxLklELAogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZWxlbWVudDEuVGV4dCwKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZWxlbWVudDEuVGV4dCwKICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogZWxlbWVudDEuQ0xBU1MKICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKGFNZW51KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50MSkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1zMiA9IFtdOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5tZW51TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50MikgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudDEua2V5ID09IGVsZW1lbnQyLlBhcmVudElEKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFhTWVudSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogZWxlbWVudDIuSUQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZWxlbWVudDIuVGV4dCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGVsZW1lbnQyLlRleHQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBlbGVtZW50Mi5DTEFTUwogICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMyLnB1c2goYWFNZW51KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1zMi5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDEuY2hpbGRyZW4gPSBpdGVtczI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDEuaGFzU3ViTWVudSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2hpbGRyZW4gPSBpdGVtczsKICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lmhhc1N1Yk1lbnUgPSB0cnVlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHNlbGVjdGVkbWVudSwgYXJyYXksIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMzLnJvbGVQZXJtaXNzaW9uLnJvbGVfaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc2VsZWN0ZWRtZW51ID0gW107CiAgICAgICAgICAgICAgICBhcnJheSA9IE9iamVjdC5lbnRyaWVzKF90aGlzMy5zZWxlY3RlZFRyZWVWYWx1ZSk7CiAgICAgICAgICAgICAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50WzFdLmNoZWNrZWQgfHwgZWxlbWVudFsxXS5wYXJ0aWFsQ2hlY2tlZCkgewogICAgICAgICAgICAgICAgICAgIHZhciBhc2VsZWN0ZWRtZW51ID0gewogICAgICAgICAgICAgICAgICAgICAgbWVudV9pZDogZWxlbWVudFswXSwKICAgICAgICAgICAgICAgICAgICAgIHJvbGVfaWQ6IF90aGlzMy5yb2xlUGVybWlzc2lvbi5yb2xlX2lkLAogICAgICAgICAgICAgICAgICAgICAgaGFzX2RlbGV0ZVBlcm1pc3Npb246IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICBoYXNfaW5zZXJ0UGVybWlzc2lvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgIGhhc191cGRhdGVQZXJtaXNzaW9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZG1lbnUucHVzaChhc2VsZWN0ZWRtZW51KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKCEoc2VsZWN0ZWRtZW51Lmxlbmd0aCA9PSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMy4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZWQiLAogICAgICAgICAgICAgICAgICBkZXRhaWw6ICJBZGQgUGVybWlzc2lvbiIsCiAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLm1lbnVTZXJ2aWNlLmFkTWVudVBlcm1pc3Npb24oc2VsZWN0ZWRtZW51LCBfdGhpczMpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiU2F2ZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRXJyb3IiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LmRhdGEsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczMuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxNDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgICBfdGhpczMuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRmFpbGVkIiwKICAgICAgICAgICAgICAgICAgZGV0YWlsOiBfY29udGV4dDIudDAsCiAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1swLCAxNF1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/security/RolePermission.js"],"names":["RoleSetupService","RolePermissionService","MenuService","data","selectedTreeValue","roleList","menuList","treeMenuList","rolePermission","submitted","created","roleSetupService","rolePermissionService","menuService","getAll","then","getAllModuleByPermissionWise","JSON","parse","methods","filterRole","filter","el","role_id","loadRoleMenu","getMenuByRoleId","result","length","forEach","element","ID","checked","partialChecked","ParentID","aMenu","key","label","Text","icon","CLASS","push","items","element1","items2","element2","aaMenu","children","hasSubMenu","save","selectedmenu","array","Object","entries","aselectedmenu","menu_id","has_deletePermission","has_insertPermission","has_updatePermission","$toast","add","severity","summary","detail","life","adMenuPermission","status","res"],"mappings":"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","sourcesContent":["import RoleSetupService from \"../../service/security/RoleSetupService\";\r\nimport RolePermissionService from \"../../service/security/RolePermissionService\";\r\nimport MenuService from \"../../service/security/MenuService\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      selectedTreeValue: null,\r\n      roleList: [],\r\n      menuList: [],\r\n      treeMenuList: [],\r\n      rolePermission: {},\r\n      submitted: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.roleSetupService = new RoleSetupService();\r\n    this.rolePermissionService = new RolePermissionService();\r\n    this.menuService = new MenuService();\r\n\r\n    this.roleSetupService.getAll(this).then((data) => (this.roleList = data.data));\r\n    //this.rolePermissionService.getAll().then((data) => (this.menuList =JSON.parse(data.data.data)));\r\n    this.menuService.getAllModuleByPermissionWise(this).then((data) => (this.menuList =JSON.parse(data.data.data)));\r\n  },\r\n  methods: {\r\n    filterRole(){\r\n      return this.roleList.filter(function (el) {\r\n        return el.role_id != 7;\r\n      }, this);\r\n    },\r\n    async loadRoleMenu() {\r\n      let result = await this.menuService.getMenuByRoleId(\r\n        this.rolePermission.role_id, this\r\n      );\r\n      if (result.data.data.length) {\r\n        this.selectedTreeValue = {};\r\n        JSON.parse(result.data.data).forEach((element) => {\r\n          this.selectedTreeValue[element.ID] = {\r\n            checked: true,\r\n            partialChecked: false,\r\n          };\r\n        });\r\n      } else {\r\n        this.selectedTreeValue = {};\r\n      }\r\n\r\n      this.treeMenuList = [];\r\n      this.menuList.forEach((element) => {\r\n        if (element.ParentID == \"\") {\r\n          var aMenu = {\r\n            key: element.ID,\r\n            label: element.Text,\r\n            data: element.Text,\r\n            icon: element.CLASS,\r\n          };\r\n          this.treeMenuList.push(aMenu);\r\n        }\r\n      });\r\n      this.treeMenuList.forEach((element) => {\r\n        var items = [];\r\n        this.menuList.forEach((element1) => {\r\n          if (element.key == element1.ParentID) {\r\n            var aMenu = {\r\n              key: element1.ID,\r\n              label: element1.Text,\r\n              data: element1.Text,\r\n              icon: element1.CLASS,\r\n            };\r\n            items.push(aMenu);\r\n          }\r\n        });\r\n        if (items.length > 0) {\r\n          items.forEach((element1) => {\r\n            var items2 = [];\r\n            this.menuList.forEach((element2) => {\r\n              if (element1.key == element2.ParentID) {\r\n                var aaMenu = {\r\n                  key: element2.ID,\r\n                  label: element2.Text,\r\n                  data: element2.Text,\r\n                  icon: element2.CLASS,\r\n                };\r\n                items2.push(aaMenu);\r\n              }\r\n              if (items2.length > 0) {\r\n                element1.children = items2;\r\n                element1.hasSubMenu = true;\r\n              }\r\n            });\r\n          });\r\n\r\n          element.children = items;\r\n          element.hasSubMenu = true;\r\n        }\r\n      });\r\n    },\r\n\r\n    async save() {\r\n      try {\r\n        if (this.rolePermission.role_id) {\r\n          var selectedmenu = [];\r\n          var array = Object.entries(this.selectedTreeValue);\r\n          array.forEach((element) => {\r\n            if (element[1].checked || element[1].partialChecked) {\r\n              var aselectedmenu = {\r\n                menu_id: element[0],\r\n                role_id: this.rolePermission.role_id,\r\n                has_deletePermission: true,\r\n                has_insertPermission: true,\r\n                has_updatePermission: true,\r\n              };\r\n              selectedmenu.push(aselectedmenu);\r\n            }\r\n          });\r\n          if (selectedmenu.length == 0) {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Failed\",\r\n              detail: \"Add Permission\",\r\n              life: 10000,\r\n            });\r\n            return;\r\n          }\r\n          let result = await this.menuService.adMenuPermission(selectedmenu, this);\r\n          if (result.status === 201) {\r\n            this.$toast.add({\r\n              severity: \"success\",\r\n              summary: \"Success\",\r\n              detail: \"Saved Successfully\",\r\n              life: 10000,\r\n            });\r\n          } else if (result.status === 401) {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Error\",\r\n              detail: result.data,\r\n              life: 10000,\r\n            });\r\n          } else {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Failed\",\r\n              detail: result.res,\r\n              life: 10000,\r\n            });\r\n          }\r\n        }\r\n      } catch (error) {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Failed\",\r\n          detail: error,\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n  },\r\n};"]}]}