{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\collection-zone\\InvestigationResultVerification.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\collection-zone\\InvestigationResultVerification.js","mtime":1684841701928},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\babel.config.js","mtime":1624271518206},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9FUlBfSG9zcGl0YWxfQ2xpZW50L3RydW5rL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0IENvbW1vblNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9Db21tb25TZXJ2aWNlIjsKaW1wb3J0IFRlc3RQYXJhbWV0ZXJTZXR1cFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9zZXR1cC9UZXN0UGFyYW1ldGVyU2V0dXBTZXJ2aWNlIjsKaW1wb3J0IEludmVzdGlnYXRpb25TYW1wbGVEaWFnbm9zaXNTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvY29sbGVjdGlvbi16b25lL0ludmVzdGlnYXRpb25TYW1wbGVEaWFnbm9zaXNTZXJ2aWNlIjsKaW1wb3J0IEludmVzdGlnYXRpb25SZXN1bHRWZXJpZmljYXRpb25TZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvY29sbGVjdGlvbi16b25lL0ludmVzdGlnYXRpb25SZXN1bHRWZXJpZmljYXRpb25TZXJ2aWNlIjsKaW1wb3J0IERpYWdub3Npc1JlcG9ydFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9yZXBvcnQvRGlhZ25vc2lzUmVwb3J0U2VydmljZSI7IC8vaW1wb3J0IFJlcG9ydFN1cHBvcnRTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvcmVwb3J0L1JlcG9ydFN1cHBvcnRTZXJ2aWNlIjsKCmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IHsgRmlsdGVyTWF0Y2hNb2RlLCBGaWx0ZXJPcGVyYXRvciB9IGZyb20gInByaW1ldnVlL2FwaSI7CmltcG9ydCBDbGFzc2ljRWRpdG9yIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtYnVpbGQtY2xhc3NpYyc7CmltcG9ydCBHbG9iYWxTZXR0aW5nc1NlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9zZWN1cml0eS9HbG9iYWxTZXR0aW5nc1NlcnZpY2UiOwppbXBvcnQgRW1wbG95ZWVTZXR1cFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9zZXR1cC9FbXBsb3llZVNldHVwU2VydmljZSI7CmltcG9ydCBEb2N0b3JTZXR1cFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9zZXR1cC9Eb2N0b3JTZXR1cFNlcnZpY2UiOwppbXBvcnQgUGVuZGluZ1NhbXBsZUNvbGxlY3Rpb25TZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvY29sbGVjdGlvbi16b25lL1BlbmRpbmdTYW1wbGVDb2xsZWN0aW9uU2VydmljZSI7IC8vIGltcG9ydCBFc3NlbnRpYWxzUGx1Z2luIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtZXNzZW50aWFscy9zcmMvZXNzZW50aWFscyc7Ci8vIGltcG9ydCBCb2xkUGx1Z2luIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtYmFzaWMtc3R5bGVzL3NyYy9ib2xkJzsKLy8gaW1wb3J0IEl0YWxpY1BsdWdpbiBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LWJhc2ljLXN0eWxlcy9zcmMvaXRhbGljJzsKLy8gaW1wb3J0IExpbmtQbHVnaW4gZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS1saW5rL3NyYy9saW5rJzsKLy8gaW1wb3J0IFBhcmFncmFwaFBsdWdpbiBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXBhcmFncmFwaC9zcmMvcGFyYWdyYXBoJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVwb3J0TGlzdDogW10sCiAgICAgIHJlcG9ydExpc3REaWFsb2c6IGZhbHNlLAogICAgICBlZGl0b3I6IENsYXNzaWNFZGl0b3IsCiAgICAgIGVkaXRvckRhdGE6ICcnLAogICAgICBlZGl0b3JDb25maWc6IHsvLyBUaGUgY29uZmlndXJhdGlvbiBvZiB0aGUgZWRpdG9yLgogICAgICAgIC8vIHBsdWdpbnM6IFsKICAgICAgICAvLyAgIEVzc2VudGlhbHNQbHVnaW4sCiAgICAgICAgLy8gICBCb2xkUGx1Z2luLAogICAgICAgIC8vICAgSXRhbGljUGx1Z2luLAogICAgICAgIC8vICAgTGlua1BsdWdpbiwKICAgICAgICAvLyAgIFBhcmFncmFwaFBsdWdpbgogICAgICAgIC8vIF0sCiAgICAgICAgLy8gdG9vbGJhcjogewogICAgICAgIC8vICAgaXRlbXM6IFsKICAgICAgICAvLyAgICAgJ2JvbGQnLAogICAgICAgIC8vICAgICAnaXRhbGljJywKICAgICAgICAvLyAgICAgJ2xpbmsnLAogICAgICAgIC8vICAgICAndW5kbycsCiAgICAgICAgLy8gICAgICdyZWRvJwogICAgICAgIC8vICAgXQogICAgICAgIC8vIH0KICAgICAgfSwKICAgICAgdmFsdWUxOiAnJywKICAgICAgaXNSZXBvcnRFZGl0OiBmYWxzZSwKICAgICAgLy9zaG93UmVwb3J0RGlhbG9nOiBmYWxzZSwKICAgICAgZGF0YUxpc3Q6IHRydWUsCiAgICAgIHRlc3RQYXJhbWV0ZXJMaXN0OiBbXSwKICAgICAgLy90ZW1wbGF0ZUxpc3Q6IFtdLAogICAgICBpbnZlc3RpZ2F0aW9uUmVzdWx0VmVyaWZpY2F0aW9uTGlzdDogW10sCiAgICAgIGRpYWdub3Npc0ludmVzdGlnYXRpb25TdGF0dXNMaXN0OiBbXSwKICAgICAgaW52ZXN0aWdhdGlvblJlc3VsdFZlcmlmaWNhdGlvbjogewogICAgICAgIC8vIGNkZnJvbWRhdGU6IG1vbWVudCgKICAgICAgICAvLyAgIFN0cmluZyhuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkgLSA3KSkpCiAgICAgICAgLy8gKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgICBjZGZyb21kYXRlOiBtb21lbnQoU3RyaW5nKG5ldyBEYXRlKCkpKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgICBjZHRvZGF0ZTogbW9tZW50KFN0cmluZyhuZXcgRGF0ZSgpKSkuZm9ybWF0KCJNTS9ERC9ZWVlZIiksCiAgICAgICAgaW52ZXN0aWdhdGlvbl9zdGF0dXM6ICJXYWl0aW5nIGZvciBBcHByb3ZhbCIKICAgICAgfSwKICAgICAgc3VibWl0dGVkOiBmYWxzZSwKICAgICAgZmlsdGVyczogewogICAgICAgIGdsb2JhbDogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgIH0sCiAgICAgICAgbmFtZTogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5TVEFSVFNfV0lUSAogICAgICAgIH0KICAgICAgfSwKICAgICAgaW5pdEZpbHRlcnM6IGZ1bmN0aW9uIGluaXRGaWx0ZXJzKCkgewogICAgICAgIHRoaXMuZmlsdGVycyA9IHsKICAgICAgICAgIGdsb2JhbDogewogICAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuQ09OVEFJTlMKICAgICAgICAgIH0sCiAgICAgICAgICBuYW1lOiB7CiAgICAgICAgICAgIG9wZXJhdG9yOiBGaWx0ZXJPcGVyYXRvci5BTkQsCiAgICAgICAgICAgIGNvbnN0cmFpbnRzOiBbewogICAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLlNUQVJUU19XSVRICiAgICAgICAgICAgIH1dCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSwKICAgICAgZ2xvYmFsU2V0dGluZzoge30sCiAgICAgIGFwcHJvdmFsQXNzaWduRGlhbG9nOiBmYWxzZSwKICAgICAgYXNzaWduQnlMaXN0OiBbXSwKICAgICAgcmVzdWx0VmVyaWZpY2F0aW9uT2JqOiB7fQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMudGVzdFBhcmFtZXRlclNldHVwU2VydmljZSA9IG5ldyBUZXN0UGFyYW1ldGVyU2V0dXBTZXJ2aWNlKCk7CiAgICB0aGlzLmludmVzdGlnYXRpb25TYW1wbGVEaWFnbm9zaXNTZXJ2aWNlID0gbmV3IEludmVzdGlnYXRpb25TYW1wbGVEaWFnbm9zaXNTZXJ2aWNlKCk7CiAgICB0aGlzLmludmVzdGlnYXRpb25SZXN1bHRWZXJpZmljYXRpb25TZXJ2aWNlID0gbmV3IEludmVzdGlnYXRpb25SZXN1bHRWZXJpZmljYXRpb25TZXJ2aWNlKCk7CiAgICB0aGlzLmNvbW1vblNlcnZpY2UgPSBuZXcgQ29tbW9uU2VydmljZSgpOwogICAgdGhpcy5kaWFnbm9zaXNSZXBvcnRTZXJ2aWNlID0gbmV3IERpYWdub3Npc1JlcG9ydFNlcnZpY2UoKTsgLy90aGlzLnJlcG9ydFN1cHBvcnRTZXJ2aWNlID0gbmV3IFJlcG9ydFN1cHBvcnRTZXJ2aWNlKCk7CgogICAgdGhpcy5nbG9iYWxTZXR0aW5nc1NlcnZpY2UgPSBuZXcgR2xvYmFsU2V0dGluZ3NTZXJ2aWNlKCk7CiAgICB0aGlzLmVtcGxveWVlU2V0dXBTZXJ2aWNlID0gbmV3IEVtcGxveWVlU2V0dXBTZXJ2aWNlKCk7CiAgICB0aGlzLmRvY3RvclNldHVwU2VydmljZSA9IG5ldyBEb2N0b3JTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMucGVuZGluZ1NhbXBsZUNvbGxlY3Rpb25TZXJ2aWNlID0gbmV3IFBlbmRpbmdTYW1wbGVDb2xsZWN0aW9uU2VydmljZSgpOwogICAgdGhpcy5jb21tb25TZXJ2aWNlLkdldFJlc3VsdFZlcmlmaWNhdGlvbkludmVzdGlnYXRpb25TdGF0dXMoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5kaWFnbm9zaXNJbnZlc3RpZ2F0aW9uU3RhdHVzTGlzdCA9IGRhdGEuZGF0YTsKICAgIH0pOyAvLyB0aGlzLnJlcG9ydFN1cHBvcnRTZXJ2aWNlCiAgICAvLyAgIC5HZXRSZXBvcnRUZW1wbGF0ZUxpc3QoKQogICAgLy8gICAudGhlbigoZGF0YSkgPT4gKHRoaXMudGVtcGxhdGVMaXN0ID0gZGF0YS5kYXRhKSk7CgogICAgdGhpcy5nbG9iYWxTZXR0aW5nc1NlcnZpY2UuZ2V0QnlTZXR0aW5nTmFtZSgiTElNUyBSZXN1bHQgQXBwcm92YWwiKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5nbG9iYWxTZXR0aW5nID0gZGF0YS5kYXRhOwogICAgfSk7CiAgICB0aGlzLmRvY3RvclNldHVwU2VydmljZS5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5tZXJnZURvY3RvckluZm8oZGF0YS5kYXRhKTsKICAgIH0pOwogICAgdGhpcy5lbXBsb3llZVNldHVwU2VydmljZS5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5tZXJnZUVtcGxveWVlSW5mbyhkYXRhLmRhdGEpOwogICAgfSk7CiAgICB0aGlzLnNob3coKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgLy8gdGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0VmVyaWZpY2F0aW9uID0gewogICAgICAvLyAgIGNkZnJvbWRhdGU6IG1vbWVudCgKICAgICAgLy8gICAgIFN0cmluZyhuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkgLSA3KSkpCiAgICAgIC8vICAgKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgLy8gICBjZHRvZGF0ZTogbW9tZW50KFN0cmluZyhuZXcgRGF0ZSgpKSkuZm9ybWF0KCJNTS9ERC9ZWVlZIiksCiAgICAgIC8vICAgaW52ZXN0aWdhdGlvbl9zdGF0dXM6ICJXYWl0aW5nIGZvciBBcHByb3ZhbCIsCiAgICAgIC8vIH07CiAgICAgIHRoaXMuZGF0YUxpc3QgPSB0cnVlOwogICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgICB0aGlzLnNob3coKTsKICAgIH0sCiAgICBzaG93OiBmdW5jdGlvbiBzaG93KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKCiAgICAgIGlmICghdGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0VmVyaWZpY2F0aW9uLmNkZnJvbWRhdGUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaW52ZXN0aWdhdGlvblJlc3VsdFZlcmlmaWNhdGlvbi5jZHRvZGF0ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICghdGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0VmVyaWZpY2F0aW9uLmludmVzdGlnYXRpb25fc3RhdHVzKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaW52ZXN0aWdhdGlvblJlc3VsdFZlcmlmaWNhdGlvbi5mcm9tZGF0ZSA9IG1vbWVudChTdHJpbmcodGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0VmVyaWZpY2F0aW9uLmNkZnJvbWRhdGUpKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgICB0aGlzLmludmVzdGlnYXRpb25SZXN1bHRWZXJpZmljYXRpb24udG9kYXRlID0gbW9tZW50KFN0cmluZyh0aGlzLmludmVzdGlnYXRpb25SZXN1bHRWZXJpZmljYXRpb24uY2R0b2RhdGUpKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgICB0aGlzLmludmVzdGlnYXRpb25SZXN1bHRWZXJpZmljYXRpb25TZXJ2aWNlLmdldER5bmFtaWModGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0VmVyaWZpY2F0aW9uLmZyb21kYXRlLCB0aGlzLmludmVzdGlnYXRpb25SZXN1bHRWZXJpZmljYXRpb24udG9kYXRlLCB0aGlzLmludmVzdGlnYXRpb25SZXN1bHRWZXJpZmljYXRpb24uaW52ZXN0aWdhdGlvbl9zdGF0dXMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBfdGhpczIuaW52ZXN0aWdhdGlvblJlc3VsdFZlcmlmaWNhdGlvbkxpc3QgPSBkYXRhLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKICAgIH0sCiAgICByZXN1bHRBcHByb3ZlQ29uZmlybTogZnVuY3Rpb24gcmVzdWx0QXBwcm92ZUNvbmZpcm0oZGF0YSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0ucmVxdWlyZSh7CiAgICAgICAgbWVzc2FnZTogIkFyZSB5b3Ugd2FudCB0byBzdXJlIHJlc3VsdCBhcHByb3ZlPyIsCiAgICAgICAgaGVhZGVyOiAiQ29uZmlybWF0aW9uIiwKICAgICAgICBpY29uOiAicGkgcGktZXhjbGFtYXRpb24tdHJpYW5nbGUiLAogICAgICAgIGFjY2VwdDogZnVuY3Rpb24gYWNjZXB0KCkgewogICAgICAgICAgX3RoaXMzLnJlc3VsdEFwcHJvdmUoZGF0YSk7CiAgICAgICAgfSwKICAgICAgICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdCgpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlc3VsdFJlamVjdENvbmZpcm06IGZ1bmN0aW9uIHJlc3VsdFJlamVjdENvbmZpcm0oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybS5yZXF1aXJlKHsKICAgICAgICBtZXNzYWdlOiAiQXJlIHlvdSB3YW50IHRvIHN1cmUgcmVzdWx0IHJlamVjdD8iLAogICAgICAgIGhlYWRlcjogIkNvbmZpcm1hdGlvbiIsCiAgICAgICAgaWNvbjogInBpIHBpLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlIiwKICAgICAgICBhY2NlcHQ6IGZ1bmN0aW9uIGFjY2VwdCgpIHsKICAgICAgICAgIF90aGlzNC5yZXN1bHRSZWplY3QoKTsKICAgICAgICB9LAogICAgICAgIHJlamVjdDogZnVuY3Rpb24gcmVqZWN0KCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2VuZFRvRGlzcGF0Y2hDb25maXJtOiBmdW5jdGlvbiBzZW5kVG9EaXNwYXRjaENvbmZpcm0oZGF0YSkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmdsb2JhbFNldHRpbmcuc2V0dGluZ192YWx1ZSA9PSAiTWFudWFsIikgewogICAgICAgIHRoaXMuYXBwcm92YWxBc3NpZ24oZGF0YSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kY29uZmlybS5yZXF1aXJlKHsKICAgICAgICAgIG1lc3NhZ2U6ICJBcmUgeW91IHdhbnQgdG8gc3VyZSBzZW5kIHRvIGRpc3BhdGNoPyIsCiAgICAgICAgICBoZWFkZXI6ICJDb25maXJtYXRpb24iLAogICAgICAgICAgaWNvbjogInBpIHBpLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlIiwKICAgICAgICAgIGFjY2VwdDogZnVuY3Rpb24gYWNjZXB0KCkgewogICAgICAgICAgICBfdGhpczUuc2VuZFRvRGlzcGF0Y2goZGF0YSk7CiAgICAgICAgICB9LAogICAgICAgICAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3QoKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGFwcHJvdmFsQXNzaWduOiBmdW5jdGlvbiBhcHByb3ZhbEFzc2lnbihkYXRhKSB7CiAgICAgIHRoaXMucmVzdWx0VmVyaWZpY2F0aW9uT2JqID0gZGF0YTsKICAgICAgdGhpcy5hcHByb3ZhbEFzc2lnbkRpYWxvZyA9IHRydWU7CiAgICB9LAogICAgYWRkQXBwcm92YWxBc3NpZ246IGZ1bmN0aW9uIGFkZEFwcHJvdmFsQXNzaWduKCkgewogICAgICB0aGlzLnNlbmRUb0Rpc3BhdGNoKHRoaXMucmVzdWx0VmVyaWZpY2F0aW9uT2JqKTsKICAgICAgdGhpcy5oaWRlRGlhbG9nKCk7CiAgICB9LAogICAgbWVyZ2VEb2N0b3JJbmZvOiBmdW5jdGlvbiBtZXJnZURvY3RvckluZm8oZGF0YSkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIHZhciBvYmogPSBlbGVtZW50OwogICAgICAgIG9iai5kb2N0b3JfZGVncmVlID0gIiI7CiAgICAgICAgb2JqLmxzdENvbnN1bHRhbnREZWdyZWUuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgIG9iai5kb2N0b3JfZGVncmVlICs9IGVsLmNvbnN1bHRhbnRfZGVncmVlX25hbWUgKyAiLiAiOwogICAgICAgIH0pOwoKICAgICAgICBfdGhpczYuYXNzaWduQnlMaXN0LnB1c2goewogICAgICAgICAgZW1haWw6IGVsZW1lbnQuZW1haWwsCiAgICAgICAgICB0ZXh0OiBlbGVtZW50LmRvY19ubyArICIgLSAoIiArIG9iai5kb2N0b3JfZGVncmVlICsgIikgLSAiICsgZWxlbWVudC5kb2N0b3JfbmFtZSArICIgKERvY3RvcikiCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIG1lcmdlRW1wbG95ZWVJbmZvOiBmdW5jdGlvbiBtZXJnZUVtcGxveWVlSW5mbyhkYXRhKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdmFyIGZpbHRlckRhdGEgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gZWwuYWN0aXZlID09IHRydWU7CiAgICAgIH0sIHRoaXMpOwogICAgICBmaWx0ZXJEYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICB2YXIgb2JqID0gZWxlbWVudDsKICAgICAgICBvYmouZW1wbG95ZWVfZGVncmVlID0gIiI7CiAgICAgICAgb2JqLmxzdERlZ3JlZS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgb2JqLmVtcGxveWVlX2RlZ3JlZSArPSBlbC5jb25zdWx0YW50X2RlZ3JlZV9uYW1lICsgIi4gIjsKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXM3LmFzc2lnbkJ5TGlzdC5wdXNoKHsKICAgICAgICAgIGVtYWlsOiBlbGVtZW50LmVtYWlsLAogICAgICAgICAgdGV4dDogZWxlbWVudC5lbXBfbm8gKyAiIC0gKCIgKyBvYmouZW1wbG95ZWVfZGVncmVlICsgIikgLSAiICsgZWxlbWVudC5maXJzdF9uYW1lICsgIiAiICsgZWxlbWVudC5sYXN0X25hbWUgKyAiIChFbXBsb3llZSkiCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHJlc3VsdFZpZXc6IGZ1bmN0aW9uIHJlc3VsdFZpZXcoZGF0YSkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHRoaXMuY3VycmVudF9zYW1wbGVfY29sbGVjdGlvbl9pZCA9IGRhdGEuc2FtcGxlX2NvbGxlY3Rpb25faWQ7CiAgICAgIHRoaXMuaW52ZXN0aWdhdGlvblNhbXBsZURpYWdub3Npc1NlcnZpY2UuZ2V0RGlhZ25vc2lzUmVzdWx0QnlJZChkYXRhLnNhbXBsZV9jb2xsZWN0aW9uX2lkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzOC5nZXRQYXJhbWV0ZXJGb3JtYXR0ZWQoZGF0YSk7CiAgICAgIH0pOwogICAgICB0aGlzLmRpYWdub3Npc05hbWUgPSBkYXRhLl9pbnZlc3RpbmdhdGlvbl9uYW1lOwogICAgICB0aGlzLnBhdGllbnROYW1lID0gZGF0YS5hUGF0aWVudC5maXJzdF9uYW1lICsgIiAiICsgZGF0YS5hUGF0aWVudC5sYXN0X25hbWU7CiAgICAgIHRoaXMucGF0aWVudENvbnRhY3QgPSBkYXRhLmFQYXRpZW50LmNvbnRhY3Rfbm87CiAgICAgIHRoaXMucGF0aWVudFJlZ2lzdHJhdGlvbiA9IGRhdGEuYVBhdGllbnQucmVnaXN0cmF0aW9uX25vOwogICAgfSwKICAgIGdldFBhcmFtZXRlckZvcm1hdHRlZDogZnVuY3Rpb24gZ2V0UGFyYW1ldGVyRm9ybWF0dGVkKGRhdGEpIHsKICAgICAgdGhpcy50ZXN0UGFyYW1ldGVyTGlzdCA9IGRhdGEuZGF0YTsKICAgICAgdGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0VmVyaWZpY2F0aW9uLnJlc3VsdF9lbnRyeV9ub3RlID0gZGF0YS5kYXRhWzBdLnJlc3VsdF9lbnRyeV9ub3RlOwogICAgICB0aGlzLmludmVzdGlnYXRpb25SZXN1bHRWZXJpZmljYXRpb24uaW5jdWJhdGlvbl90aW1lID0gZGF0YS5kYXRhWzBdLmluY3ViYXRpb25fdGltZTsKICAgICAgdGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0VmVyaWZpY2F0aW9uLmluY3ViYXRpb25fdGVtcGVyYXR1cmUgPSBkYXRhLmRhdGFbMF0uaW5jdWJhdGlvbl90ZW1wZXJhdHVyZTsKICAgICAgdGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0VmVyaWZpY2F0aW9uLmluc3RydWN0aW9uID0gZGF0YS5kYXRhWzBdLmluc3RydWN0aW9uOwogICAgICB0aGlzLmRhdGFMaXN0ID0gZmFsc2U7CiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2U7CiAgICAgIHRoaXMuZGF0YUxpc3QgPSB0cnVlOwogICAgfSwKICAgIHNlbmRUb0Rpc3BhdGNoOiBmdW5jdGlvbiBzZW5kVG9EaXNwYXRjaChkYXRhKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOS5pbnZlc3RpZ2F0aW9uUmVzdWx0VmVyaWZpY2F0aW9uU2VydmljZS5zZW5kUmVwb3J0VG9EaXNwYXRjaChkYXRhLnNhbXBsZV9jb2xsZWN0aW9uX2lkLCBfdGhpczkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM5LnBlbmRpbmdTYW1wbGVDb2xsZWN0aW9uU2VydmljZS5zZW5kVG9EaWFnbm9zaXMoZGF0YSwgX3RoaXM5KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOS4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6ICJTZW5kIHRvIERpc3BhdGNoIiwKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzOS5yZXNldCgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM5LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZWQiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LnJlcywKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlc3VsdFJlamVjdDogZnVuY3Rpb24gcmVzdWx0UmVqZWN0KCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMC5pbnZlc3RpZ2F0aW9uUmVzdWx0VmVyaWZpY2F0aW9uU2VydmljZS5yZWplY3REaWFnbm9zaXNSZXN1bHQoX3RoaXMxMC5jdXJyZW50X3NhbXBsZV9jb2xsZWN0aW9uX2lkLCBfdGhpczEwLmludmVzdGlnYXRpb25SZXN1bHRWZXJpZmljYXRpb24udmVyaWZpY2F0aW9uX25vdGUsIF90aGlzMTApOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTAuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiUmVzdWx0IFJlamVjdGVkIiwKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTAucmVzZXQoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTAuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZXN1bHRBcHByb3ZlOiBmdW5jdGlvbiByZXN1bHRBcHByb3ZlKCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczExLnN1Ym1pdHRlZCA9IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTEuY3VycmVudF9zYW1wbGVfY29sbGVjdGlvbl9pZCkgewogICAgICAgICAgICAgICAgICBfdGhpczExLnRlc3RQYXJhbWV0ZXJMaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNhbXBsZV9jb2xsZWN0aW9uX2lkID0gX3RoaXMxMS5jdXJyZW50X3NhbXBsZV9jb2xsZWN0aW9uX2lkOwogICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5jdWJhdGlvbl90aW1lID0gX3RoaXMxMS5pbnZlc3RpZ2F0aW9uUmVzdWx0VmVyaWZpY2F0aW9uLmluY3ViYXRpb25fdGltZTsKICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmluY3ViYXRpb25fdGVtcGVyYXR1cmUgPSBfdGhpczExLmludmVzdGlnYXRpb25SZXN1bHRWZXJpZmljYXRpb24uaW5jdWJhdGlvbl90ZW1wZXJhdHVyZTsKICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lmluc3RydWN0aW9uID0gX3RoaXMxMS5pbnZlc3RpZ2F0aW9uUmVzdWx0VmVyaWZpY2F0aW9uLmluc3RydWN0aW9uOwogICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVzdWx0X3ZlcmlmaWNhdGlvbl9ub3RlID0gX3RoaXMxMS5pbnZlc3RpZ2F0aW9uUmVzdWx0VmVyaWZpY2F0aW9uLnZlcmlmaWNhdGlvbl9ub3RlOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczExLnJlcXVyZWQgPSAiIjsKCiAgICAgICAgICAgICAgICBfdGhpczExLnRlc3RQYXJhbWV0ZXJMaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZXN1bHRfZW50cnlfbm90ZSA9IF90aGlzMTEuaW52ZXN0aWdhdGlvblJlc3VsdFZlcmlmaWNhdGlvbi5yZXN1bHRfZW50cnlfbm90ZTsKCiAgICAgICAgICAgICAgICAgIGlmICghZWxlbWVudC5hY3R1YWxfcmVzdWx0X3ZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5yZXF1cmVkID0gInJlcXVpcmVkIjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczExLnJlcXVyZWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczExLiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIlJlcXVpcmVkIiwKICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiUGxlYXNlIGZpbGwgaW4gdGhlIHJlcXVpcmVkIGZpZWxkcyIsCiAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMS5pbnZlc3RpZ2F0aW9uUmVzdWx0VmVyaWZpY2F0aW9uU2VydmljZS52ZXJpZnlEaWFnbm9zaXNSZXN1bHQoX3RoaXMxMS50ZXN0UGFyYW1ldGVyTGlzdCwgX3RoaXMxMSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTEuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiUmVzdWx0IEFwcHJvdmVkIiwKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTEucmVzZXQoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTEuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24gZm9ybWF0RGF0ZSh2YWx1ZSkgewogICAgICByZXR1cm4gbW9tZW50KFN0cmluZyh2YWx1ZSkpLmZvcm1hdCgiTU0vREQvWVlZWSBoOm1tOnNzIGEiKTsKICAgIH0sCiAgICBnZXRSZWZyZXNoOiBmdW5jdGlvbiBnZXRSZWZyZXNoKGRhdGEpIHsKICAgICAgdGhpcy5jb21tb25TZXJ2aWNlLkRvd25sb2FkZmlsZShkYXRhLmRhdGEpOwogICAgICB0aGlzLnNob3coKTsgLy90aGlzLnNob3dSZXBvcnREaWFsb2cgPSBmYWxzZTsKICAgIH0sCiAgICByZXBvcnRQcmludDogZnVuY3Rpb24gcmVwb3J0UHJpbnQoKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0VmVyaWZpY2F0aW9uLnRlbXBsYXRlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmRpYWdub3Npc1JlcG9ydFNlcnZpY2UuR2V0SW52ZXN0aWdhdGlvblJlcG9ydFRlbXBsYXRlV2lzZSh0aGlzLmJhcmNvZGUsIHRoaXMuaW52ZXN0aWdhdGlvblJlc3VsdFZlcmlmaWNhdGlvbi50ZW1wbGF0ZSwgdGhpcykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBfdGhpczEyLmdldFJlZnJlc2goZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIHJlcG9ydEVkaXQ6IGZ1bmN0aW9uIHJlcG9ydEVkaXQoYmFyY29kZV9vcl9sZXZlbCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICB0aGlzLmRpYWdub3Npc1JlcG9ydFNlcnZpY2UuR2V0SW52ZXN0aWdhdGlvblJlcG9ydEhUTUwoYmFyY29kZV9vcl9sZXZlbCwgdGhpcykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBfdGhpczEzLmdldFJlcG9ydChkYXRhLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRSZXBvcnQ6IGZ1bmN0aW9uIGdldFJlcG9ydChkYXRhKSB7CiAgICAgIHZhciBjb250ZW50cyA9IGRhdGEuZmlsZUNvbnRlbnRzOwogICAgICB0aGlzLmVkaXRvckRhdGEgPSB3aW5kb3cuYXRvYihjb250ZW50cyk7CiAgICAgIHRoaXMuaXNSZXBvcnRFZGl0ID0gdHJ1ZTsKICAgIH0sCiAgICBoaWRlRGlhbG9nOiBmdW5jdGlvbiBoaWRlRGlhbG9nKCkgewogICAgICB0aGlzLmlzUmVwb3J0RWRpdCA9IGZhbHNlOwogICAgICB0aGlzLnJlcG9ydExpc3REaWFsb2cgPSBmYWxzZTsgLy90aGlzLnNob3dSZXBvcnREaWFsb2cgPSBmYWxzZTsKCiAgICAgIHRoaXMuYXBwcm92YWxBc3NpZ25EaWFsb2cgPSBmYWxzZTsKICAgIH0sCiAgICBlZGl0UmVwb3J0RG93bmxvYWQ6IGZ1bmN0aW9uIGVkaXRSZXBvcnREb3dubG9hZCgpIHsKICAgICAgdmFyIGEgPSB3aW5kb3cub3BlbignJywgJycpOwogICAgICBhLmRvY3VtZW50LndyaXRlKHRoaXMuZWRpdG9yRGF0YSk7CiAgICAgIGEuZG9jdW1lbnQuY2xvc2UoKTsKICAgICAgYS5wcmludCgpOyAvL2xvY2F0aW9uLnJlbG9hZCgpOwogICAgfSwKICAgIHNob3dSZXBvcnQ6IGZ1bmN0aW9uIHNob3dSZXBvcnQoYmFyY29kZV9vcl9sZXZlbCwgcmVwb3J0X3RlbXBsYXRlKSB7CiAgICAgIHRoaXMuYmFyY29kZSA9IGJhcmNvZGVfb3JfbGV2ZWw7CiAgICAgIHRoaXMuaW52ZXN0aWdhdGlvblJlc3VsdFZlcmlmaWNhdGlvbi50ZW1wbGF0ZSA9IHJlcG9ydF90ZW1wbGF0ZTsgLy90aGlzLnNob3dSZXBvcnREaWFsb2cgPSB0cnVlOwoKICAgICAgdGhpcy5yZXBvcnRQcmludCgpOwogICAgfSwKICAgIGdldEFsbFJlcG9ydExpc3Q6IGZ1bmN0aW9uIGdldEFsbFJlcG9ydExpc3QoZGF0YSkgewogICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgICB0aGlzLmludmVzdGlnYXRpb25SZXN1bHRWZXJpZmljYXRpb25TZXJ2aWNlLmdldEJhcmNvZGVPckxldmVsSW52ZXN0aWdhdGlvblJlcXVlc3RJZChkYXRhLmludmVzdGlnYXRpb25fcmVxdWVzdF9pZCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBfdGhpczE0LmZvcm1hdHRlZFJlcG9ydExpc3QoZGF0YS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgZm9ybWF0dGVkUmVwb3J0TGlzdDogZnVuY3Rpb24gZm9ybWF0dGVkUmVwb3J0TGlzdChkYXRhKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHRoaXMucmVwb3J0TGlzdCA9IFtdOwogICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICBfdGhpczE1LnJlcG9ydExpc3QucHVzaCh7CiAgICAgICAgICBiYXJjb2RlX29yX2xldmVsOiBlbGVtZW50LmJhcmNvZGVfb3JfbGV2ZWwsCiAgICAgICAgICBpbnZlc3RpbmdhdGlvbl9uYW1lOiBlbGVtZW50LmludmVzdGluZ2F0aW9uX25hbWUsCiAgICAgICAgICBpc0NoZWNrOiBmYWxzZQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdGhpcy5yZXBvcnRMaXN0RGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICBpbnZlc3RpZ2F0aW9uU2VsZWN0ZWRSZXBvcnQ6IGZ1bmN0aW9uIGludmVzdGlnYXRpb25TZWxlY3RlZFJlcG9ydCgpIHsKICAgICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgICAgdGhpcy5yZXBvcnRMaXN0ID0gdGhpcy5yZXBvcnRMaXN0LmZpbHRlcihmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gZWwuaXNDaGVjayA9PSB0cnVlOwogICAgICB9LCB0aGlzKTsKICAgICAgdGhpcy5kaWFnbm9zaXNSZXBvcnRTZXJ2aWNlLkdldEludmVzdGlnYXRpb25NdWx0aXBsZVJlcG9ydCh0aGlzLnJlcG9ydExpc3QsIHRoaXMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXMxNi5nZXRSZWZyZXNoKGRhdGEpOwogICAgICB9KTsKICAgICAgdGhpcy5yZXBvcnRMaXN0RGlhbG9nID0gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/collection-zone/InvestigationResultVerification.js"],"names":["CommonService","TestParameterSetupService","InvestigationSampleDiagnosisService","InvestigationResultVerificationService","DiagnosisReportService","moment","FilterMatchMode","FilterOperator","ClassicEditor","GlobalSettingsService","EmployeeSetupService","DoctorSetupService","PendingSampleCollectionService","data","reportList","reportListDialog","editor","editorData","editorConfig","value1","isReportEdit","dataList","testParameterList","investigationResultVerificationList","diagnosisInvestigationStatusList","investigationResultVerification","cdfromdate","String","Date","format","cdtodate","investigation_status","submitted","filters","global","value","matchMode","CONTAINS","name","STARTS_WITH","initFilters","operator","AND","constraints","globalSetting","approvalAssignDialog","assignByList","resultVerificationObj","created","testParameterSetupService","investigationSampleDiagnosisService","investigationResultVerificationService","commonService","diagnosisReportService","globalSettingsService","employeeSetupService","doctorSetupService","pendingSampleCollectionService","GetResultVerificationInvestigationStatus","then","getBySettingName","getAll","mergeDoctorInfo","mergeEmployeeInfo","show","methods","reset","fromdate","todate","getDynamic","resultApproveConfirm","$confirm","require","message","header","icon","accept","resultApprove","reject","resultRejectConfirm","resultReject","sendToDispatchConfirm","setting_value","approvalAssign","sendToDispatch","addApprovalAssign","hideDialog","forEach","element","obj","doctor_degree","lstConsultantDegree","el","consultant_degree_name","push","email","text","doc_no","doctor_name","filterData","filter","active","employee_degree","lstDegree","emp_no","first_name","last_name","resultView","current_sample_collection_id","sample_collection_id","getDiagnosisResultById","getParameterFormatted","diagnosisName","_investingation_name","patientName","aPatient","patientContact","contact_no","patientRegistration","registration_no","result_entry_note","incubation_time","incubation_temperature","instruction","cancel","sendReportToDispatch","result","sendToDiagnosis","status","$toast","add","severity","summary","detail","life","res","rejectDiagnosisResult","verification_note","result_verification_note","requred","actual_result_value","verifyDiagnosisResult","formatDate","getRefresh","Downloadfile","reportPrint","template","GetInvestigationReportTemplateWise","barcode","reportEdit","barcode_or_level","GetInvestigationReportHTML","getReport","contents","fileContents","window","atob","editReportDownload","a","open","document","write","close","print","showReport","report_template","getAllReportList","getBarcodeOrLevelInvestigationRequestId","investigation_request_id","formattedReportList","investingation_name","isCheck","investigationSelectedReport","GetInvestigationMultipleReport"],"mappings":"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","sourcesContent":["import CommonService from \"../../service/CommonService\";\r\nimport TestParameterSetupService from \"../../service/setup/TestParameterSetupService\";\r\nimport InvestigationSampleDiagnosisService from \"../../service/collection-zone/InvestigationSampleDiagnosisService\";\r\nimport InvestigationResultVerificationService from \"../../service/collection-zone/InvestigationResultVerificationService\";\r\nimport DiagnosisReportService from \"../../service/report/DiagnosisReportService\";\r\n//import ReportSupportService from \"../../service/report/ReportSupportService\";\r\nimport moment from \"moment\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\nimport GlobalSettingsService from \"../../service/security/GlobalSettingsService\";\r\nimport EmployeeSetupService from \"../../service/setup/EmployeeSetupService\";\r\nimport DoctorSetupService from \"../../service/setup/DoctorSetupService\";\r\nimport PendingSampleCollectionService from \"../../service/collection-zone/PendingSampleCollectionService\";\r\n\r\n// import EssentialsPlugin from '@ckeditor/ckeditor5-essentials/src/essentials';\r\n// import BoldPlugin from '@ckeditor/ckeditor5-basic-styles/src/bold';\r\n// import ItalicPlugin from '@ckeditor/ckeditor5-basic-styles/src/italic';\r\n// import LinkPlugin from '@ckeditor/ckeditor5-link/src/link';\r\n// import ParagraphPlugin from '@ckeditor/ckeditor5-paragraph/src/paragraph';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      reportList: [],\r\n      reportListDialog: false,\r\n      editor: ClassicEditor,\r\n      editorData: '',\r\n      editorConfig: {\r\n        // The configuration of the editor.\r\n        // plugins: [\r\n        //   EssentialsPlugin,\r\n        //   BoldPlugin,\r\n        //   ItalicPlugin,\r\n        //   LinkPlugin,\r\n        //   ParagraphPlugin\r\n        // ],\r\n\r\n        // toolbar: {\r\n        //   items: [\r\n        //     'bold',\r\n        //     'italic',\r\n        //     'link',\r\n        //     'undo',\r\n        //     'redo'\r\n        //   ]\r\n        // }\r\n      },\r\n      value1: '',\r\n      isReportEdit: false,\r\n      //showReportDialog: false,\r\n      dataList: true,\r\n      testParameterList: [],\r\n      //templateList: [],\r\n      investigationResultVerificationList: [],\r\n      diagnosisInvestigationStatusList: [],\r\n      investigationResultVerification: {\r\n        // cdfromdate: moment(\r\n        //   String(new Date(new Date().setDate(new Date().getDate() - 7)))\r\n        // ).format(\"MM/DD/YYYY\"),\r\n        cdfromdate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n        cdtodate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n        investigation_status: \"Waiting for Approval\",\r\n      },\r\n      submitted: false,\r\n      filters: {\r\n        global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        name: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      initFilters() {\r\n        this.filters = {\r\n          global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n          name: {\r\n            operator: FilterOperator.AND,\r\n            constraints: [\r\n              { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            ],\r\n          },\r\n        };\r\n      },\r\n      globalSetting: {},\r\n      approvalAssignDialog: false,\r\n      assignByList: [],\r\n      resultVerificationObj: {},\r\n    };\r\n  },\r\n  created() {\r\n    this.testParameterSetupService = new TestParameterSetupService();\r\n    this.investigationSampleDiagnosisService =\r\n      new InvestigationSampleDiagnosisService();\r\n    this.investigationResultVerificationService =\r\n      new InvestigationResultVerificationService();\r\n    this.commonService = new CommonService();\r\n    this.diagnosisReportService = new DiagnosisReportService();\r\n    //this.reportSupportService = new ReportSupportService();\r\n    this.globalSettingsService = new GlobalSettingsService();\r\n    this.employeeSetupService = new EmployeeSetupService();\r\n    this.doctorSetupService = new DoctorSetupService();\r\n    this.pendingSampleCollectionService = new PendingSampleCollectionService();\r\n\r\n    this.commonService\r\n      .GetResultVerificationInvestigationStatus()\r\n      .then((data) => (this.diagnosisInvestigationStatusList = data.data));\r\n\r\n    // this.reportSupportService\r\n    //   .GetReportTemplateList()\r\n    //   .then((data) => (this.templateList = data.data));\r\n\r\n    this.globalSettingsService\r\n      .getBySettingName(\"LIMS Result Approval\")\r\n      .then((data) => (this.globalSetting = data.data));\r\n\r\n    this.doctorSetupService\r\n      .getAll()\r\n      .then((data) => this.mergeDoctorInfo(data.data));\r\n\r\n    this.employeeSetupService\r\n      .getAll()\r\n      .then((data) => this.mergeEmployeeInfo(data.data));\r\n\r\n    this.show();\r\n  },\r\n  methods: {\r\n    reset() {\r\n      // this.investigationResultVerification = {\r\n      //   cdfromdate: moment(\r\n      //     String(new Date(new Date().setDate(new Date().getDate() - 7)))\r\n      //   ).format(\"MM/DD/YYYY\"),\r\n      //   cdtodate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n      //   investigation_status: \"Waiting for Approval\",\r\n      // };\r\n      this.dataList = true;\r\n      this.submitted = false;\r\n\r\n      this.show();\r\n    },\r\n    show() {\r\n      this.submitted = true;\r\n      if (!this.investigationResultVerification.cdfromdate) {\r\n        return;\r\n      } else if (!this.investigationResultVerification.cdtodate) {\r\n        return;\r\n      } else if (!this.investigationResultVerification.investigation_status) {\r\n        return;\r\n      } else {\r\n        this.investigationResultVerification.fromdate = moment(\r\n          String(this.investigationResultVerification.cdfromdate)\r\n        ).format(\"YYYY-MM-DD\");\r\n        this.investigationResultVerification.todate = moment(\r\n          String(this.investigationResultVerification.cdtodate)\r\n        ).format(\"YYYY-MM-DD\");\r\n        this.investigationResultVerificationService\r\n          .getDynamic(\r\n            this.investigationResultVerification.fromdate,\r\n            this.investigationResultVerification.todate,\r\n            this.investigationResultVerification.investigation_status\r\n          )\r\n          .then(\r\n            (data) => (this.investigationResultVerificationList = data.data)\r\n          );\r\n      }\r\n\r\n      this.submitted = true;\r\n    },\r\n\r\n    resultApproveConfirm(data) {\r\n      this.$confirm.require({\r\n        message: \"Are you want to sure result approve?\",\r\n        header: \"Confirmation\",\r\n        icon: \"pi pi-exclamation-triangle\",\r\n        accept: () => {\r\n          this.resultApprove(data);\r\n        },\r\n        reject: () => {\r\n          return;\r\n        },\r\n      });\r\n    },\r\n    resultRejectConfirm() {\r\n      this.$confirm.require({\r\n        message: \"Are you want to sure result reject?\",\r\n        header: \"Confirmation\",\r\n        icon: \"pi pi-exclamation-triangle\",\r\n        accept: () => {\r\n          this.resultReject();\r\n        },\r\n        reject: () => {\r\n          return;\r\n        },\r\n      });\r\n    },\r\n    sendToDispatchConfirm(data) {\r\n      if (this.globalSetting.setting_value == \"Manual\") {\r\n        this.approvalAssign(data);\r\n      } else {\r\n        this.$confirm.require({\r\n          message: \"Are you want to sure send to dispatch?\",\r\n          header: \"Confirmation\",\r\n          icon: \"pi pi-exclamation-triangle\",\r\n          accept: () => {\r\n            this.sendToDispatch(data);\r\n          },\r\n          reject: () => {\r\n            return;\r\n          },\r\n        });\r\n      }\r\n    },\r\n    approvalAssign(data) {\r\n      this.resultVerificationObj = data;\r\n      this.approvalAssignDialog = true;\r\n    },\r\n    addApprovalAssign() {\r\n      this.sendToDispatch(this.resultVerificationObj);\r\n      this.hideDialog();\r\n    },\r\n    mergeDoctorInfo(data) {\r\n      data.forEach((element) => {\r\n        var obj = element;\r\n        obj.doctor_degree = \"\";\r\n        obj.lstConsultantDegree.forEach((el) => {\r\n          obj.doctor_degree += el.consultant_degree_name + \". \";\r\n        });\r\n\r\n        this.assignByList.push({\r\n          email: element.email,\r\n          text: element.doc_no + \" - (\" + obj.doctor_degree + \") - \" + element.doctor_name + \" (Doctor)\",\r\n        });\r\n      });\r\n    },\r\n    mergeEmployeeInfo(data) {\r\n      let filterData = data.filter(function (el) {\r\n        return el.active == true;\r\n      }, this);\r\n      filterData.forEach((element) => {\r\n        var obj = element;\r\n        obj.employee_degree = \"\";\r\n        obj.lstDegree.forEach((el) => {\r\n          obj.employee_degree += el.consultant_degree_name + \". \";\r\n        });\r\n\r\n        this.assignByList.push({\r\n          email: element.email,\r\n          text: element.emp_no + \" - (\" + obj.employee_degree + \") - \" + element.first_name + \" \" + element.last_name + \" (Employee)\",\r\n        });\r\n      });\r\n    },\r\n    resultView(data) {\r\n      this.current_sample_collection_id = data.sample_collection_id;\r\n      this.investigationSampleDiagnosisService\r\n        .getDiagnosisResultById(data.sample_collection_id)\r\n        .then((data) => this.getParameterFormatted(data));\r\n      this.diagnosisName = data._investingation_name;\r\n      this.patientName = data.aPatient.first_name + \" \" + data.aPatient.last_name;\r\n      this.patientContact = data.aPatient.contact_no;\r\n      this.patientRegistration = data.aPatient.registration_no;\r\n    },\r\n    getParameterFormatted(data) {\r\n      this.testParameterList = data.data;\r\n      this.investigationResultVerification.result_entry_note =\r\n        data.data[0].result_entry_note;\r\n      this.investigationResultVerification.incubation_time = data.data[0].incubation_time;\r\n      this.investigationResultVerification.incubation_temperature = data.data[0].incubation_temperature;\r\n      this.investigationResultVerification.instruction = data.data[0].instruction;\r\n\r\n      this.dataList = false;\r\n    },\r\n    cancel() {\r\n      this.submitted = false;\r\n      this.dataList = true;\r\n    },\r\n    async sendToDispatch(data) {\r\n      let result =\r\n        await this.investigationResultVerificationService.sendReportToDispatch(\r\n          data.sample_collection_id, this\r\n        );\r\n\r\n      result = await this.pendingSampleCollectionService.sendToDiagnosis(\r\n        data, this\r\n      );\r\n\r\n      if (result.status === 200) {\r\n        this.$toast.add({\r\n          severity: \"success\",\r\n          summary: \"Success\",\r\n          detail: \"Send to Dispatch\",\r\n          life: 10000,\r\n        });\r\n        this.reset();\r\n      } else {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Failed\",\r\n          detail: result.res,\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n\r\n    async resultReject() {\r\n      let result =\r\n        await this.investigationResultVerificationService.rejectDiagnosisResult(\r\n          this.current_sample_collection_id,\r\n          this.investigationResultVerification.verification_note, this\r\n        );\r\n      if (result.status === 200) {\r\n        this.$toast.add({\r\n          severity: \"success\",\r\n          summary: \"Success\",\r\n          detail: \"Result Rejected\",\r\n          life: 10000,\r\n        });\r\n        this.reset();\r\n      } else {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Failed\",\r\n          detail: result.res,\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n    async resultApprove() {\r\n      this.submitted = true;\r\n      if (this.current_sample_collection_id) {\r\n        this.testParameterList.forEach((element) => {\r\n          element.sample_collection_id = this.current_sample_collection_id;\r\n          element.incubation_time = this.investigationResultVerification.incubation_time;\r\n          element.incubation_temperature = this.investigationResultVerification.incubation_temperature;\r\n          element.instruction = this.investigationResultVerification.instruction;\r\n          element.result_verification_note = this.investigationResultVerification.verification_note;\r\n        });\r\n      }\r\n      this.requred = \"\";\r\n      this.testParameterList.forEach((element) => {\r\n        element.result_entry_note =\r\n          this.investigationResultVerification.result_entry_note;\r\n        if (!element.actual_result_value) {\r\n          this.requred = \"required\";\r\n        }\r\n      });\r\n\r\n      if (this.requred) {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Required\",\r\n          detail: \"Please fill in the required fields\",\r\n          life: 10000,\r\n        });\r\n        return;\r\n      } else {\r\n        let result =\r\n          await this.investigationResultVerificationService.verifyDiagnosisResult(this.testParameterList, this);\r\n        if (result.status === 200) {\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Success\",\r\n            detail: \"Result Approved\",\r\n            life: 10000,\r\n          });\r\n          this.reset();\r\n        } else {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Failed\",\r\n            detail: result.res,\r\n            life: 10000,\r\n          });\r\n        }\r\n      }\r\n    },\r\n    formatDate(value) {\r\n      return moment(String(value)).format(\"MM/DD/YYYY h:mm:ss a\");\r\n    },\r\n    getRefresh(data) {\r\n      this.commonService.Downloadfile(data.data);\r\n      this.show();\r\n      //this.showReportDialog = false;\r\n    },\r\n    reportPrint() {\r\n      if (!this.investigationResultVerification.template) {\r\n        return;\r\n      }\r\n\r\n      this.diagnosisReportService.GetInvestigationReportTemplateWise(this.barcode, this.investigationResultVerification.template, this).then((data) => this.getRefresh(data));\r\n    },\r\n    reportEdit(barcode_or_level) {\r\n      this.diagnosisReportService.GetInvestigationReportHTML(barcode_or_level, this).then((data) => this.getReport(data.data));\r\n    },\r\n    getReport(data) {\r\n      var contents = data.fileContents;\r\n      this.editorData = window.atob(contents);\r\n      this.isReportEdit = true;\r\n    },\r\n    hideDialog() {\r\n      this.isReportEdit = false;\r\n      this.reportListDialog = false;\r\n      //this.showReportDialog = false;\r\n      this.approvalAssignDialog = false;\r\n    },\r\n    editReportDownload() {\r\n      var a = window.open('', '');\r\n      a.document.write(this.editorData);\r\n      a.document.close();\r\n      a.print();\r\n      //location.reload();\r\n    },\r\n    showReport(barcode_or_level, report_template) {\r\n      this.barcode = barcode_or_level;\r\n      this.investigationResultVerification.template = report_template;\r\n      //this.showReportDialog = true;\r\n      this.reportPrint();\r\n    },\r\n    getAllReportList(data) {\r\n      this.investigationResultVerificationService\r\n        .getBarcodeOrLevelInvestigationRequestId(data.investigation_request_id)\r\n        .then(\r\n          (data) => this.formattedReportList(data.data)\r\n        );\r\n    },\r\n    formattedReportList(data) {\r\n      this.reportList = [];\r\n      data.forEach((element) => {\r\n        this.reportList.push({\r\n          barcode_or_level: element.barcode_or_level,\r\n          investingation_name: element.investingation_name,\r\n          isCheck: false\r\n        });\r\n      });\r\n      this.reportListDialog = true;\r\n    },\r\n    investigationSelectedReport() {\r\n      this.reportList = this.reportList.filter(function (el) {\r\n        return el.isCheck == true;\r\n      }, this);\r\n      this.diagnosisReportService.GetInvestigationMultipleReport(this.reportList, this).then((data) => this.getRefresh(data));\r\n      this.reportListDialog = false;\r\n    }\r\n  },\r\n};"]}]}