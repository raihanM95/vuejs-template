{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\blood-bank\\BloodDonor.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\blood-bank\\BloodDonor.js","mtime":1676451943784},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\babel.config.js","mtime":1624271518206},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9FUlBfSG9zcGl0YWxfQ2xpZW50L3RydW5rL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCBCbG9vZERvbm9yU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL2Jsb29kLWJhbmsvQmxvb2REb25vclNlcnZpY2UiOwppbXBvcnQgQmxvb2RCYW5rUmVwb3J0U2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL3JlcG9ydC9CbG9vZEJhbmtSZXBvcnRTZXJ2aWNlIjsKaW1wb3J0IENvbW1vblNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9Db21tb25TZXJ2aWNlIjsKaW1wb3J0IFZhbGlkYXRpb24gZnJvbSAiLi4vLi4vc2NyaXB0cy92YWxpZGF0aW9uIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgeyBGaWx0ZXJNYXRjaE1vZGUsIEZpbHRlck9wZXJhdG9yIH0gZnJvbSAicHJpbWV2dWUvYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYWdlOiAxMDAsCiAgICAgIGlzQ29udGFjdEV4aXN0OiAiIiwKICAgICAgaXNWYWxpZDogIiIsCiAgICAgIGlzRW1haWxWYWxpZDogIiIsCiAgICAgIG5ld0luZm86IGZhbHNlLAogICAgICBkYXRhTGlzdDogdHJ1ZSwKICAgICAgcmVsYXRpb25MaXN0OiBbXSwKICAgICAgYmxvb2RHcm91cExpc3Q6IFtdLAogICAgICBnZW5kZXJMaXN0OiBbXSwKICAgICAgZG9ub3JSZWdpc3RyYXRpb25MaXN0OiBbXSwKICAgICAgZG9ub3JSZWdpc3RyYXRpb246IHsKICAgICAgICBhZ2VfeWVhcjogIjAiLAogICAgICAgIGFnZV9tb250aDogIjAiLAogICAgICAgIGFnZV9kYXk6ICIwIgogICAgICB9LAogICAgICBmaWx0ZXJzOiB7CiAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLkNPTlRBSU5TCiAgICAgICAgfSwKICAgICAgICBuYW1lOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLlNUQVJUU19XSVRICiAgICAgICAgfQogICAgICB9LAogICAgICBpbml0RmlsdGVyczogZnVuY3Rpb24gaW5pdEZpbHRlcnMoKSB7CiAgICAgICAgdGhpcy5maWx0ZXJzID0gewogICAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgICAgfSwKICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgb3BlcmF0b3I6IEZpbHRlck9wZXJhdG9yLkFORCwKICAgICAgICAgICAgY29uc3RyYWludHM6IFt7CiAgICAgICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuU1RBUlRTX1dJVEgKICAgICAgICAgICAgfV0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9LAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5ibG9vZERvbm9yU2VydmljZSA9IG5ldyBCbG9vZERvbm9yU2VydmljZSgpOwogICAgdGhpcy5ibG9vZEJhbmtSZXBvcnRTZXJ2aWNlID0gbmV3IEJsb29kQmFua1JlcG9ydFNlcnZpY2UoKTsKICAgIHRoaXMuY29tbW9uU2VydmljZSA9IG5ldyBDb21tb25TZXJ2aWNlKCk7CiAgICB0aGlzLnZhbGlkYXRpb24gPSBuZXcgVmFsaWRhdGlvbigpOwogICAgdGhpcy5jb21tb25TZXJ2aWNlLkdldEFsbEdlbmRlcigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIF90aGlzLmdlbmRlckxpc3QgPSBkYXRhLmRhdGE7CiAgICB9KTsKICAgIHRoaXMuY29tbW9uU2VydmljZS5HZXRBbGxCbG9vZEdyb3VwKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gX3RoaXMuYmxvb2RHcm91cExpc3QgPSBkYXRhLmRhdGE7CiAgICB9KTsgLy8gc2VydmVyIHNpZGUgcGFnaW5hdGlvbgoKICAgIHZhciBmaWx0ZXIgPSB0aGlzLmZpbHRlcnNbJ2dsb2JhbCddLnZhbHVlID8gdGhpcy5maWx0ZXJzWydnbG9iYWwnXS52YWx1ZSA6ICIiOwogICAgdGhpcy5ibG9vZERvbm9yU2VydmljZS5nZXREb25vcldpdGhQYWdpbmF0aW9uKCIwIiwgIjEwIiwgZmlsdGVyLCB0aGlzKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5kb25vckZvcm1hdHRlZChkYXRhLmRhdGEpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBwcmludEFsbERvbm9yOiBmdW5jdGlvbiBwcmludEFsbERvbm9yKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuYmxvb2RCYW5rUmVwb3J0U2VydmljZS5nZXRBbGwodGhpcykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBfdGhpczIuY29tbW9uU2VydmljZS5Eb3dubG9hZGZpbGUoZGF0YS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgZG9ub3JGb3JtYXR0ZWQ6IGZ1bmN0aW9uIGRvbm9yRm9ybWF0dGVkKGRhdGEpIHsKICAgICAgdGhpcy5kb25vclJlZ2lzdHJhdGlvbkxpc3QgPSBkYXRhOwogICAgICB0aGlzLnBhZ2UgPSBkYXRhLmxlbmd0aCA/IGRhdGFbMF0uX3RvdGFsX3JlY29yZHMgOiAxMDA7CiAgICB9LAogICAgLy8gc2VydmVyIHNpZGUgcGFnaW5hdGlvbgogICAgb25QYWdlOiBmdW5jdGlvbiBvblBhZ2UoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgZmlsdGVyID0gdGhpcy5maWx0ZXJzWydnbG9iYWwnXS52YWx1ZSA/IHRoaXMuZmlsdGVyc1snZ2xvYmFsJ10udmFsdWUgOiAiIjsKICAgICAgdmFyIHBhZ2UgPSBldmVudCA9PSAwID8gMCA6IGV2ZW50LnBhZ2U7CiAgICAgIHZhciByb3dzID0gZXZlbnQgPT0gMCA/IDEwIDogZXZlbnQucm93czsKICAgICAgdGhpcy5ibG9vZERvbm9yU2VydmljZS5nZXREb25vcldpdGhQYWdpbmF0aW9uKHBhZ2UsIHJvd3MsIGZpbHRlciwgdGhpcykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBfdGhpczMuZG9ub3JGb3JtYXR0ZWQoZGF0YS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgb3Blbk5ldzogZnVuY3Rpb24gb3Blbk5ldygpIHsKICAgICAgdGhpcy5pc0NvbnRhY3RFeGlzdCA9ICIiOwogICAgICB0aGlzLmlzVmFsaWQgPSAiIjsKICAgICAgdGhpcy5pc0VtYWlsVmFsaWQgPSAiIjsKICAgICAgdGhpcy5kb25vclJlZ2lzdHJhdGlvbiA9IHsKICAgICAgICBhZ2VfeWVhcjogIjAiLAogICAgICAgIGFnZV9tb250aDogIjAiLAogICAgICAgIGFnZV9kYXk6ICIwIgogICAgICB9OwogICAgICB0aGlzLm5ld0luZm8gPSB0cnVlOwogICAgICB0aGlzLmRhdGFMaXN0ID0gZmFsc2U7CiAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2U7CiAgICB9LAogICAgaGlkZU5ldzogZnVuY3Rpb24gaGlkZU5ldygpIHsKICAgICAgdGhpcy5pc0NvbnRhY3RFeGlzdCA9ICIiOwogICAgICB0aGlzLmlzVmFsaWQgPSAiIjsKICAgICAgdGhpcy5pc0VtYWlsVmFsaWQgPSAiIjsKICAgICAgdGhpcy5kb25vclJlZ2lzdHJhdGlvbiA9IHsKICAgICAgICBhZ2VfeWVhcjogIjAiLAogICAgICAgIGFnZV9tb250aDogIjAiLAogICAgICAgIGFnZV9kYXk6ICIwIgogICAgICB9OwogICAgICB0aGlzLmRhdGFMaXN0ID0gdHJ1ZTsKICAgICAgdGhpcy5uZXdJbmZvID0gZmFsc2U7CiAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2U7CiAgICB9LAogICAgaXNFeGlzdENvbnRhY3Q6IGZ1bmN0aW9uIGlzRXhpc3RDb250YWN0KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmRvbm9yUmVnaXN0cmF0aW9uLmNvbnRhY3Rfbm8ubWF0Y2goL14oMDEpKFswLTldezl9KSQvKSkgewogICAgICAgIHRoaXMuYmxvb2REb25vclNlcnZpY2UuZ2V0QnlDb250YWN0T3JSZWdObyh0aGlzLmRvbm9yUmVnaXN0cmF0aW9uLmNvbnRhY3Rfbm8sIHRoaXMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBfdGhpczQuZ2V0Q29udGFjdChkYXRhLmRhdGEpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNDb250YWN0RXhpc3QgPSAiQ29udGFjdCBudW1iZXIgbXVzdCBzdGFydCB3aXRoIDAxIGFuZCB0aGUgcmVxdWlyZWQgbGVuZ3RoIGlzIDExIjsKICAgICAgfQogICAgfSwKICAgIGdldENvbnRhY3Q6IGZ1bmN0aW9uIGdldENvbnRhY3QoZGF0YSkgewogICAgICBpZiAoZGF0YS5jb250YWN0X25vKSB7CiAgICAgICAgdGhpcy5pc0NvbnRhY3RFeGlzdCA9ICJEdXBsaWNhdGUgcGhvbmUgbnVtYmVyISI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc0NvbnRhY3RFeGlzdCA9ICIiOwogICAgICB9CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY3VycmVudERhdGUsIGRvYiwgcmVzdWx0LCBfcmVzdWx0OwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczUuc3VibWl0dGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUuZG9ub3JSZWdpc3RyYXRpb24uZmlyc3RfbmFtZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUuZG9ub3JSZWdpc3RyYXRpb24uYWdlX3llYXIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUuZG9ub3JSZWdpc3RyYXRpb24uYWdlX21vbnRoKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LmRvbm9yUmVnaXN0cmF0aW9uLmFnZV9kYXkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUuZG9ub3JSZWdpc3RyYXRpb24uY29udGFjdF9ubykgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgaWYgKF90aGlzNS5kb25vclJlZ2lzdHJhdGlvbi5nZW5kZXIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUuZG9ub3JSZWdpc3RyYXRpb24uYmxvb2RfZ3JvdXApIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDMwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICAgIGlmICghX3RoaXM1LmlzQ29udGFjdEV4aXN0KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzQ6CiAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICBkb2IgPSBuZXcgRGF0ZShjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpIC0gX3RoaXM1LmRvbm9yUmVnaXN0cmF0aW9uLmFnZV95ZWFyLCBjdXJyZW50RGF0ZS5nZXRNb250aCgpIC0gX3RoaXM1LmRvbm9yUmVnaXN0cmF0aW9uLmFnZV9tb250aCwgY3VycmVudERhdGUuZ2V0RGF0ZSgpIC0gX3RoaXM1LmRvbm9yUmVnaXN0cmF0aW9uLmFnZV9kYXkpOwogICAgICAgICAgICAgICAgX3RoaXM1LmRvbm9yUmVnaXN0cmF0aW9uLmRvYiA9IG1vbWVudChTdHJpbmcoZG9iKSkuZm9ybWF0KCJZWVlZLU1NLUREIik7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNS5kb25vclJlZ2lzdHJhdGlvbi5kb25vcl9pZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0MDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuYmxvb2REb25vclNlcnZpY2UuYWRkKF90aGlzNS5kb25vclJlZ2lzdHJhdGlvbiwgX3RoaXM1KTsKCiAgICAgICAgICAgICAgY2FzZSA0MDoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICBfdGhpczUuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiU2F2ZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNS5oaWRlTmV3KCk7CgogICAgICAgICAgICAgICAgICBfdGhpczUub25QYWdlKDApOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZWQiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LnJlcywKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA0NDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0NjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuYmxvb2REb25vclNlcnZpY2UucHV0KF90aGlzNS5kb25vclJlZ2lzdHJhdGlvbiwgX3RoaXM1KTsKCiAgICAgICAgICAgICAgY2FzZSA0NjoKICAgICAgICAgICAgICAgIF9yZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChfcmVzdWx0LnN0YXR1cyA9PT0gMjAyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6ICJVcGRhdGVkIFN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczUuaGlkZU5ldygpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM1Lm9uUGFnZSgwKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRmFpbGVkIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IF9yZXN1bHQucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ4OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDUzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNTA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNTA7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwoKICAgICAgICAgICAgICAgIF90aGlzNS4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZWQiLAogICAgICAgICAgICAgICAgICBkZXRhaWw6IF9jb250ZXh0LnQwLAogICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDUwXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBlZGl0OiBmdW5jdGlvbiBlZGl0KG9iaikgewogICAgICB0aGlzLmRvbm9yUmVnaXN0cmF0aW9uID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqKTsgLy8gdGhpcy5kb25vclJlZ2lzdHJhdGlvbi5jZGRvYiA9IG1vbWVudCgKICAgICAgLy8gICBTdHJpbmcodGhpcy5kb25vclJlZ2lzdHJhdGlvbi5kb2IpCiAgICAgIC8vICkuZm9ybWF0KCJZWVlZLU1NLUREIik7CgogICAgICB0aGlzLmRhdGFMaXN0ID0gZmFsc2U7CiAgICAgIHRoaXMubmV3SW5mbyA9IHRydWU7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/blood-bank/BloodDonor.js"],"names":["BloodDonorService","BloodBankReportService","CommonService","Validation","moment","FilterMatchMode","FilterOperator","data","page","isContactExist","isValid","isEmailValid","newInfo","dataList","relationList","bloodGroupList","genderList","donorRegistrationList","donorRegistration","age_year","age_month","age_day","filters","global","value","matchMode","CONTAINS","name","STARTS_WITH","initFilters","operator","AND","constraints","submitted","created","bloodDonorService","bloodBankReportService","commonService","validation","GetAllGender","then","GetAllBloodGroup","filter","getDonorWithPagination","donorFormatted","methods","printAllDonor","getAll","Downloadfile","length","_total_records","onPage","event","rows","openNew","hideNew","isExistContact","contact_no","match","getByContactOrRegNo","getContact","add","first_name","gender","blood_group","currentDate","Date","dob","getFullYear","getMonth","getDate","String","format","donor_id","result","status","$toast","severity","summary","detail","life","res","put","edit","obj","Object","assign"],"mappings":"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","sourcesContent":["import BloodDonorService from \"../../service/blood-bank/BloodDonorService\";\r\nimport BloodBankReportService from \"../../service/report/BloodBankReportService\";\r\nimport CommonService from \"../../service/CommonService\";\r\nimport Validation from \"../../scripts/validation\";\r\nimport moment from \"moment\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      page: 100,\r\n      isContactExist: \"\",\r\n      isValid: \"\",\r\n      isEmailValid: \"\",\r\n      newInfo: false,\r\n      dataList: true,\r\n      relationList: [],\r\n      bloodGroupList: [],\r\n      genderList: [],\r\n      donorRegistrationList: [],\r\n      donorRegistration: {\r\n        age_year: \"0\",\r\n        age_month: \"0\",\r\n        age_day: \"0\",\r\n      },\r\n      filters: {\r\n        global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        name: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      initFilters() {\r\n        this.filters = {\r\n          global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n          name: {\r\n            operator: FilterOperator.AND,\r\n            constraints: [\r\n              { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            ],\r\n          },\r\n        };\r\n      },\r\n      submitted: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.bloodDonorService = new BloodDonorService();\r\n    this.bloodBankReportService = new BloodBankReportService();\r\n    this.commonService = new CommonService();\r\n    this.validation = new Validation();\r\n\r\n    this.commonService.GetAllGender().then(\r\n      (data) =>\r\n        (this.genderList = data.data)\r\n    );\r\n\r\n    this.commonService\r\n      .GetAllBloodGroup()\r\n      .then((data) => (this.bloodGroupList = data.data));\r\n\r\n    // server side pagination\r\n    var filter = this.filters['global'].value ? this.filters['global'].value : \"\";\r\n    this.bloodDonorService\r\n      .getDonorWithPagination(\"0\", \"10\", filter, this)\r\n      .then((data) => this.donorFormatted(data.data));\r\n  },\r\n  methods: {\r\n    printAllDonor() {\r\n      this.bloodBankReportService.getAll(this).then((data) => (this.commonService.Downloadfile(data.data)));\r\n    },\r\n    donorFormatted(data) {\r\n      this.donorRegistrationList = data;\r\n      this.page = data.length ? data[0]._total_records : 100;\r\n    },\r\n    // server side pagination\r\n    onPage(event) {\r\n      var filter = this.filters['global'].value ? this.filters['global'].value : \"\";\r\n      var page = event == 0 ? 0 : event.page;\r\n      var rows = event == 0 ? 10 : event.rows;\r\n\r\n      this.bloodDonorService\r\n        .getDonorWithPagination(page, rows, filter, this)\r\n        .then((data) => this.donorFormatted(data.data));\r\n    },\r\n    openNew() {\r\n      this.isContactExist = \"\";\r\n      this.isValid = \"\";\r\n      this.isEmailValid = \"\";\r\n      this.donorRegistration = {\r\n        age_year: \"0\",\r\n        age_month: \"0\",\r\n        age_day: \"0\",\r\n      };\r\n      this.newInfo = true;\r\n      this.dataList = false;\r\n      this.submitted = false;\r\n    },\r\n    hideNew() {\r\n      this.isContactExist = \"\";\r\n      this.isValid = \"\";\r\n      this.isEmailValid = \"\";\r\n      this.donorRegistration = {\r\n        age_year: \"0\",\r\n        age_month: \"0\",\r\n        age_day: \"0\",\r\n      };\r\n      this.dataList = true;\r\n      this.newInfo = false;\r\n      this.submitted = false;\r\n    },\r\n    isExistContact() {\r\n      if (this.donorRegistration.contact_no.match(/^(01)([0-9]{9})$/)) {\r\n        this.bloodDonorService\r\n          .getByContactOrRegNo(this.donorRegistration.contact_no, this)\r\n          .then((data) => this.getContact(data.data));\r\n      } else {\r\n        this.isContactExist =\r\n          \"Contact number must start with 01 and the required length is 11\";\r\n      }\r\n    },\r\n    getContact(data) {\r\n      if (data.contact_no) {\r\n        this.isContactExist = \"Duplicate phone number!\";\r\n      } else {\r\n        this.isContactExist = \"\";\r\n      }\r\n    },\r\n    async add() {\r\n      this.submitted = true;\r\n      try {\r\n        if (!this.donorRegistration.first_name) {\r\n          return;\r\n        } else if (!this.donorRegistration.age_year) {\r\n          return;\r\n        } else if (!this.donorRegistration.age_month) {\r\n          return;\r\n        } else if (!this.donorRegistration.age_day) {\r\n          return;\r\n        } else if (!this.donorRegistration.contact_no) {\r\n          return;\r\n        } else if (!this.donorRegistration.gender) {\r\n            return;\r\n          } else if (!this.donorRegistration.blood_group) {\r\n            return;\r\n          } else if (this.isContactExist) {\r\n          return;\r\n        } else {\r\n          var currentDate = new Date();\r\n          var dob = new Date(currentDate.getFullYear() - this.donorRegistration.age_year, currentDate.getMonth() - this.donorRegistration.age_month, currentDate.getDate() - this.donorRegistration.age_day);\r\n          this.donorRegistration.dob = moment(\r\n            String(dob)\r\n          ).format(\"YYYY-MM-DD\");\r\n\r\n          if (!this.donorRegistration.donor_id) {\r\n            let result = await this.bloodDonorService.add(\r\n              this.donorRegistration, this\r\n            );\r\n            if (result.status === 201) {\r\n              this.$toast.add({\r\n                severity: \"success\",\r\n                summary: \"Success\",\r\n                detail: \"Saved Successfully\",\r\n                life: 10000,\r\n              });\r\n              this.hideNew();\r\n              this.onPage(0);\r\n            } else {\r\n              this.$toast.add({\r\n                severity: \"error\",\r\n                summary: \"Failed\",\r\n                detail: result.res,\r\n                life: 10000,\r\n              });\r\n            }\r\n          } else {\r\n            let result = await this.bloodDonorService.put(\r\n              this.donorRegistration,\r\n              this\r\n            );\r\n            if (result.status === 202) {\r\n              this.$toast.add({\r\n                severity: \"success\",\r\n                summary: \"Success\",\r\n                detail: \"Updated Successfully\",\r\n                life: 10000,\r\n              });\r\n              this.hideNew();\r\n              this.onPage(0);\r\n            } else {\r\n              this.$toast.add({\r\n                severity: \"error\",\r\n                summary: \"Failed\",\r\n                detail: result.res,\r\n                life: 10000,\r\n              });\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Failed\",\r\n          detail: error,\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n    edit(obj) {\r\n      this.donorRegistration = Object.assign({}, obj);\r\n      // this.donorRegistration.cddob = moment(\r\n      //   String(this.donorRegistration.dob)\r\n      // ).format(\"YYYY-MM-DD\");\r\n      this.dataList = false;\r\n      this.newInfo = true;\r\n    },\r\n  },\r\n};"]}]}