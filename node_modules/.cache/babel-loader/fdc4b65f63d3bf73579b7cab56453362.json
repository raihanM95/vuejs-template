{"remainingRequest":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\src\\scripts\\security\\RolePermission.js","dependencies":[{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\src\\scripts\\security\\RolePermission.js","mtime":1634451138570},{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9EaWFnbm9zdGljQ2VudGVyTWFuYWdlbWVudF9DbGllbnQvdHJ1bmsvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZW50cmllcy5qcyI7CmltcG9ydCBSb2xlU2V0dXBTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2Uvc2VjdXJpdHkvUm9sZVNldHVwU2VydmljZSI7CmltcG9ydCBSb2xlUGVybWlzc2lvblNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9zZWN1cml0eS9Sb2xlUGVybWlzc2lvblNlcnZpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdGVkVHJlZVZhbHVlOiBudWxsLAogICAgICByb2xlTGlzdDogW10sCiAgICAgIG1lbnVMaXN0OiBbXSwKICAgICAgdHJlZU1lbnVMaXN0OiBbXSwKICAgICAgcm9sZVBlcm1pc3Npb246IHt9LAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5yb2xlU2V0dXBTZXJ2aWNlID0gbmV3IFJvbGVTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMucm9sZVBlcm1pc3Npb25TZXJ2aWNlID0gbmV3IFJvbGVQZXJtaXNzaW9uU2VydmljZSgpOwogICAgdGhpcy5yb2xlU2V0dXBTZXJ2aWNlLmdldEFsbCgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIF90aGlzLnJvbGVMaXN0ID0gZGF0YS5kYXRhOwogICAgfSk7CiAgICB0aGlzLnJvbGVQZXJtaXNzaW9uU2VydmljZS5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5tZW51TGlzdCA9IEpTT04ucGFyc2UoZGF0YS5kYXRhLmRhdGEpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkUm9sZU1lbnU6IGZ1bmN0aW9uIGxvYWRSb2xlTWVudSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnJvbGVQZXJtaXNzaW9uU2VydmljZS5nZXRCeUlkKF90aGlzMi5yb2xlUGVybWlzc2lvbi5yb2xlX2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEuZGF0YS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnNlbGVjdGVkVHJlZVZhbHVlID0ge307CiAgICAgICAgICAgICAgICAgIEpTT04ucGFyc2UocmVzdWx0LmRhdGEuZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZWxlY3RlZFRyZWVWYWx1ZVtlbGVtZW50LklEXSA9IHsKICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsQ2hlY2tlZDogZmFsc2UKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5zZWxlY3RlZFRyZWVWYWx1ZSA9IHt9OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi50cmVlTWVudUxpc3QgPSBbXTsKCiAgICAgICAgICAgICAgICBfdGhpczIubWVudUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5QYXJlbnRJRCA9PSAiIikgewogICAgICAgICAgICAgICAgICAgIHZhciBhTWVudSA9IHsKICAgICAgICAgICAgICAgICAgICAgIGtleTogZWxlbWVudC5JRCwKICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBlbGVtZW50LlRleHQsCiAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBlbGVtZW50LlRleHQsCiAgICAgICAgICAgICAgICAgICAgICBpY29uOiBlbGVtZW50LkNMQVNTCiAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnRyZWVNZW51TGlzdC5wdXNoKGFNZW51KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMyLnRyZWVNZW51TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IFtdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLm1lbnVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQxKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQua2V5ID09IGVsZW1lbnQxLlBhcmVudElEKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgYU1lbnUgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogZWxlbWVudDEuSUQsCiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBlbGVtZW50MS5UZXh0LAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBlbGVtZW50MS5UZXh0LAogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBlbGVtZW50MS5DTEFTUwogICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goYU1lbnUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQxKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbXMyID0gW107CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLm1lbnVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50MS5rZXkgPT0gZWxlbWVudDIuUGFyZW50SUQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWFNZW51ID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBlbGVtZW50Mi5JRCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBlbGVtZW50Mi5UZXh0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZWxlbWVudDIuVGV4dCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGVsZW1lbnQyLkNMQVNTCiAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczIucHVzaChhYU1lbnUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbXMyLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50MS5jaGlsZHJlbiA9IGl0ZW1zMjsKICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50MS5oYXNTdWJNZW51ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jaGlsZHJlbiA9IGl0ZW1zOwogICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaGFzU3ViTWVudSA9IHRydWU7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgc2VsZWN0ZWRtZW51LCBhcnJheSwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczMucm9sZVBlcm1pc3Npb24ucm9sZV9pZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzZWxlY3RlZG1lbnUgPSBbXTsKICAgICAgICAgICAgICAgIGFycmF5ID0gT2JqZWN0LmVudHJpZXMoX3RoaXMzLnNlbGVjdGVkVHJlZVZhbHVlKTsKICAgICAgICAgICAgICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRbMV0uY2hlY2tlZCB8fCBlbGVtZW50WzFdLnBhcnRpYWxDaGVja2VkKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGFzZWxlY3RlZG1lbnUgPSB7CiAgICAgICAgICAgICAgICAgICAgICBtZW51X2lkOiBlbGVtZW50WzBdLAogICAgICAgICAgICAgICAgICAgICAgcm9sZV9pZDogX3RoaXMzLnJvbGVQZXJtaXNzaW9uLnJvbGVfaWQsCiAgICAgICAgICAgICAgICAgICAgICBoYXNfZGVsZXRlUGVybWlzc2lvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgIGhhc19pbnNlcnRQZXJtaXNzaW9uOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgaGFzX3VwZGF0ZVBlcm1pc3Npb246IHRydWUKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkbWVudS5wdXNoKGFzZWxlY3RlZG1lbnUpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAoIShzZWxlY3RlZG1lbnUubGVuZ3RoID09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMzLiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxkIiwKICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiQWRkIFBlcm1pc3Npb24iLAogICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5yb2xlUGVybWlzc2lvblNlcnZpY2UuYWRkKHNlbGVjdGVkbWVudSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJTdWNlc3MiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogIlNhdmVkIFN1Y2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRXJyb3IiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LmRhdGEsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczMuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxkIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHJlc3VsdC5yZXMsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE0OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgICAgIF90aGlzMy4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZCIsCiAgICAgICAgICAgICAgICAgIGRldGFpbDogX2NvbnRleHQyLnQwLAogICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgMTRdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["F:/SVN PROJECTS/DiagnosticCenterManagement_Client/trunk/src/scripts/security/RolePermission.js"],"names":["RoleSetupService","RolePermissionService","data","selectedTreeValue","roleList","menuList","treeMenuList","rolePermission","submitted","created","roleSetupService","rolePermissionService","getAll","then","JSON","parse","methods","loadRoleMenu","getById","role_id","result","length","forEach","element","ID","checked","partialChecked","ParentID","aMenu","key","label","Text","icon","CLASS","push","items","element1","items2","element2","aaMenu","children","hasSubMenu","save","selectedmenu","array","Object","entries","aselectedmenu","menu_id","has_deletePermission","has_insertPermission","has_updatePermission","$toast","add","severity","summary","detail","life","status","res"],"mappings":"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","sourcesContent":["import RoleSetupService from \"../../service/security/RoleSetupService\";\r\nimport RolePermissionService from \"../../service/security/RolePermissionService\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      selectedTreeValue: null,\r\n      roleList: [],\r\n      menuList: [],\r\n      treeMenuList: [],\r\n      rolePermission: {},\r\n      submitted: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.roleSetupService = new RoleSetupService();\r\n    this.rolePermissionService = new RolePermissionService();\r\n    this.roleSetupService.getAll().then((data) => (this.roleList = data.data));\r\n    this.rolePermissionService.getAll().then((data) => (this.menuList =JSON.parse( data.data.data)));\r\n  },\r\n  methods: {\r\n    async loadRoleMenu() {\r\n      let result = await this.rolePermissionService.getById(\r\n        this.rolePermission.role_id\r\n      );\r\n      if (result.data.data.length) {\r\n        this.selectedTreeValue = {};\r\n        JSON.parse( result.data.data).forEach((element) => {\r\n          this.selectedTreeValue[element.ID] = {\r\n            checked: true,\r\n            partialChecked: false,\r\n          };\r\n        });\r\n      } else {\r\n        this.selectedTreeValue = {};\r\n      }\r\n\r\n      this.treeMenuList = [];\r\n      this.menuList.forEach((element) => {\r\n        if (element.ParentID == \"\") {\r\n          var aMenu = {\r\n            key: element.ID,\r\n            label: element.Text,\r\n            data: element.Text,\r\n            icon: element.CLASS,\r\n          };\r\n          this.treeMenuList.push(aMenu);\r\n        }\r\n      });\r\n      this.treeMenuList.forEach((element) => {\r\n        var items = [];\r\n        this.menuList.forEach((element1) => {\r\n          if (element.key == element1.ParentID) {\r\n            var aMenu = {\r\n              key: element1.ID,\r\n              label: element1.Text,\r\n              data: element1.Text,\r\n              icon: element1.CLASS,\r\n            };\r\n            items.push(aMenu);\r\n          }\r\n        });\r\n        if (items.length > 0) {\r\n          items.forEach((element1) => {\r\n            var items2 = [];\r\n            this.menuList.forEach((element2) => {\r\n              if (element1.key == element2.ParentID) {\r\n                var aaMenu = {\r\n                  key: element2.ID,\r\n                  label: element2.Text,\r\n                  data: element2.Text,\r\n                  icon: element2.CLASS,\r\n                };\r\n                items2.push(aaMenu);\r\n              }\r\n              if (items2.length > 0) {\r\n                element1.children = items2;\r\n                element1.hasSubMenu = true;\r\n              }\r\n            });\r\n          });\r\n\r\n          element.children = items;\r\n          element.hasSubMenu = true;\r\n        }\r\n      });\r\n    },\r\n\r\n    async save() {\r\n      try {\r\n        if (this.rolePermission.role_id) {\r\n          var selectedmenu = [];\r\n          var array = Object.entries(this.selectedTreeValue);\r\n          array.forEach((element) => {\r\n            if (element[1].checked || element[1].partialChecked) {\r\n              var aselectedmenu = {\r\n                menu_id: element[0],\r\n                role_id: this.rolePermission.role_id,\r\n                has_deletePermission: true,\r\n                has_insertPermission: true,\r\n                has_updatePermission: true,\r\n              };\r\n              selectedmenu.push(aselectedmenu);\r\n            }\r\n          });\r\n          if (selectedmenu.length == 0) {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Faild\",\r\n              detail: \"Add Permission\",\r\n              life: 10000,\r\n            });\r\n            return;\r\n          }\r\n          let result = await this.rolePermissionService.add(selectedmenu);\r\n          if (result.status === 201) {\r\n            this.$toast.add({\r\n              severity: \"success\",\r\n              summary: \"Sucess\",\r\n              detail: \"Saved Sucessfully\",\r\n              life: 10000,\r\n            });\r\n          } else if (result.status === 401) {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Error\",\r\n              detail: result.data,\r\n              life: 10000,\r\n            });\r\n          } else {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Faild\",\r\n              detail: result.res,\r\n              life: 10000,\r\n            });\r\n          }\r\n        }\r\n      } catch (error) {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Faild\",\r\n          detail: error,\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n  },\r\n};"]}]}