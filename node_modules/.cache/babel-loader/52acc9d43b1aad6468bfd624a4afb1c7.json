{"remainingRequest":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\src\\scripts\\collection-zone\\InvestigationResultDispatch.js","dependencies":[{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\src\\scripts\\collection-zone\\InvestigationResultDispatch.js","mtime":1635312078183},{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9EaWFnbm9zdGljQ2VudGVyTWFuYWdlbWVudF9DbGllbnQvdHJ1bmsvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBDb21tb25TZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvQ29tbW9uU2VydmljZSI7CmltcG9ydCBQYXRpZW50SW52ZXN0aWdhdGlvblJlcXVlc3RTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvZnJvbnQtZGVzay9QYXRpZW50SW52ZXN0aWdhdGlvblJlcXVlc3RTZXJ2aWNlIjsKaW1wb3J0IEludmVzdGlnYXRpb25SZXN1bHREaXNwYXRjaFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9jb2xsZWN0aW9uLXpvbmUvSW52ZXN0aWdhdGlvblJlc3VsdERpc3BhdGNoU2VydmljZSI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IHsgRmlsdGVyTWF0Y2hNb2RlLCBGaWx0ZXJPcGVyYXRvciB9IGZyb20gInByaW1ldnVlL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGVzdFBhcmFtZXRlckxpc3Q6IFtdLAogICAgICBpbnZlc3RpZ2F0aW9uUmVzdWx0RGlzcGF0Y2hMaXN0OiBbXSwKICAgICAgZGlhZ25vc2lzSW52ZXN0aWdhdGlvblN0YXR1c0xpc3Q6IFtdLAogICAgICBpbnZlc3RpZ2F0aW9uUmVzdWx0RGlzcGF0Y2g6IHsKICAgICAgICBjZGZyb21kYXRlOiBtb21lbnQoU3RyaW5nKG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSAtIDcpKSkpLmZvcm1hdCgiTU0vREQvWVlZWSIpLAogICAgICAgIGNkdG9kYXRlOiBtb21lbnQoU3RyaW5nKG5ldyBEYXRlKCkpKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgICBpbnZlc3RpZ2F0aW9uX3N0YXR1czogIlJlYWR5IFRvIERlbGl2ZXJ5IgogICAgICB9LAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICBmaWx0ZXJzOiB7CiAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLkNPTlRBSU5TCiAgICAgICAgfSwKICAgICAgICBuYW1lOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLlNUQVJUU19XSVRICiAgICAgICAgfQogICAgICB9LAogICAgICBpbml0RmlsdGVyczogZnVuY3Rpb24gaW5pdEZpbHRlcnMoKSB7CiAgICAgICAgdGhpcy5maWx0ZXJzID0gewogICAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgICAgfSwKICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgb3BlcmF0b3I6IEZpbHRlck9wZXJhdG9yLkFORCwKICAgICAgICAgICAgY29uc3RyYWludHM6IFt7CiAgICAgICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuU1RBUlRTX1dJVEgKICAgICAgICAgICAgfV0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0RGlzcGF0Y2hTZXJ2aWNlID0gbmV3IEludmVzdGlnYXRpb25SZXN1bHREaXNwYXRjaFNlcnZpY2UoKTsKICAgIHRoaXMucGF0aWVudEludmVzdGlnYXRpb25SZXF1ZXN0U2VydmljZSA9IG5ldyBQYXRpZW50SW52ZXN0aWdhdGlvblJlcXVlc3RTZXJ2aWNlKCk7CiAgICB0aGlzLmNvbW1vblNlcnZpY2UgPSBuZXcgQ29tbW9uU2VydmljZSgpOwogICAgdGhpcy5jb21tb25TZXJ2aWNlLkdldERlbGl2ZXJ5SW52ZXN0aWdhdGlvblN0YXR1cygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIF90aGlzLmRpYWdub3Npc0ludmVzdGlnYXRpb25TdGF0dXNMaXN0ID0gZGF0YS5kYXRhOwogICAgfSk7CiAgICB0aGlzLnNob3coKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgLy8gdGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0RGlzcGF0Y2ggPSB7CiAgICAgIC8vICAgY2Rmcm9tZGF0ZTogbW9tZW50KAogICAgICAvLyAgICAgU3RyaW5nKG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSAtIDcpKSkKICAgICAgLy8gICApLmZvcm1hdCgiTU0vREQvWVlZWSIpLAogICAgICAvLyAgIGNkdG9kYXRlOiBtb21lbnQoU3RyaW5nKG5ldyBEYXRlKCkpKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgLy8gICBpbnZlc3RpZ2F0aW9uX3N0YXR1czogIlJlYWR5IFRvIERlbGl2ZXJ5IiwKICAgICAgLy8gfTsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93KCk7CiAgICB9LAogICAgc2hvdzogZnVuY3Rpb24gc2hvdygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CgogICAgICBpZiAoIXRoaXMuaW52ZXN0aWdhdGlvblJlc3VsdERpc3BhdGNoLmNkZnJvbWRhdGUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaW52ZXN0aWdhdGlvblJlc3VsdERpc3BhdGNoLmNkdG9kYXRlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKCF0aGlzLmludmVzdGlnYXRpb25SZXN1bHREaXNwYXRjaC5pbnZlc3RpZ2F0aW9uX3N0YXR1cykgewogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmludmVzdGlnYXRpb25SZXN1bHREaXNwYXRjaC5mcm9tZGF0ZSA9IG1vbWVudChTdHJpbmcodGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0RGlzcGF0Y2guY2Rmcm9tZGF0ZSkpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICAgIHRoaXMuaW52ZXN0aWdhdGlvblJlc3VsdERpc3BhdGNoLnRvZGF0ZSA9IG1vbWVudChTdHJpbmcodGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0RGlzcGF0Y2guY2R0b2RhdGUpKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgICB0aGlzLmludmVzdGlnYXRpb25SZXN1bHREaXNwYXRjaFNlcnZpY2UuZ2V0RHluYW1pYyh0aGlzLmludmVzdGlnYXRpb25SZXN1bHREaXNwYXRjaC5mcm9tZGF0ZSwgdGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0RGlzcGF0Y2gudG9kYXRlLCB0aGlzLmludmVzdGlnYXRpb25SZXN1bHREaXNwYXRjaC5pbnZlc3RpZ2F0aW9uX3N0YXR1cykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi5pbnZlc3RpZ2F0aW9uUmVzdWx0RGlzcGF0Y2hMaXN0ID0gZGF0YS5kYXRhOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CiAgICB9LAogICAgc2VuZFRvRGVsaXZlcnlDb25maXJtOiBmdW5jdGlvbiBzZW5kVG9EZWxpdmVyeUNvbmZpcm0oZGF0YSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0ucmVxdWlyZSh7CiAgICAgICAgbWVzc2FnZTogIkFyZSB5b3Ugd2FudCB0byBzdXJlIGRlbGl2ZXJ5PyIsCiAgICAgICAgaGVhZGVyOiAiQ29uZmlybWF0aW9uIiwKICAgICAgICBpY29uOiAicGkgcGktZXhjbGFtYXRpb24tdHJpYW5nbGUiLAogICAgICAgIGFjY2VwdDogZnVuY3Rpb24gYWNjZXB0KCkgewogICAgICAgICAgX3RoaXMzLmZpbmRJbnZlc3RpZ2F0aW9uKGRhdGEpOwogICAgICAgIH0sCiAgICAgICAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3QoKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBmaW5kSW52ZXN0aWdhdGlvbjogZnVuY3Rpb24gZmluZEludmVzdGlnYXRpb24oZGVsaXZlcnlEYXRhKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5wYXRpZW50SW52ZXN0aWdhdGlvblJlcXVlc3RTZXJ2aWNlLmdldEJ5SWQoZGVsaXZlcnlEYXRhLmludmVzdGlnYXRpb25fcmVxdWVzdF9pZCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBfdGhpczQuZ2V0Rm9ybWF0dGVkKGRhdGEuZGF0YSwgZGVsaXZlcnlEYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0Rm9ybWF0dGVkOiBmdW5jdGlvbiBnZXRGb3JtYXR0ZWQoaW52RGF0YSwgZGVsaXZlcnlEYXRhKSB7CiAgICAgIGlmIChpbnZEYXRhLmludl9kdWVfYW1vdW50ID09IDApIHsKICAgICAgICB0aGlzLnNlbmRUb0RlbGl2ZXJ5KGRlbGl2ZXJ5RGF0YSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kdG9hc3QuYWRkKHsKICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgc3VtbWFyeTogIkNhbm90IGRlbGl2ZXJ5ISIsCiAgICAgICAgICBkZXRhaWw6ICJZb3VyIGR1ZSBhbW91bnQgIiArIGludkRhdGEuaW52X2R1ZV9hbW91bnQgKyAiIFRLIiwKICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzZW5kVG9EZWxpdmVyeTogZnVuY3Rpb24gc2VuZFRvRGVsaXZlcnkoZGF0YSkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuaW52ZXN0aWdhdGlvblJlc3VsdERpc3BhdGNoU2VydmljZS5yZXBvcnREZWxpdmVyeShkYXRhLnNhbXBsZV9jb2xsZWN0aW9uX2lkLCBfdGhpczUpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIlN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogIkRlbGl2ZXJlZCIsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczUucmVzZXQoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRmFpbGQiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LnJlcywKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUodmFsdWUpIHsKICAgICAgcmV0dXJuIG1vbWVudChTdHJpbmcodmFsdWUpKS5mb3JtYXQoIk1NL0REL1lZWVkgaDptbTpzcyBhIik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["F:/SVN PROJECTS/DiagnosticCenterManagement_Client/trunk/src/scripts/collection-zone/InvestigationResultDispatch.js"],"names":["CommonService","PatientInvestigationRequestService","InvestigationResultDispatchService","moment","FilterMatchMode","FilterOperator","data","testParameterList","investigationResultDispatchList","diagnosisInvestigationStatusList","investigationResultDispatch","cdfromdate","String","Date","setDate","getDate","format","cdtodate","investigation_status","submitted","filters","global","value","matchMode","CONTAINS","name","STARTS_WITH","initFilters","operator","AND","constraints","created","investigationResultDispatchService","patientInvestigationRequestService","commonService","GetDeliveryInvestigationStatus","then","show","methods","reset","fromdate","todate","getDynamic","sendToDeliveryConfirm","$confirm","require","message","header","icon","accept","findInvestigation","reject","deliveryData","getById","investigation_request_id","getFormatted","invData","inv_due_amount","sendToDelivery","$toast","add","severity","summary","detail","life","reportDelivery","sample_collection_id","result","status","res","formatDate"],"mappings":"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","sourcesContent":["import CommonService from \"../../service/CommonService\";\r\nimport PatientInvestigationRequestService from \"../../service/front-desk/PatientInvestigationRequestService\";\r\nimport InvestigationResultDispatchService from \"../../service/collection-zone/InvestigationResultDispatchService\";\r\nimport moment from \"moment\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      testParameterList: [],\r\n      investigationResultDispatchList: [],\r\n      diagnosisInvestigationStatusList: [],\r\n      investigationResultDispatch: {\r\n        cdfromdate: moment(\r\n          String(new Date(new Date().setDate(new Date().getDate() - 7)))\r\n        ).format(\"MM/DD/YYYY\"),\r\n        cdtodate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n        investigation_status: \"Ready To Delivery\",\r\n      },\r\n      submitted: false,\r\n      filters: {\r\n        global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        name: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      initFilters() {\r\n        this.filters = {\r\n          global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n          name: {\r\n            operator: FilterOperator.AND,\r\n            constraints: [\r\n              { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            ],\r\n          },\r\n        };\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.investigationResultDispatchService =\r\n      new InvestigationResultDispatchService();\r\n    this.patientInvestigationRequestService =\r\n      new PatientInvestigationRequestService();\r\n    this.commonService = new CommonService();\r\n\r\n    this.commonService\r\n      .GetDeliveryInvestigationStatus()\r\n      .then((data) => (this.diagnosisInvestigationStatusList = data.data));\r\n\r\n    this.show();\r\n  },\r\n  methods: {\r\n    reset() {\r\n      // this.investigationResultDispatch = {\r\n      //   cdfromdate: moment(\r\n      //     String(new Date(new Date().setDate(new Date().getDate() - 7)))\r\n      //   ).format(\"MM/DD/YYYY\"),\r\n      //   cdtodate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n      //   investigation_status: \"Ready To Delivery\",\r\n      // };\r\n      this.submitted = false;\r\n\r\n      this.show();\r\n    },\r\n    show() {\r\n      this.submitted = true;\r\n      if (!this.investigationResultDispatch.cdfromdate) {\r\n        return;\r\n      } else if (!this.investigationResultDispatch.cdtodate) {\r\n        return;\r\n      } else if (!this.investigationResultDispatch.investigation_status) {\r\n        return;\r\n      } else {\r\n        this.investigationResultDispatch.fromdate = moment(\r\n          String(this.investigationResultDispatch.cdfromdate)\r\n        ).format(\"YYYY-MM-DD\");\r\n        this.investigationResultDispatch.todate = moment(\r\n          String(this.investigationResultDispatch.cdtodate)\r\n        ).format(\"YYYY-MM-DD\");\r\n        this.investigationResultDispatchService\r\n          .getDynamic(\r\n            this.investigationResultDispatch.fromdate,\r\n            this.investigationResultDispatch.todate,\r\n            this.investigationResultDispatch.investigation_status\r\n          )\r\n          .then((data) => (this.investigationResultDispatchList = data.data));\r\n      }\r\n\r\n      this.submitted = true;\r\n    },\r\n    sendToDeliveryConfirm(data) {\r\n      this.$confirm.require({\r\n        message: \"Are you want to sure delivery?\",\r\n        header: \"Confirmation\",\r\n        icon: \"pi pi-exclamation-triangle\",\r\n        accept: () => {\r\n          this.findInvestigation(data);\r\n        },\r\n        reject: () => {\r\n          return;\r\n        },\r\n      });\r\n    },\r\n    findInvestigation(deliveryData) {\r\n      this.patientInvestigationRequestService\r\n        .getById(deliveryData.investigation_request_id)\r\n        .then((data) => this.getFormatted(data.data, deliveryData));\r\n    },\r\n    getFormatted(invData, deliveryData) {\r\n      if (invData.inv_due_amount == 0) {\r\n        this.sendToDelivery(deliveryData);\r\n      } else {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Canot delivery!\",\r\n          detail: \"Your due amount \" + invData.inv_due_amount + \" TK\",\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n    async sendToDelivery(data) {\r\n      let result = await this.investigationResultDispatchService.reportDelivery(\r\n        data.sample_collection_id, this\r\n      );\r\n      if (result.status === 200) {\r\n        this.$toast.add({\r\n          severity: \"success\",\r\n          summary: \"Success\",\r\n          detail: \"Delivered\",\r\n          life: 10000,\r\n        });\r\n        this.reset();\r\n      } else {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Faild\",\r\n          detail: result.res,\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n    formatDate(value) {\r\n      return moment(String(value)).format(\"MM/DD/YYYY h:mm:ss a\");\r\n    },\r\n  },\r\n};"]}]}