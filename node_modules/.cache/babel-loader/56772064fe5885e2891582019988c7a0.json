{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\cash-counter\\EmergencyPayment.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\cash-counter\\EmergencyPayment.js","mtime":1668676467758},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9FUlBfSG9zcGl0YWxfQ2xpZW50L3RydW5rL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IFBhdGllbnRQYXltZW50U2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL2Nhc2gtY291bnRlci9QYXRpZW50UGF5bWVudFNlcnZpY2UiOyAvL2ltcG9ydCBQYXRpZW50SW52ZXN0aWdhdGlvblJlcXVlc3RTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvZnJvbnQtZGVzay9QYXRpZW50SW52ZXN0aWdhdGlvblJlcXVlc3RTZXJ2aWNlIjsKCmltcG9ydCBQYXltZW50VHlwZVNldHVwU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL3NldHVwL1BheW1lbnRUeXBlU2V0dXBTZXJ2aWNlIjsKaW1wb3J0IEVtZXJnZW5jeVJlcG9ydFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9yZXBvcnQvRW1lcmdlbmN5UmVwb3J0U2VydmljZSI7CmltcG9ydCBDb21tb25TZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvQ29tbW9uU2VydmljZSI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IHsgRmlsdGVyTWF0Y2hNb2RlLCBGaWx0ZXJPcGVyYXRvciB9IGZyb20gInByaW1ldnVlL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNQYXltZW50OiB0cnVlLAogICAgICBhZGRMaXN0OiBmYWxzZSwKICAgICAgYnV0dG9uOiBmYWxzZSwKICAgICAgaXNDYXNoOiBmYWxzZSwKICAgICAgLy9pc1BhaWQ6ICIiLAogICAgICBpc0Nhc2hQYWlkOiAiIiwKICAgICAgLy9pc0R1ZUV4aXN0OiAiIiwKICAgICAgLy9pc0V4aXN0OiAiIiwKICAgICAgYWRtaXR0ZWRQYXRpZW50TGlzdDogW10sCiAgICAgIHBheW1lbnRUeXBlTGlzdDogW10sCiAgICAgIHRvdGFsUHR5QW1vdW50OiAwLAogICAgICBwYXRpZW50UGF5bWVudDogewogICAgICAgIGNkcGF5bWVudF9kYXRlOiBtb21lbnQoU3RyaW5nKG5ldyBEYXRlKCkpKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgICBwdHlwYWlkX2Ftb3VudDogMCwKICAgICAgICB0b3RhbF9hbW91bnRfaW5mOiAwLAogICAgICAgIHBheW1lbnRUeXBlQ2FzaDogIjEiLAogICAgICAgIGludm9pY2VfaWQ6ICIiLAogICAgICAgIGFQYXRpZW50OiB7fSwKICAgICAgICBsc3RQYXRpZW50UGF5bWVudERldGFpbHM6IFtdLAogICAgICAgIGVtZXJnZW5jeVNlcnZpY2VMaXN0OiBbXQogICAgICB9LAogICAgICBmaWx0ZXJzOiB7CiAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLkNPTlRBSU5TCiAgICAgICAgfSwKICAgICAgICBuYW1lOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLlNUQVJUU19XSVRICiAgICAgICAgfQogICAgICB9LAogICAgICBpbml0RmlsdGVyczogZnVuY3Rpb24gaW5pdEZpbHRlcnMoKSB7CiAgICAgICAgdGhpcy5maWx0ZXJzID0gewogICAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgICAgfSwKICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgb3BlcmF0b3I6IEZpbHRlck9wZXJhdG9yLkFORCwKICAgICAgICAgICAgY29uc3RyYWludHM6IFt7CiAgICAgICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuU1RBUlRTX1dJVEgKICAgICAgICAgICAgfV0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9LAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5wYXRpZW50UGF5bWVudFNlcnZpY2UgPSBuZXcgUGF0aWVudFBheW1lbnRTZXJ2aWNlKCk7IC8vICB0aGlzLnBhdGllbnRJbnZlc3RpZ2F0aW9uUmVxdWVzdFNlcnZpY2UgPSAgICAgIG5ldyBQYXRpZW50SW52ZXN0aWdhdGlvblJlcXVlc3RTZXJ2aWNlKCk7CgogICAgdGhpcy5wYXltZW50VHlwZVNldHVwU2VydmljZSA9IG5ldyBQYXltZW50VHlwZVNldHVwU2VydmljZSgpOwogICAgdGhpcy5lbWVyZ2VuY3lSZXBvcnRTZXJ2aWNlID0gbmV3IEVtZXJnZW5jeVJlcG9ydFNlcnZpY2UoKTsKICAgIHRoaXMuY29tbW9uU2VydmljZSA9IG5ldyBDb21tb25TZXJ2aWNlKCk7CiAgICB0aGlzLnBheW1lbnRUeXBlU2V0dXBTZXJ2aWNlLmdldEFsbCgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIF90aGlzLnBheW1lbnRUeXBlTGlzdCA9IGRhdGEuZGF0YTsKICAgIH0pOwogICAgdGhpcy5nZXRFbWVyZ2VuY3lQYXlhYmxlUGF0aWVudCgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RW1lcmdlbmN5UGF5YWJsZVBhdGllbnQ6IGZ1bmN0aW9uIGdldEVtZXJnZW5jeVBheWFibGVQYXRpZW50KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMucGF0aWVudFBheW1lbnRTZXJ2aWNlLmdldGVtZXJnZW5jeVBhYmxlUGF0aWVudCgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLmFkbWl0dGVkUGF0aWVudExpc3QgPSBkYXRhLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIHByaW50RW1lcmdlbmN5UGF5bWVudDogZnVuY3Rpb24gcHJpbnRFbWVyZ2VuY3lQYXltZW50KElkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5lbWVyZ2VuY3lSZXBvcnRTZXJ2aWNlLkdldEVtZXJnZW5jeVNlcnZpY2VQYXltZW50KElkLCB0aGlzKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMy5jb21tb25TZXJ2aWNlLkRvd25sb2FkZmlsZShkYXRhLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBwYXltZW50UmVzZXQ6IGZ1bmN0aW9uIHBheW1lbnRSZXNldCgpIHsKICAgICAgdGhpcy5pc1BheW1lbnQgPSB0cnVlOwogICAgICB0aGlzLnBhdGllbnRQYXltZW50LmRkbFBheW1lbnRUeXBlID0gIiI7IC8vdGhpcy5pc0V4aXN0ID0gIiI7CiAgICB9LAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLmlzUGF5bWVudCA9IHRydWU7CiAgICAgIHRoaXMuYWRkTGlzdCA9IGZhbHNlOwogICAgICB0aGlzLmJ1dHRvbiA9IGZhbHNlOwogICAgICB0aGlzLmlzQ2FzaCA9IGZhbHNlOyAvL3RoaXMuaXNFeGlzdCA9ICIiOwogICAgICAvL3RoaXMuaXNQYWlkID0gIiI7CgogICAgICB0aGlzLmlzQ2FzaFBhaWQgPSAiIjsKICAgICAgdGhpcy50b3RhbFB0eUFtb3VudCA9IDA7CiAgICAgIHRoaXMucGF0aWVudFBheW1lbnQgPSB7CiAgICAgICAgY2RwYXltZW50X2RhdGU6IG1vbWVudChTdHJpbmcobmV3IERhdGUoKSkpLmZvcm1hdCgiTU0vREQvWVlZWSIpLAogICAgICAgIHB0eXBhaWRfYW1vdW50OiAwLAogICAgICAgIHRvdGFsX2Ftb3VudF9pbmY6IDAsCiAgICAgICAgcGF5bWVudFR5cGVDYXNoOiAiMSIsCiAgICAgICAgY2FzaF9wYWlkX2Ftb3VudDogMCwKICAgICAgICBpbnZvaWNlX2lkOiAiIiwKICAgICAgICBhUGF0aWVudDoge30sCiAgICAgICAgbHN0UGF0aWVudFBheW1lbnREZXRhaWxzOiBbXSwKICAgICAgICBlbWVyZ2VuY3lTZXJ2aWNlTGlzdDogW10KICAgICAgfTsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgICAgdGhpcy5nZXRFbWVyZ2VuY3lQYXlhYmxlUGF0aWVudCgpOwogICAgfSwKICAgIGZpbHRlclBheW1lbnRUeXBlOiBmdW5jdGlvbiBmaWx0ZXJQYXltZW50VHlwZSgpIHsKICAgICAgcmV0dXJuIHRoaXMucGF5bWVudFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gZWwucGF5bWVudF90eXBlX2lkICE9IDEgJiYgZWwuYWN0aXZlID09IHRydWU7CiAgICAgIH0sIHRoaXMpOwogICAgfSwKICAgIGdldEZvcm1hdHRlZDogZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkKG9iaikgewogICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uob2JqLmRhdGEpOyAvLyBkYXRhPWRhdGFbMF07CgogICAgICBpZiAoZGF0YS5sZW5ndGggPT0gMCkgewogICAgICAgIC8vdGhpcy5pc0R1ZUV4aXN0ID0gIk5vdCBkdWUhIjsKICAgICAgICB0aGlzLiR0b2FzdC5hZGQoewogICAgICAgICAgc2V2ZXJpdHk6ICJ3YXJuIiwKICAgICAgICAgIHN1bW1hcnk6ICJXYXJuIE1lc3NhZ2UiLAogICAgICAgICAgZGV0YWlsOiAiTm90IGR1ZSEiLAogICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICB9KTsKICAgICAgICB0aGlzLnBhdGllbnRQYXltZW50ID0gewogICAgICAgICAgcGF5bWVudFR5cGVDYXNoOiAiMSIsCiAgICAgICAgICBpbnZvaWNlX2lkOiAiIiwKICAgICAgICAgIGFQYXRpZW50OiB7fSwKICAgICAgICAgIGxzdFBhdGllbnRQYXltZW50RGV0YWlsczogW10sCiAgICAgICAgICBlbWVyZ2VuY3lTZXJ2aWNlTGlzdDogW10KICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIC8vdGhpcy5pc0R1ZUV4aXN0ID0gIiI7CiAgICAgICAgZGVidWdnZXI7CiAgICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC5pbnZvaWNlX2lkID0gZGF0YVswXS5pbnZvaWNlX2lkOwogICAgICAgIHRoaXMucGF0aWVudFBheW1lbnQuYVBhdGllbnQucGF0aWVudF9pZCA9IGRhdGFbMF0ucGF0aWVudF9pZDsKICAgICAgICB0aGlzLnBhdGllbnRQYXltZW50LmFQYXRpZW50LmZpcnN0X25hbWUgPSBkYXRhWzBdLmZpcnN0X25hbWU7CiAgICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC5hUGF0aWVudC5jb250YWN0X25vID0gZGF0YVswXS5jb250YWN0X25vOwogICAgICAgIHRoaXMucGF0aWVudFBheW1lbnQudG90YWxfYW1vdW50ID0gZGF0YVswXS5kdWVfYW1vdW50OwogICAgICAgIHRoaXMucGF0aWVudFBheW1lbnQuY2FzaF9wYWlkX2Ftb3VudCA9IGRhdGFbMF0uZHVlX2Ftb3VudDsKICAgICAgICB0aGlzLnBhdGllbnRQYXltZW50LnB0eXBhaWRfYW1vdW50ID0gZGF0YVswXS5kdWVfYW1vdW50OwogICAgICAgIHRoaXMucGF0aWVudFBheW1lbnQuZGlzY291bnRfcGVyY2VudCA9IDA7CiAgICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC5kaXNjb3VudF9hbW91bnQgPSAwOwogICAgICAgIHRoaXMucGF0aWVudFBheW1lbnQuZGlzY291bnRfcmVhc29uID0gZGF0YS5kaXNjb3VudF9yZWFzb247CiAgICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC5jZGFkbWlzc2lvbl9kYXRlID0gbW9tZW50KFN0cmluZyhkYXRhWzBdLmNoZWNrX2luX3RpbWUpKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgICB0aGlzLnBhdGllbnRQYXltZW50LmVtZXJnZW5jeVNlcnZpY2VMaXN0ID0gSlNPTi5wYXJzZShvYmouc2VydmljZUxpc3QpOwogICAgICB9CiAgICB9LAogICAgZmluZFBheWFibGVQYXRpZW50OiBmdW5jdGlvbiBmaW5kUGF5YWJsZVBhdGllbnQocGF0aWVudE9ySW52b2ljZUlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgZGVidWdnZXI7CiAgICAgIHRoaXMucGF0aWVudFBheW1lbnRTZXJ2aWNlLmdldGVtZXJnZW5jeVBhYmxlQnlwYXRpZW50T3JJbnZvaWNlKHBhdGllbnRPckludm9pY2VJZCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBfdGhpczQuZ2V0Rm9ybWF0dGVkKGRhdGEuZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIHBheW1lbnRUeXBlSXNFeGlzdDogZnVuY3Rpb24gcGF5bWVudFR5cGVJc0V4aXN0KCkgewogICAgICB2YXIgYVBheW1lbnRUeXBlID0gdGhpcy5wYXRpZW50UGF5bWVudC5sc3RQYXRpZW50UGF5bWVudERldGFpbHMuZmlsdGVyKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5wYXltZW50X3R5cGVfaWQgPT09IHRoaXMucGF0aWVudFBheW1lbnQuZGRsUGF5bWVudFR5cGUucGF5bWVudF90eXBlX2lkOwogICAgICB9LCB0aGlzKTsKCiAgICAgIGlmIChhUGF5bWVudFR5cGUubGVuZ3RoKSB7CiAgICAgICAgLy90aGlzLmlzRXhpc3QgPSAiVGhpcyBQYXltZW50IFR5cGUgYWxyZWFkeSBhZGRlZCI7CiAgICAgICAgdGhpcy4kdG9hc3QuYWRkKHsKICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgc3VtbWFyeTogIkVycm9yIE1lc3NhZ2UiLAogICAgICAgICAgZGV0YWlsOiAiVGhpcyBQYXltZW50IFR5cGUgYWxyZWFkeSBhZGRlZCIsCiAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgIH0pOwogICAgICAgIHRoaXMuaXNQYXltZW50ID0gdHJ1ZTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy90aGlzLmlzRXhpc3QgPSAiIjsKICAgICAgICB0aGlzLmlzUGF5bWVudCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgYWRkUGF5bWVudFR5cGU6IGZ1bmN0aW9uIGFkZFBheW1lbnRUeXBlKCkgewogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CiAgICAgIHZhciBhUGF5bWVudFR5cGUgPSB0aGlzLnBhdGllbnRQYXltZW50LmxzdFBhdGllbnRQYXltZW50RGV0YWlscy5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgcmV0dXJuIGVsLnBheW1lbnRfdHlwZV9pZCA9PT0gdGhpcy5wYXRpZW50UGF5bWVudC5kZGxQYXltZW50VHlwZS5wYXltZW50X3R5cGVfaWQ7CiAgICAgIH0sIHRoaXMpOwoKICAgICAgaWYgKGFQYXltZW50VHlwZS5sZW5ndGgpIHsKICAgICAgICAvL3RoaXMuaXNFeGlzdCA9ICJUaGlzIFBheW1lbnQgVHlwZSBhbHJlYWR5IGFkZGVkIjsKICAgICAgICB0aGlzLiR0b2FzdC5hZGQoewogICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICBzdW1tYXJ5OiAiRXJyb3IgTWVzc2FnZSIsCiAgICAgICAgICBkZXRhaWw6ICJUaGlzIFBheW1lbnQgVHlwZSBhbHJlYWR5IGFkZGVkIiwKICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgfSk7IC8vdGhpcy5pc1BheW1lbnQgPSB0cnVlOwoKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKCF0aGlzLnBhdGllbnRQYXltZW50LmFQYXRpZW50LmZpcnN0X25hbWUpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnBhdGllbnRQYXltZW50LmNkcGF5bWVudF9kYXRlKSB7CiAgICAgICAgICB0aGlzLiR0b2FzdC5hZGQoewogICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgc3VtbWFyeTogIkVycm9yIE1lc3NhZ2UiLAogICAgICAgICAgICBkZXRhaWw6ICJQYXltZW50IERhdGUgaXMgcmVxdWlyZWQiLAogICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5wYXRpZW50UGF5bWVudC5kZGxQYXltZW50VHlwZSkgewogICAgICAgICAgLy90aGlzLmlzRXhpc3QgPSAiUGF5bWVudCBUeXBlIGlzIHJlcXVpcmVkLiI7CiAgICAgICAgICB0aGlzLiR0b2FzdC5hZGQoewogICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgc3VtbWFyeTogIkVycm9yIE1lc3NhZ2UiLAogICAgICAgICAgICBkZXRhaWw6ICJQYXltZW50IFR5cGUgaXMgcmVxdWlyZWQiLAogICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhdGllbnRQYXltZW50LnB0eXBhaWRfYW1vdW50IDw9IDAgfHwgIXRoaXMucGF0aWVudFBheW1lbnQucHR5cGFpZF9hbW91bnQpIHsKICAgICAgICAgIC8vdGhpcy5pc1BhaWQgPSAiTm9uLUNhc2ggUGFpZCBBbXQgaXMgcmVxdWlyZWQiOwogICAgICAgICAgdGhpcy4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgIHN1bW1hcnk6ICJFcnJvciBNZXNzYWdlIiwKICAgICAgICAgICAgZGV0YWlsOiAiTm9uLUNhc2ggUGFpZCBBbXQgaXMgcmVxdWlyZWQiLAogICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhdGllbnRQYXltZW50LmNhc2hfcGFpZF9hbW91bnQgPD0gMCB8fCB0aGlzLnBhdGllbnRQYXltZW50LmNhc2hfcGFpZF9hbW91bnQgPCB0aGlzLnBhdGllbnRQYXltZW50LnB0eXBhaWRfYW1vdW50KSB7CiAgICAgICAgICAvL3RoaXMuaXNQYWlkID0gIkV4Y2VlZCBhbW91bnQhIjsKICAgICAgICAgIHRoaXMuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgIHNldmVyaXR5OiAid2FybiIsCiAgICAgICAgICAgIHN1bW1hcnk6ICJXYXJuIE1lc3NhZ2UiLAogICAgICAgICAgICBkZXRhaWw6ICJFeGNlZWQgYW1vdW50ISIsCiAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy90aGlzLmlzRXhpc3QgPSAiIjsKICAgICAgICAgIC8vdGhpcy5pc1BhaWQgPSAiIjsKICAgICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIHBheW1lbnRfdHlwZV9pZDogdGhpcy5wYXRpZW50UGF5bWVudC5kZGxQYXltZW50VHlwZS5wYXltZW50X3R5cGVfaWQsCiAgICAgICAgICAgIF9wYXltZW50X3R5cGVfbmFtZTogdGhpcy5wYXRpZW50UGF5bWVudC5kZGxQYXltZW50VHlwZS5wYXltZW50X3R5cGVfbmFtZSwKICAgICAgICAgICAgcGFpZF9hbW91bnQ6IHBhcnNlSW50KHRoaXMucGF0aWVudFBheW1lbnQucHR5cGFpZF9hbW91bnQpCiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC5sc3RQYXRpZW50UGF5bWVudERldGFpbHMucHVzaChvYmopOyAvLyB0aGlzLnRvdGFsUHR5QW1vdW50ID0KICAgICAgICAgIC8vICAgdGhpcy50b3RhbFB0eUFtb3VudCArIHBhcnNlSW50KHRoaXMucGF0aWVudFBheW1lbnQucHR5cGFpZF9hbW91bnQpOwogICAgICAgICAgLy8gdGhpcy5wYXRpZW50UGF5bWVudC5jYXNoX3BhaWRfYW1vdW50ID0KICAgICAgICAgIC8vICAgdGhpcy5wYXRpZW50UGF5bWVudC50b3RhbF9hbW91bnQgLSB0aGlzLnRvdGFsUHR5QW1vdW50OwoKICAgICAgICAgIHRoaXMuZ3JpZFN1bSgpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5hZGRMaXN0ID0gdHJ1ZTsKICAgICAgdGhpcy5idXR0b24gPSB0cnVlOwogICAgfSwKICAgIGRlbGV0ZUZyb21MaXN0OiBmdW5jdGlvbiBkZWxldGVGcm9tTGlzdChkYXRhKSB7CiAgICAgIHRoaXMucGF0aWVudFBheW1lbnQubHN0UGF0aWVudFBheW1lbnREZXRhaWxzID0gdGhpcy5wYXRpZW50UGF5bWVudC5sc3RQYXRpZW50UGF5bWVudERldGFpbHMuZmlsdGVyKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5wYXltZW50X3R5cGVfaWQgIT0gZGF0YS5wYXltZW50X3R5cGVfaWQ7CiAgICAgIH0sIHRoaXMpOyAvLyB0aGlzLnBhdGllbnRQYXltZW50LmNhc2hfcGFpZF9hbW91bnQgPQogICAgICAvLyAgIHRoaXMucGF0aWVudFBheW1lbnQuY2FzaF9wYWlkX2Ftb3VudCArIHBhcnNlSW50KGRhdGEucGFpZF9hbW91bnQpOwoKICAgICAgaWYgKCF0aGlzLnBhdGllbnRQYXltZW50LmxzdFBhdGllbnRQYXltZW50RGV0YWlscy5sZW5ndGgpIHsKICAgICAgICB0aGlzLmFkZExpc3QgPSBmYWxzZTsKICAgICAgICB0aGlzLmJ1dHRvbiA9IGZhbHNlOwogICAgICB9CgogICAgICB0aGlzLmdyaWRTdW0oKTsKICAgIH0sCiAgICBncmlkU3VtOiBmdW5jdGlvbiBncmlkU3VtKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMucGF0aWVudFBheW1lbnQudG90YWxfYW1vdW50X2luZiA9IDA7CiAgICAgIHRoaXMucGF0aWVudFBheW1lbnQubHN0UGF0aWVudFBheW1lbnREZXRhaWxzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICBfdGhpczUucGF0aWVudFBheW1lbnQudG90YWxfYW1vdW50X2luZiArPSBlbGVtZW50LnBhaWRfYW1vdW50OwogICAgICB9KTsKICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC5jYXNoX3BhaWRfYW1vdW50ID0gdGhpcy5wYXRpZW50UGF5bWVudC50b3RhbF9hbW91bnQgLSB0aGlzLnBhdGllbnRQYXltZW50LnRvdGFsX2Ftb3VudF9pbmYgLSB0aGlzLnBhdGllbnRQYXltZW50LmRpc2NvdW50X2Ftb3VudDsKICAgICAgdGhpcy5kdWVDYWxjdWxhdGUoKTsKICAgIH0sCiAgICBkdWVDYWxjdWxhdGU6IGZ1bmN0aW9uIGR1ZUNhbGN1bGF0ZSgpIHsKICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC5kdWVfYW1vdW50ID0gdGhpcy5wYXRpZW50UGF5bWVudC50b3RhbF9hbW91bnQgLSB0aGlzLnBhdGllbnRQYXltZW50LmNhc2hfcGFpZF9hbW91bnQgLSB0aGlzLnBhdGllbnRQYXltZW50LnRvdGFsX2Ftb3VudF9pbmY7CgogICAgICBpZiAodGhpcy5wYXRpZW50UGF5bWVudC50b3RhbF9hbW91bnQgPCB0aGlzLnBhdGllbnRQYXltZW50LmNhc2hfcGFpZF9hbW91bnQpIHsKICAgICAgICB0aGlzLmlzQ2FzaFBhaWQgPSAiRXhjZWVkIGFtb3VudCEiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNDYXNoUGFpZCA9ICIiOwogICAgICB9CiAgICB9LAogICAgY2FsY3VsYXRlQ2hhbmdlQW1vdW50OiBmdW5jdGlvbiBjYWxjdWxhdGVDaGFuZ2VBbW91bnQoKSB7CiAgICAgIGlmICh0aGlzLnBhdGllbnRQYXltZW50LmNhc2hfYW1vdW50Lmxlbmd0aCkgewogICAgICAgIHRoaXMucGF0aWVudFBheW1lbnQuY2hhbmdlX2Ftb3VudCA9IHRoaXMucGF0aWVudFBheW1lbnQuY2FzaF9hbW91bnQgLSB0aGlzLnBhdGllbnRQYXltZW50LmNhc2hfcGFpZF9hbW91bnQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC5jaGFuZ2VfYW1vdW50ID0gMDsKICAgICAgfQogICAgfSwKICAgIGdldERpc2NvdW50UGVyY2VudDogZnVuY3Rpb24gZ2V0RGlzY291bnRQZXJjZW50KCkgewogICAgICB0aGlzLnBhdGllbnRQYXltZW50LmRpc2NvdW50X3BlcmNlbnQgPSBNYXRoLmNlaWwodGhpcy5wYXRpZW50UGF5bWVudC5kaXNjb3VudF9hbW91bnQgLyB0aGlzLnBhdGllbnRQYXltZW50LnRvdGFsX2Ftb3VudCAqIDEwMCk7CiAgICAgIHRoaXMuZ3JpZFN1bSgpOwogICAgfSwKICAgIGdldERpc2NvdW50QW1vdW50OiBmdW5jdGlvbiBnZXREaXNjb3VudEFtb3VudCgpIHsKICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC5kaXNjb3VudF9hbW91bnQgPSB0aGlzLnBhdGllbnRQYXltZW50LnRvdGFsX2Ftb3VudCAqIHRoaXMucGF0aWVudFBheW1lbnQuZGlzY291bnRfcGVyY2VudCAvIDEwMDsKICAgICAgdGhpcy5ncmlkU3VtKCk7CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNi5zdWJtaXR0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi5wYXRpZW50UGF5bWVudC5hUGF0aWVudC5maXJzdF9uYW1lKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi5wYXRpZW50UGF5bWVudC5jZHBheW1lbnRfZGF0ZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNi4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJFcnJvciBNZXNzYWdlIiwKICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiUGF5bWVudCBEYXRlIGlzIHJlcXVpcmVkIiwKICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi5wYXRpZW50UGF5bWVudC5pbnZvaWNlX2lkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczYucGF0aWVudFBheW1lbnQuY2FzaF9wYWlkX2Ftb3VudCA8PSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNi4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJFcnJvciIsCiAgICAgICAgICAgICAgICAgIGRldGFpbDogIkVudGVyIGFtb3VudCEiLAogICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNi5pc0Nhc2hQYWlkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM2LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICBzZXZlcml0eTogIndhcm4iLAogICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiV2FybiBNZXNzYWdlIiwKICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiRXhjZWVkIGFtb3VudCEiLAogICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgICBfdGhpczYucGF0aWVudFBheW1lbnQucGF5bWVudF9kYXRlID0gbW9tZW50KFN0cmluZyhfdGhpczYucGF0aWVudFBheW1lbnQuY2RwYXltZW50X2RhdGUpKS5mb3JtYXQoIllZWVktTU0tREQiKTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LnBhdGllbnRQYXltZW50LmNhc2hfcGFpZF9hbW91bnQgPiAwICYmICFfdGhpczYuaXNDYXNoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5wYXRpZW50UGF5bWVudC5sc3RQYXRpZW50UGF5bWVudERldGFpbHMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgcGF5bWVudF90eXBlX2lkOiBfdGhpczYucGF0aWVudFBheW1lbnQucGF5bWVudFR5cGVDYXNoLAogICAgICAgICAgICAgICAgICAgIHBhaWRfYW1vdW50OiBfdGhpczYucGF0aWVudFBheW1lbnQuY2FzaF9wYWlkX2Ftb3VudAogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNi5pc0Nhc2ggPSB0cnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNi5wYXRpZW50UGF5bWVudC5wYWlkX2Ftb3VudCA9IHBhcnNlSW50KF90aGlzNi5wYXRpZW50UGF5bWVudC5jYXNoX3BhaWRfYW1vdW50KSArIHBhcnNlSW50KF90aGlzNi5wYXRpZW50UGF5bWVudC50b3RhbF9hbW91bnRfaW5mKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYucGF0aWVudFBheW1lbnRTZXJ2aWNlLmFkZEVtZXJnZW5jeShfdGhpczYucGF0aWVudFBheW1lbnQsIF90aGlzNik7CgogICAgICAgICAgICAgIGNhc2UgMzA6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIlN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogIlNhdmVkIFN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczYucHJpbnRFbWVyZ2VuY3lQYXltZW50KHJlc3VsdC5kYXRhKTsgLy8gdmFyIGludl9yZXF1ZXN0X2lkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ludl9yZXF1ZXN0X2lkJyk7CiAgICAgICAgICAgICAgICAgIC8vIGlmIChpbnZfcmVxdWVzdF9pZCkgewogICAgICAgICAgICAgICAgICAvLyAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpbnZfcmVxdWVzdF9pZCcpOwogICAgICAgICAgICAgICAgICAvLyAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcGF0aWVudC1pbnZlc3RpZ2F0aW9uLXJlcXVlc3QiKTsKICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAvLyB2YXIgaW52X3JlcXVlc3Rfbm8gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaW52X3JlcXVlc3Rfbm8nKTsKICAgICAgICAgICAgICAgICAgLy8gaWYgKGludl9yZXF1ZXN0X25vKSB7CiAgICAgICAgICAgICAgICAgIC8vICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2ludl9yZXF1ZXN0X25vJyk7CiAgICAgICAgICAgICAgICAgIC8vICAgdGhpcy4kcm91dGVyLnB1c2goIi9pbnZlc3RpZ2F0aW9uLXJlc3VsdC1kaXNwYXRjaCIpOwogICAgICAgICAgICAgICAgICAvLyB9CgoKICAgICAgICAgICAgICAgICAgX3RoaXM2LnJlc2V0KCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDQwMSkgewogICAgICAgICAgICAgICAgICBfdGhpczYuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkVycm9yIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHJlc3VsdC5kYXRhLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZWQiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LnJlcywKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNi5yZXNldCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMzQ6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMzQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwoKICAgICAgICAgICAgICAgIF90aGlzNi4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZWQiLAogICAgICAgICAgICAgICAgICBkZXRhaWw6IF9jb250ZXh0LnQwLAogICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXM2LnJlc2V0KCk7CgogICAgICAgICAgICAgIGNhc2UgMzg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDM0XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/cash-counter/EmergencyPayment.js"],"names":["PatientPaymentService","PaymentTypeSetupService","EmergencyReportService","CommonService","moment","FilterMatchMode","FilterOperator","data","isPayment","addList","button","isCash","isCashPaid","admittedPatientList","paymentTypeList","totalPtyAmount","patientPayment","cdpayment_date","String","Date","format","ptypaid_amount","total_amount_inf","paymentTypeCash","invoice_id","aPatient","lstPatientPaymentDetails","emergencyServiceList","filters","global","value","matchMode","CONTAINS","name","STARTS_WITH","initFilters","operator","AND","constraints","submitted","created","patientPaymentService","paymentTypeSetupService","emergencyReportService","commonService","getAll","then","getEmergencyPayablePatient","methods","getemergencyPablePatient","printEmergencyPayment","Id","GetEmergencyServicePayment","Downloadfile","paymentReset","ddlPaymentType","reset","cash_paid_amount","filterPaymentType","filter","el","payment_type_id","active","getFormatted","obj","JSON","parse","length","$toast","add","severity","summary","detail","life","patient_id","first_name","contact_no","total_amount","due_amount","discount_percent","discount_amount","discount_reason","cdadmission_date","check_in_time","serviceList","findPayablePatient","patientOrInvoiceId","getemergencyPableBypatientOrInvoice","paymentTypeIsExist","aPaymentType","addPaymentType","_payment_type_name","payment_type_name","paid_amount","parseInt","push","gridSum","deleteFromList","forEach","element","dueCalculate","calculateChangeAmount","cash_amount","change_amount","getDiscountPercent","Math","ceil","getDiscountAmount","payment_date","addEmergency","result","status","res"],"mappings":"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","sourcesContent":["import PatientPaymentService from \"../../service/cash-counter/PatientPaymentService\";\r\n//import PatientInvestigationRequestService from \"../../service/front-desk/PatientInvestigationRequestService\";\r\nimport PaymentTypeSetupService from \"../../service/setup/PaymentTypeSetupService\";\r\nimport EmergencyReportService from \"../../service/report/EmergencyReportService\";\r\nimport CommonService from \"../../service/CommonService\";\r\nimport moment from \"moment\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      isPayment: true,\r\n      addList: false,\r\n      button: false,\r\n      isCash: false,\r\n      //isPaid: \"\",\r\n      isCashPaid: \"\",\r\n      //isDueExist: \"\",\r\n      //isExist: \"\",\r\n      admittedPatientList: [],\r\n      paymentTypeList: [],\r\n      totalPtyAmount: 0,\r\n      patientPayment: {\r\n        cdpayment_date: moment(String(new Date())).format(\r\n          \"MM/DD/YYYY\"\r\n        ),\r\n        ptypaid_amount: 0,\r\n        total_amount_inf: 0,\r\n        paymentTypeCash: \"1\",\r\n        invoice_id: \"\",\r\n        aPatient: {},\r\n        lstPatientPaymentDetails: [],\r\n        emergencyServiceList: [],\r\n      },\r\n      filters: {\r\n        global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        name: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      initFilters() {\r\n        this.filters = {\r\n          global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n          name: {\r\n            operator: FilterOperator.AND,\r\n            constraints: [\r\n              { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            ],\r\n          },\r\n        };\r\n      },\r\n      submitted: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.patientPaymentService = new PatientPaymentService();\r\n  //  this.patientInvestigationRequestService =      new PatientInvestigationRequestService();\r\n    this.paymentTypeSetupService = new PaymentTypeSetupService();\r\n    this.emergencyReportService = new EmergencyReportService();\r\n    this.commonService = new CommonService();\r\n\r\n    this.paymentTypeSetupService\r\n      .getAll()\r\n      .then((data) => (this.paymentTypeList = data.data));\r\n    this.getEmergencyPayablePatient();\r\n  },\r\n  methods: {\r\n    getEmergencyPayablePatient(){\r\n      this.patientPaymentService\r\n          .getemergencyPablePatient()\r\n          .then((data) => (this.admittedPatientList = data.data));\r\n    },\r\n    printEmergencyPayment(Id){\r\n      this.emergencyReportService.GetEmergencyServicePayment(Id, this).then((data) => (this.commonService.Downloadfile(data.data)));\r\n    },\r\n    paymentReset() {\r\n      this.isPayment = true;\r\n      this.patientPayment.ddlPaymentType = \"\";\r\n      //this.isExist = \"\";\r\n    },\r\n    reset() {\r\n      this.isPayment = true;\r\n      this.addList = false;\r\n      this.button = false;\r\n      this.isCash = false;\r\n      //this.isExist = \"\";\r\n      //this.isPaid = \"\";\r\n      this.isCashPaid = \"\";\r\n      this.totalPtyAmount = 0;\r\n      this.patientPayment = {\r\n        cdpayment_date: moment(String(new Date())).format(\r\n          \"MM/DD/YYYY\"\r\n        ),\r\n        ptypaid_amount: 0,\r\n        total_amount_inf: 0,\r\n        paymentTypeCash: \"1\",\r\n        cash_paid_amount: 0,\r\n        invoice_id: \"\",\r\n        aPatient: {},\r\n        lstPatientPaymentDetails: [],\r\n        emergencyServiceList: [],\r\n      };\r\n      this.submitted = false;\r\n\r\n      this.getEmergencyPayablePatient();\r\n    },\r\n    filterPaymentType() {\r\n      return this.paymentTypeList.filter(function (el) {\r\n        return el.payment_type_id != 1 && el.active == true;\r\n      }, this);\r\n    },\r\n    getFormatted(obj) {\r\n      var data = JSON.parse(obj.data);\r\n     // data=data[0];\r\n      if (data.length == 0) {\r\n        //this.isDueExist = \"Not due!\";\r\n        this.$toast.add({\r\n          severity: \"warn\",\r\n          summary: \"Warn Message\",\r\n          detail: \"Not due!\",\r\n          life: 10000,\r\n        });\r\n        this.patientPayment = {\r\n          paymentTypeCash: \"1\",\r\n          invoice_id: \"\",\r\n          aPatient: {},\r\n          lstPatientPaymentDetails: [],\r\n          emergencyServiceList: [],\r\n        };\r\n      } else {\r\n        //this.isDueExist = \"\";\r\n        debugger;\r\n        this.patientPayment.invoice_id = data[0].invoice_id;\r\n        this.patientPayment.aPatient.patient_id = data[0].patient_id;\r\n        this.patientPayment.aPatient.first_name = data[0].first_name;\r\n        this.patientPayment.aPatient.contact_no = data[0].contact_no;\r\n\r\n        this.patientPayment.total_amount = data[0].due_amount;\r\n        this.patientPayment.cash_paid_amount = data[0].due_amount;\r\n        this.patientPayment.ptypaid_amount = data[0].due_amount;\r\n        this.patientPayment.discount_percent = 0;\r\n        this.patientPayment.discount_amount = 0;\r\n        this.patientPayment.discount_reason = data.discount_reason;\r\n\r\n        this.patientPayment.cdadmission_date = moment(\r\n          String(data[0].check_in_time)\r\n        ).format(\"YYYY-MM-DD\");\r\n\r\n        this.patientPayment.emergencyServiceList = JSON.parse(obj.serviceList);\r\n      }\r\n    },\r\n    findPayablePatient(patientOrInvoiceId) {\r\n      debugger;\r\n      this.patientPaymentService\r\n        .getemergencyPableBypatientOrInvoice(patientOrInvoiceId)\r\n        .then((data) => this.getFormatted(data.data));\r\n    },\r\n\r\n    paymentTypeIsExist() {\r\n      var aPaymentType = this.patientPayment.lstPatientPaymentDetails.filter(\r\n        function (el) {\r\n          return (\r\n            el.payment_type_id ===\r\n            this.patientPayment.ddlPaymentType.payment_type_id\r\n          );\r\n        },\r\n        this\r\n      );\r\n\r\n      if (aPaymentType.length) {\r\n        //this.isExist = \"This Payment Type already added\";\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Error Message\",\r\n          detail: \"This Payment Type already added\",\r\n          life: 10000,\r\n        });\r\n        this.isPayment = true;\r\n        return;\r\n      } else {\r\n        //this.isExist = \"\";\r\n        this.isPayment = false;\r\n      }\r\n    },\r\n    addPaymentType() {\r\n      this.submitted = true;\r\n      var aPaymentType = this.patientPayment.lstPatientPaymentDetails.filter(\r\n        function (el) {\r\n          return (\r\n            el.payment_type_id ===\r\n            this.patientPayment.ddlPaymentType.payment_type_id\r\n          );\r\n        },\r\n        this\r\n      );\r\n\r\n      if (aPaymentType.length) {\r\n        //this.isExist = \"This Payment Type already added\";\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Error Message\",\r\n          detail: \"This Payment Type already added\",\r\n          life: 10000,\r\n        });\r\n        //this.isPayment = true;\r\n        return;\r\n      } else {\r\n        if (!this.patientPayment.aPatient.first_name) {\r\n          return;\r\n        } else if (!this.patientPayment.cdpayment_date) {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Error Message\",\r\n            detail: \"Payment Date is required\",\r\n            life: 10000,\r\n          });\r\n          return;\r\n        } else if (!this.patientPayment.ddlPaymentType) {\r\n          //this.isExist = \"Payment Type is required.\";\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Error Message\",\r\n            detail: \"Payment Type is required\",\r\n            life: 10000,\r\n          });\r\n          return;\r\n        } else if (\r\n          this.patientPayment.ptypaid_amount <= 0 ||\r\n          !this.patientPayment.ptypaid_amount\r\n        ) {\r\n          //this.isPaid = \"Non-Cash Paid Amt is required\";\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Error Message\",\r\n            detail: \"Non-Cash Paid Amt is required\",\r\n            life: 10000,\r\n          });\r\n          return;\r\n        } else if (\r\n          this.patientPayment.cash_paid_amount <= 0 ||\r\n          this.patientPayment.cash_paid_amount <\r\n            this.patientPayment.ptypaid_amount\r\n        ) {\r\n          //this.isPaid = \"Exceed amount!\";\r\n          this.$toast.add({\r\n            severity: \"warn\",\r\n            summary: \"Warn Message\",\r\n            detail: \"Exceed amount!\",\r\n            life: 10000,\r\n          });\r\n          return;\r\n        } else {\r\n          //this.isExist = \"\";\r\n          //this.isPaid = \"\";\r\n\r\n          var obj = {\r\n            payment_type_id: this.patientPayment.ddlPaymentType.payment_type_id,\r\n            _payment_type_name:\r\n              this.patientPayment.ddlPaymentType.payment_type_name,\r\n\r\n            paid_amount: parseInt(this.patientPayment.ptypaid_amount),\r\n          };\r\n\r\n          this.patientPayment.lstPatientPaymentDetails.push(obj);\r\n\r\n          // this.totalPtyAmount =\r\n          //   this.totalPtyAmount + parseInt(this.patientPayment.ptypaid_amount);\r\n\r\n          // this.patientPayment.cash_paid_amount =\r\n          //   this.patientPayment.total_amount - this.totalPtyAmount;\r\n          this.gridSum();\r\n        }\r\n      }\r\n\r\n      this.addList = true;\r\n      this.button = true;\r\n    },\r\n\r\n    deleteFromList(data) {\r\n      this.patientPayment.lstPatientPaymentDetails =\r\n        this.patientPayment.lstPatientPaymentDetails.filter(function (el) {\r\n          return el.payment_type_id != data.payment_type_id;\r\n        }, this);\r\n\r\n      // this.patientPayment.cash_paid_amount =\r\n      //   this.patientPayment.cash_paid_amount + parseInt(data.paid_amount);\r\n\r\n      if (!this.patientPayment.lstPatientPaymentDetails.length) {\r\n        this.addList = false;\r\n        this.button = false;\r\n      }\r\n      this.gridSum();\r\n    },\r\n    gridSum() {\r\n      this.patientPayment.total_amount_inf = 0;\r\n      this.patientPayment.lstPatientPaymentDetails.forEach((element) => {\r\n        this.patientPayment.total_amount_inf += element.paid_amount;\r\n      });\r\n      this.patientPayment.cash_paid_amount =\r\n        this.patientPayment.total_amount - this.patientPayment.total_amount_inf - this.patientPayment.discount_amount;\r\n\r\n      this.dueCalculate();\r\n    },\r\n    dueCalculate() {\r\n      this.patientPayment.due_amount =\r\n        this.patientPayment.total_amount -\r\n        this.patientPayment.cash_paid_amount -\r\n        this.patientPayment.total_amount_inf;\r\n\r\n      if (\r\n        this.patientPayment.total_amount < this.patientPayment.cash_paid_amount\r\n      ) {\r\n        this.isCashPaid = \"Exceed amount!\";\r\n      } else {\r\n        this.isCashPaid = \"\";\r\n      }\r\n    },\r\n    calculateChangeAmount() {\r\n      if (this.patientPayment.cash_amount.length) {\r\n        this.patientPayment.change_amount =\r\n          this.patientPayment.cash_amount -\r\n          this.patientPayment.cash_paid_amount;\r\n      } else {\r\n        this.patientPayment.change_amount = 0;\r\n      }\r\n    },\r\n    getDiscountPercent() {\r\n      this.patientPayment.discount_percent = Math.ceil(\r\n        (this.patientPayment.discount_amount /\r\n          this.patientPayment.total_amount) *\r\n        100);\r\n\r\n      this.gridSum();\r\n    },\r\n    getDiscountAmount() {\r\n      this.patientPayment.discount_amount =\r\n        (this.patientPayment.total_amount *\r\n          this.patientPayment.discount_percent) /\r\n        100;\r\n\r\n      this.gridSum();\r\n    },\r\n    async add() {\r\n      this.submitted = true;\r\n      try {\r\n        if (!this.patientPayment.aPatient.first_name) {\r\n          return;\r\n        } else if (!this.patientPayment.cdpayment_date) {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Error Message\",\r\n            detail: \"Payment Date is required\",\r\n            life: 10000,\r\n          });\r\n          return;\r\n        } else if (!this.patientPayment.invoice_id) {\r\n          return;\r\n        } else if (this.patientPayment.cash_paid_amount <= 0) {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Error\",\r\n            detail: \"Enter amount!\",\r\n            life: 10000,\r\n          });\r\n          return;\r\n        } else if (this.isCashPaid) {\r\n          this.$toast.add({\r\n            severity: \"warn\",\r\n            summary: \"Warn Message\",\r\n            detail: \"Exceed amount!\",\r\n            life: 10000,\r\n          });\r\n          return;\r\n        } else {\r\n          this.patientPayment.payment_date = moment(\r\n            String(this.patientPayment.cdpayment_date)\r\n          ).format(\"YYYY-MM-DD\");\r\n\r\n          if (this.patientPayment.cash_paid_amount > 0 && !this.isCash) {\r\n            this.patientPayment.lstPatientPaymentDetails.push({\r\n              payment_type_id: this.patientPayment.paymentTypeCash,\r\n\r\n              paid_amount: this.patientPayment.cash_paid_amount,\r\n            });\r\n\r\n            this.isCash = true;\r\n          }\r\n          this.patientPayment.paid_amount =\r\n            parseInt(this.patientPayment.cash_paid_amount) +\r\n            parseInt(this.patientPayment.total_amount_inf);\r\n\r\n          let result = await this.patientPaymentService.addEmergency(\r\n            this.patientPayment, this\r\n          );\r\n          if (result.status === 200) {\r\n            this.$toast.add({\r\n              severity: \"success\",\r\n              summary: \"Success\",\r\n              detail: \"Saved Successfully\",\r\n              life: 10000,\r\n            });\r\n            this.printEmergencyPayment(result.data);\r\n            // var inv_request_id = localStorage.getItem('inv_request_id');\r\n            // if (inv_request_id) {\r\n            //   localStorage.removeItem('inv_request_id');\r\n            //   this.$router.push(\"/patient-investigation-request\");\r\n            // }\r\n            // var inv_request_no = localStorage.getItem('inv_request_no');\r\n            // if (inv_request_no) {\r\n            //   localStorage.removeItem('inv_request_no');\r\n            //   this.$router.push(\"/investigation-result-dispatch\");\r\n            // }\r\n            this.reset();\r\n          } else if (result.status === 401) {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Error\",\r\n              detail: result.data,\r\n              life: 10000,\r\n            });\r\n          } else {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Failed\",\r\n              detail: result.res,\r\n              life: 10000,\r\n            });\r\n            this.reset();\r\n          }\r\n        }\r\n      } catch (error) {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Failed\",\r\n          detail: error,\r\n          life: 10000,\r\n        });\r\n        this.reset();\r\n      }\r\n    },\r\n  },\r\n};"]}]}