{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\reports\\InvestigationCollectionReport.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\reports\\InvestigationCollectionReport.js","mtime":1657086714721},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\babel.config.js","mtime":1624271518206},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBEaWFnbm9zaXNSZXBvcnRTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvcmVwb3J0L0RpYWdub3Npc1JlcG9ydFNlcnZpY2UiOwppbXBvcnQgSW52ZXN0aWdhdGlvbkNhdGVnb3J5U2V0dXBTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2Uvc2V0dXAvSW52ZXN0aWdhdGlvbkNhdGVnb3J5U2V0dXBTZXJ2aWNlIjsKaW1wb3J0IEludmVzdGlnYXRpb25TZXR1cFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9zZXR1cC9JbnZlc3RpZ2F0aW9uU2V0dXBTZXJ2aWNlIjsKaW1wb3J0IENvbW1vblNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9Db21tb25TZXJ2aWNlIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGludmVzdGlnYXRpb25DYXRlZ29yeUxpc3Q6IFtdLAogICAgICBpbnZlc3RpZ2F0aW9uTGlzdDogW10sCiAgICAgIGludmVzdGlnYXRpb25Db2xsZWN0aW9uOiB7CiAgICAgICAgY2Rmcm9tZGF0ZTogbW9tZW50KFN0cmluZyhuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkgLSA3KSkpKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgICBjZHRvZGF0ZTogbW9tZW50KFN0cmluZyhuZXcgRGF0ZSgpKSkuZm9ybWF0KCJNTS9ERC9ZWVlZIiksCiAgICAgICAgY29sbGVjdGlvblR5cGU6ICJQYWlkIiwKICAgICAgICB0eXBlOiAiIgogICAgICB9LAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5kaWFnbm9zaXNSZXBvcnRTZXJ2aWNlID0gbmV3IERpYWdub3Npc1JlcG9ydFNlcnZpY2UoKTsKICAgIHRoaXMuY29tbW9uU2VydmljZSA9IG5ldyBDb21tb25TZXJ2aWNlKCk7CiAgICB0aGlzLmludmVzdGlnYXRpb25DYXRlZ29yeVNldHVwU2VydmljZSA9IG5ldyBJbnZlc3RpZ2F0aW9uQ2F0ZWdvcnlTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMuaW52ZXN0aWdhdGlvblNldHVwU2VydmljZSA9IG5ldyBJbnZlc3RpZ2F0aW9uU2V0dXBTZXJ2aWNlKCk7CiAgICB0aGlzLmludmVzdGlnYXRpb25DYXRlZ29yeVNldHVwU2VydmljZS5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5pbnZlc3RpZ2F0aW9uQ2F0ZWdvcnlMaXN0ID0gZGF0YS5kYXRhOwogICAgfSk7CiAgICB0aGlzLmludmVzdGlnYXRpb25TZXR1cFNlcnZpY2UuZ2V0QWxsKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gX3RoaXMuZm9ybWF0SW52ZXN0aWdhdGlvbkxpc3QoZGF0YS5kYXRhKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZmlsdGVySW52ZXN0aWdhdGlvbkNhdGVnb3J5V2lzZTogZnVuY3Rpb24gZmlsdGVySW52ZXN0aWdhdGlvbkNhdGVnb3J5V2lzZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuaW52ZXN0aWdhdGlvbkxpc3QuZmlsdGVyKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5pbnZlc3RpZ2F0aW9uX2NhdGVnb3J5X2lkID09PSB0aGlzLmludmVzdGlnYXRpb25Db2xsZWN0aW9uLmludmVzdGlnYXRpb25fY2F0ZWdvcnlfaWQ7CiAgICAgIH0sIHRoaXMpOwogICAgfSwKICAgIGZvcm1hdEludmVzdGlnYXRpb25MaXN0OiBmdW5jdGlvbiBmb3JtYXRJbnZlc3RpZ2F0aW9uTGlzdChkYXRhKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGZpbHRlckRhdGEgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gZWwuYWN0aXZlID09IHRydWU7CiAgICAgIH0sIHRoaXMpOwogICAgICBmaWx0ZXJEYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICB2YXIgb2JqID0gZWxlbWVudDsKICAgICAgICBvYmouaW52ZXN0aW5nYXRpb25fbmFtZSA9IGVsZW1lbnQubWFudWFsX2NvZGUgKyAiLSIgKyBlbGVtZW50LmludmVzdGluZ2F0aW9uX25hbWU7CgogICAgICAgIF90aGlzMi5pbnZlc3RpZ2F0aW9uTGlzdC5wdXNoKG9iaik7CiAgICAgIH0pOwogICAgfSwKICAgIHNob3c6IGZ1bmN0aW9uIHNob3coKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOwoKICAgICAgaWYgKCF0aGlzLmludmVzdGlnYXRpb25Db2xsZWN0aW9uLmNkZnJvbWRhdGUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaW52ZXN0aWdhdGlvbkNvbGxlY3Rpb24uY2R0b2RhdGUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbnZlc3RpZ2F0aW9uQ29sbGVjdGlvbi5mcm9tZGF0ZSA9IG1vbWVudChTdHJpbmcodGhpcy5pbnZlc3RpZ2F0aW9uQ29sbGVjdGlvbi5jZGZyb21kYXRlKSkuZm9ybWF0KCJZWVlZLU1NLUREIik7CiAgICAgICAgdGhpcy5pbnZlc3RpZ2F0aW9uQ29sbGVjdGlvbi50b2RhdGUgPSBtb21lbnQoU3RyaW5nKHRoaXMuaW52ZXN0aWdhdGlvbkNvbGxlY3Rpb24uY2R0b2RhdGUpKS5mb3JtYXQoIllZWVktTU0tREQiKTsKCiAgICAgICAgaWYgKHRoaXMuaW52ZXN0aWdhdGlvbkNvbGxlY3Rpb24uY29sbGVjdGlvblR5cGUgPT0gIkR1ZSIpIHsKICAgICAgICAgIHRoaXMuZGlhZ25vc2lzUmVwb3J0U2VydmljZS5HZXRJbnZlc3RpZ2F0aW9uRHVlQW1vdW50KHRoaXMuaW52ZXN0aWdhdGlvbkNvbGxlY3Rpb24uZnJvbWRhdGUsIHRoaXMuaW52ZXN0aWdhdGlvbkNvbGxlY3Rpb24udG9kYXRlLCB0aGlzLmludmVzdGlnYXRpb25Db2xsZWN0aW9uLmludmVzdGlnYXRpb25fY2F0ZWdvcnlfaWQsIHRoaXMuaW52ZXN0aWdhdGlvbkNvbGxlY3Rpb24uaW52ZXN0aWdhdGlvbl9pZCwgdGhpcy5pbnZlc3RpZ2F0aW9uQ29sbGVjdGlvbi50eXBlLCB0aGlzKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczMuY29tbW9uU2VydmljZS5Eb3dubG9hZGZpbGUoZGF0YS5kYXRhKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbnZlc3RpZ2F0aW9uQ29sbGVjdGlvbi5jb2xsZWN0aW9uVHlwZSA9PSAiUGFpZCIpIHsKICAgICAgICAgIHRoaXMuZGlhZ25vc2lzUmVwb3J0U2VydmljZS5HZXRJbnZlc3RpZ2F0aW9uUGFpZEFtb3VudCh0aGlzLmludmVzdGlnYXRpb25Db2xsZWN0aW9uLmZyb21kYXRlLCB0aGlzLmludmVzdGlnYXRpb25Db2xsZWN0aW9uLnRvZGF0ZSwgdGhpcy5pbnZlc3RpZ2F0aW9uQ29sbGVjdGlvbi5pbnZlc3RpZ2F0aW9uX2NhdGVnb3J5X2lkLCB0aGlzLmludmVzdGlnYXRpb25Db2xsZWN0aW9uLmludmVzdGlnYXRpb25faWQsIHRoaXMuaW52ZXN0aWdhdGlvbkNvbGxlY3Rpb24udHlwZSwgdGhpcykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMzLmNvbW1vblNlcnZpY2UuRG93bmxvYWRmaWxlKGRhdGEuZGF0YSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/reports/InvestigationCollectionReport.js"],"names":["DiagnosisReportService","InvestigationCategorySetupService","InvestigationSetupService","CommonService","moment","data","investigationCategoryList","investigationList","investigationCollection","cdfromdate","String","Date","setDate","getDate","format","cdtodate","collectionType","type","submitted","created","diagnosisReportService","commonService","investigationCategorySetupService","investigationSetupService","getAll","then","formatInvestigationList","methods","filterInvestigationCategoryWise","filter","el","investigation_category_id","filterData","active","forEach","element","obj","investingation_name","manual_code","push","show","fromdate","todate","GetInvestigationDueAmount","investigation_id","Downloadfile","GetInvestigationPaidAmount"],"mappings":"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","sourcesContent":["import DiagnosisReportService from \"../../service/report/DiagnosisReportService\";\r\nimport InvestigationCategorySetupService from \"../../service/setup/InvestigationCategorySetupService\";\r\nimport InvestigationSetupService from \"../../service/setup/InvestigationSetupService\";\r\nimport CommonService from \"../../service/CommonService\";\r\nimport moment from \"moment\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      investigationCategoryList: [],\r\n      investigationList: [],\r\n        investigationCollection: {\r\n        cdfromdate: moment(\r\n          String(new Date(new Date().setDate(new Date().getDate() - 7)))\r\n        ).format(\"MM/DD/YYYY\"),\r\n        cdtodate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n        collectionType: \"Paid\",\r\n        type:\"\"\r\n      },\r\n      submitted: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.diagnosisReportService = new DiagnosisReportService();\r\n    this.commonService = new CommonService();\r\n    this.investigationCategorySetupService =\r\n      new InvestigationCategorySetupService();\r\n      this.investigationSetupService = new InvestigationSetupService();\r\n\r\n    this.investigationCategorySetupService\r\n      .getAll()\r\n      .then((data) => (this.investigationCategoryList = data.data));\r\n\r\n      this.investigationSetupService\r\n      .getAll()\r\n      .then((data) => this.formatInvestigationList(data.data));\r\n  },\r\n  methods: {\r\n    filterInvestigationCategoryWise() {\r\n      return this.investigationList.filter(function (el) {\r\n        return el.investigation_category_id === this.investigationCollection.investigation_category_id;\r\n      }, this);\r\n    },\r\n    formatInvestigationList(data) {\r\n      let filterData = data.filter(function (el) {\r\n        return el.active == true;\r\n      }, this);\r\n      filterData.forEach((element) => {\r\n        var obj = element;\r\n        obj.investingation_name = element.manual_code + \"-\" + element.investingation_name;\r\n        this.investigationList.push(obj);\r\n      });\r\n    },\r\n    show() {\r\n      this.submitted = true;\r\n      if (!this.investigationCollection.cdfromdate) {\r\n        return;\r\n      } else if (!this.investigationCollection.cdtodate) {\r\n        return;\r\n      } else {\r\n        this.investigationCollection.fromdate = moment(\r\n          String(this.investigationCollection.cdfromdate)\r\n        ).format(\"YYYY-MM-DD\");\r\n        this.investigationCollection.todate = moment(\r\n          String(this.investigationCollection.cdtodate)\r\n        ).format(\"YYYY-MM-DD\");\r\n        if(this.investigationCollection.collectionType == \"Due\") {\r\n            this.diagnosisReportService.GetInvestigationDueAmount(this.investigationCollection.fromdate, this.investigationCollection.todate, this.investigationCollection.investigation_category_id, this.investigationCollection.investigation_id, this.investigationCollection.type,  this).then((data) => (this.commonService.Downloadfile(data.data)));\r\n        } else if(this.investigationCollection.collectionType == \"Paid\") {\r\n            this.diagnosisReportService.GetInvestigationPaidAmount(this.investigationCollection.fromdate, this.investigationCollection.todate, this.investigationCollection.investigation_category_id, this.investigationCollection.investigation_id, this.investigationCollection.type, this).then((data) => (this.commonService.Downloadfile(data.data)));\r\n        }\r\n        this.submitted = false;\r\n      }\r\n    },\r\n  },\r\n};"]}]}