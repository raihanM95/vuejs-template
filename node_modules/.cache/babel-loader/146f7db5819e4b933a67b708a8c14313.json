{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\setup\\commission\\EmployeeCommissionSetup.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\setup\\commission\\EmployeeCommissionSetup.js","mtime":1659416753142},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\babel.config.js","mtime":1624271518206},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9FUlBfSG9zcGl0YWxfQ2xpZW50L3RydW5rL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IEVtcGxveWVlU2V0dXBTZXJ2aWNlIGZyb20gIi4uLy4uLy4uL3NlcnZpY2Uvc2V0dXAvRW1wbG95ZWVTZXR1cFNlcnZpY2UiOwppbXBvcnQgSW52ZXN0aWdhdGlvbkNhdGVnb3J5U2V0dXBTZXJ2aWNlIGZyb20gIi4uLy4uLy4uL3NlcnZpY2Uvc2V0dXAvSW52ZXN0aWdhdGlvbkNhdGVnb3J5U2V0dXBTZXJ2aWNlIjsKaW1wb3J0IENvbW1pc3Npb25TZXR1cFNlcnZpY2UgZnJvbSAiLi4vLi4vLi4vc2VydmljZS9zZXR1cC9jb21taXNzaW9uL0VtcGxveWVlQ29tbWlzc2lvblNldHVwU2VydmljZSI7CmltcG9ydCB7IEZpbHRlck1hdGNoTW9kZSwgRmlsdGVyT3BlcmF0b3IgfSBmcm9tICJwcmltZXZ1ZS9hcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGFMaXN0OiBmYWxzZSwKICAgICAgYnV0dG9uOiBmYWxzZSwKICAgICAgZW1wbG95ZWVMaXN0OiBbXSwKICAgICAgaW52ZXN0aWdhdGlvbkNhdGVnb3J5TGlzdDogW10sCiAgICAgIGNvbW1pc3Npb25MaXN0OiBbXSwKICAgICAgY29tbWlzc2lvblNldHVwOiB7CiAgICAgICAgdHlwZTogIkFsbCIsCiAgICAgICAgY29tbWlzc2lvblBlcmNlbnQ6ICIwIiwKICAgICAgICBsc3RFbXBsb3llZTogW10sCiAgICAgICAgbHN0SW52ZXN0aWdhdGlvbjogW10KICAgICAgfSwKICAgICAgZmlsdGVyczogewogICAgICAgIGdsb2JhbDogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgIH0sCiAgICAgICAgbmFtZTogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5TVEFSVFNfV0lUSAogICAgICAgIH0KICAgICAgfSwKICAgICAgaW5pdEZpbHRlcnM6IGZ1bmN0aW9uIGluaXRGaWx0ZXJzKCkgewogICAgICAgIHRoaXMuZmlsdGVycyA9IHsKICAgICAgICAgIGdsb2JhbDogewogICAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuQ09OVEFJTlMKICAgICAgICAgIH0sCiAgICAgICAgICBuYW1lOiB7CiAgICAgICAgICAgIG9wZXJhdG9yOiBGaWx0ZXJPcGVyYXRvci5BTkQsCiAgICAgICAgICAgIGNvbnN0cmFpbnRzOiBbewogICAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLlNUQVJUU19XSVRICiAgICAgICAgICAgIH1dCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSwKICAgICAgc3VibWl0dGVkOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuZW1wbG95ZWVTZXR1cFNlcnZpY2UgPSBuZXcgRW1wbG95ZWVTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMuaW52ZXN0aWdhdGlvbkNhdGVnb3J5U2V0dXBTZXJ2aWNlID0gbmV3IEludmVzdGlnYXRpb25DYXRlZ29yeVNldHVwU2VydmljZSgpOwogICAgdGhpcy5jb21taXNzaW9uU2V0dXBTZXJ2aWNlID0gbmV3IENvbW1pc3Npb25TZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMuZW1wbG95ZWVTZXR1cFNlcnZpY2UuZ2V0QWxsKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gX3RoaXMubWVyZ2VFbXBsb3llZUluZm8oZGF0YS5kYXRhKTsKICAgIH0pOwogICAgdGhpcy5pbnZlc3RpZ2F0aW9uQ2F0ZWdvcnlTZXR1cFNlcnZpY2UuZ2V0QWxsKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gX3RoaXMuaW52ZXN0aWdhdGlvbkNhdGVnb3J5TGlzdCA9IGRhdGEuZGF0YTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgaGlkZU5ldzogZnVuY3Rpb24gaGlkZU5ldygpIHsKICAgICAgdGhpcy5jb21taXNzaW9uU2V0dXAgPSB7CiAgICAgICAgdHlwZTogIkFsbCIsCiAgICAgICAgY29tbWlzc2lvblBlcmNlbnQ6ICIwIiwKICAgICAgICBsc3RFbXBsb3llZTogW10sCiAgICAgICAgbHN0SW52ZXN0aWdhdGlvbjogW10KICAgICAgfTsKICAgICAgdGhpcy5kYXRhTGlzdCA9IGZhbHNlOwogICAgICB0aGlzLmJ1dHRvbiA9IGZhbHNlOwogICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgfSwKICAgIG1lcmdlRW1wbG95ZWVJbmZvOiBmdW5jdGlvbiBtZXJnZUVtcGxveWVlSW5mbyhkYXRhKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGZpbHRlckRhdGEgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gZWwuYWN0aXZlID09IHRydWU7CiAgICAgIH0sIHRoaXMpOwogICAgICBmaWx0ZXJEYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICBfdGhpczIuZW1wbG95ZWVMaXN0LnB1c2goewogICAgICAgICAgZW1wbG95ZWVfaWQ6IGVsZW1lbnQuZW1wbG95ZWVfaWQsCiAgICAgICAgICB0ZXh0OiBlbGVtZW50LmVtcF9ubyArICItIiArIGVsZW1lbnQuZmlyc3RfbmFtZQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7CiAgICAgIGlmICh0aGlzLmNvbW1pc3Npb25TZXR1cC50eXBlID09ICJBbGwiKSB7CiAgICAgICAgdGhpcy5jb21taXNzaW9uU2V0dXAuZW1wbG95ZWVfaWQgPSAiQWxsIjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNvbW1pc3Npb25TZXR1cC5lbXBsb3llZV9pZCA9ICIiOwogICAgICB9CgogICAgICB0aGlzLmdldENvbW1pc3Npb25CeUludmVzdGlnYXRpb24oKTsKICAgIH0sCiAgICBnZXRDb21taXNzaW9uQnlJbnZlc3RpZ2F0aW9uOiBmdW5jdGlvbiBnZXRDb21taXNzaW9uQnlJbnZlc3RpZ2F0aW9uKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuZGF0YUxpc3QgPSBmYWxzZTsKICAgICAgdGhpcy5idXR0b24gPSBmYWxzZTsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOwoKICAgICAgaWYgKCF0aGlzLmNvbW1pc3Npb25TZXR1cC5lbXBsb3llZV9pZCAmJiB0aGlzLmNvbW1pc3Npb25TZXR1cC50eXBlID09ICJTaW5nbGUiKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICghdGhpcy5jb21taXNzaW9uU2V0dXAuZW1wbG95ZWVfaWQgJiYgdGhpcy5jb21taXNzaW9uU2V0dXAudHlwZSA9PSAiQWxsIikgewogICAgICAgICAgdGhpcy5jb21taXNzaW9uU2V0dXAuZW1wbG95ZWVfaWQgPSAiQWxsIjsKICAgICAgICB9CgogICAgICAgIGlmICghdGhpcy5jb21taXNzaW9uU2V0dXAuaW52ZXN0aWdhdGlvbl9jYXRlZ29yeV9pZCkgewogICAgICAgICAgdGhpcy5jb21taXNzaW9uU2V0dXAuaW52ZXN0aWdhdGlvbl9jYXRlZ29yeV9pZCA9ICJBbGwiOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5kYXRhTGlzdCA9IHRydWU7CiAgICAgICAgdGhpcy5idXR0b24gPSB0cnVlOwogICAgICAgIHRoaXMuY29tbWlzc2lvblNldHVwU2VydmljZS5nZXRDb21taXNzaW9uQnlJbnZlc3RpZ2F0aW9uKHRoaXMuY29tbWlzc2lvblNldHVwLmludmVzdGlnYXRpb25fY2F0ZWdvcnlfaWQsIHRoaXMuY29tbWlzc2lvblNldHVwLmVtcGxveWVlX2lkLCB0aGlzKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMzLmNvbW1pc3Npb25MaXN0ID0gZGF0YS5kYXRhOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgfSwKICAgIHVwZGF0ZUNvbW1pc3Npb25QZXJjZW50OiBmdW5jdGlvbiB1cGRhdGVDb21taXNzaW9uUGVyY2VudCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CgogICAgICBpZiAoIXRoaXMuY29tbWlzc2lvblNldHVwLmNvbW1pc3Npb25QZXJjZW50KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmNvbW1pc3Npb25MaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICBlbGVtZW50Ll9jb21taXNzaW9uX3JhdGUgPSBfdGhpczQuY29tbWlzc2lvblNldHVwLmNvbW1pc3Npb25QZXJjZW50OwogICAgICB9KTsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgIH0sCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM1LnN1Ym1pdHRlZCA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF90aGlzNS5yZXF1cmVkID0gIiI7CgogICAgICAgICAgICAgICAgX3RoaXM1LmNvbW1pc3Npb25MaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuX2NvbW1pc3Npb25fcmF0ZSA8IDApIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczUucmVxdXJlZCA9ICJyZXF1aXJlZCI7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmICghX3RoaXM1LnJlcXVyZWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNS4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJSZXF1aXJlZCIsCiAgICAgICAgICAgICAgICAgIGRldGFpbDogIlBsZWFzZSBmaWxsIGluIHRoZSByZXF1aXJlZCBmaWVsZHMiLAogICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGlmIChfdGhpczUuY29tbWlzc2lvblNldHVwLmVtcGxveWVlX2lkID09ICJBbGwiKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5jb21taXNzaW9uU2V0dXAubHN0RW1wbG95ZWUgPSBfdGhpczUuZW1wbG95ZWVMaXN0OwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmNvbW1pc3Npb25TZXR1cC5sc3RFbXBsb3llZS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBkZXBhcnRtZW50X2lkOiAiIiwKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZV9pZDogX3RoaXM1LmNvbW1pc3Npb25TZXR1cC5lbXBsb3llZV9pZAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczUuY29tbWlzc2lvblNldHVwLl9pbnZlc3RpZ2F0aW9uX2NhdGVnb3J5X2lkID0gX3RoaXM1LmNvbW1pc3Npb25TZXR1cC5pbnZlc3RpZ2F0aW9uX2NhdGVnb3J5X2lkOwogICAgICAgICAgICAgICAgX3RoaXM1LmNvbW1pc3Npb25TZXR1cC5sc3RJbnZlc3RpZ2F0aW9uID0gX3RoaXM1LmNvbW1pc3Npb25MaXN0OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5jb21taXNzaW9uU2V0dXBTZXJ2aWNlLmFkZChfdGhpczUuY29tbWlzc2lvblNldHVwLCBfdGhpczUpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6ICJTYXZlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXM1LmhpZGVOZXcoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRXJyb3IiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LmRhdGEsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczUuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTg7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwoKICAgICAgICAgICAgICAgIF90aGlzNS4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZWQiLAogICAgICAgICAgICAgICAgICBkZXRhaWw6IF9jb250ZXh0LnQwLAogICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDE4XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/setup/commission/EmployeeCommissionSetup.js"],"names":["EmployeeSetupService","InvestigationCategorySetupService","CommissionSetupService","FilterMatchMode","FilterOperator","data","dataList","button","employeeList","investigationCategoryList","commissionList","commissionSetup","type","commissionPercent","lstEmployee","lstInvestigation","filters","global","value","matchMode","CONTAINS","name","STARTS_WITH","initFilters","operator","AND","constraints","submitted","created","employeeSetupService","investigationCategorySetupService","commissionSetupService","getAll","then","mergeEmployeeInfo","methods","hideNew","filterData","filter","el","active","forEach","element","push","employee_id","text","emp_no","first_name","onChange","getCommissionByInvestigation","investigation_category_id","updateCommissionPercent","_commission_rate","add","requred","$toast","severity","summary","detail","life","department_id","_investigation_category_id","result","status","res"],"mappings":"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","sourcesContent":["import EmployeeSetupService from \"../../../service/setup/EmployeeSetupService\";\r\nimport InvestigationCategorySetupService from \"../../../service/setup/InvestigationCategorySetupService\";\r\nimport CommissionSetupService from \"../../../service/setup/commission/EmployeeCommissionSetupService\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      dataList: false,\r\n      button: false,\r\n      employeeList: [],\r\n      investigationCategoryList: [],\r\n      commissionList: [],\r\n      commissionSetup: {\r\n        type: \"All\",\r\n        commissionPercent: \"0\",\r\n        lstEmployee: [],\r\n        lstInvestigation: []\r\n      },\r\n      filters: {\r\n        global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        name: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      initFilters() {\r\n        this.filters = {\r\n          global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n          name: {\r\n            operator: FilterOperator.AND,\r\n            constraints: [\r\n              { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            ],\r\n          },\r\n        };\r\n      },\r\n      submitted: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.employeeSetupService = new EmployeeSetupService();\r\n    this.investigationCategorySetupService =\r\n      new InvestigationCategorySetupService();\r\n    this.commissionSetupService = new CommissionSetupService();\r\n\r\n    this.employeeSetupService\r\n      .getAll()\r\n      .then((data) => this.mergeEmployeeInfo(data.data));\r\n\r\n    this.investigationCategorySetupService\r\n      .getAll()\r\n      .then((data) => (this.investigationCategoryList = data.data));\r\n  },\r\n  methods: {\r\n    hideNew() {\r\n      this.commissionSetup = {\r\n        type: \"All\",\r\n        commissionPercent: \"0\",\r\n        lstEmployee: [],\r\n        lstInvestigation: []\r\n      };\r\n      this.dataList = false;\r\n      this.button = false;\r\n      this.submitted = false;\r\n    },\r\n    mergeEmployeeInfo(data) {\r\n        let filterData = data.filter(function (el) {\r\n          return el.active == true;\r\n        }, this);\r\n        filterData.forEach((element) => {\r\n          this.employeeList.push({\r\n            employee_id: element.employee_id,\r\n            text: element.emp_no + \"-\" + element.first_name,\r\n          });\r\n        });\r\n      },\r\n    onChange() {\r\n      if (this.commissionSetup.type == \"All\") {\r\n        this.commissionSetup.employee_id = \"All\";\r\n      } else {\r\n        this.commissionSetup.employee_id = \"\";\r\n      }\r\n      this.getCommissionByInvestigation();\r\n    },\r\n    getCommissionByInvestigation() {\r\n      this.dataList = false;\r\n      this.button = false;\r\n      this.submitted = true;\r\n      if (!this.commissionSetup.employee_id && this.commissionSetup.type == \"Single\") {\r\n        return;\r\n      } else {\r\n        if (!this.commissionSetup.employee_id && this.commissionSetup.type == \"All\") {\r\n          this.commissionSetup.employee_id = \"All\";\r\n        }\r\n        if (!this.commissionSetup.investigation_category_id) {\r\n          this.commissionSetup.investigation_category_id = \"All\";\r\n        }\r\n        this.dataList = true;\r\n        this.button = true;\r\n        this.commissionSetupService\r\n        .getCommissionByInvestigation(this.commissionSetup.investigation_category_id, this.commissionSetup.employee_id, this)\r\n        .then((data) => (this.commissionList = data.data));\r\n      }\r\n      this.submitted = false;\r\n    },\r\n    updateCommissionPercent() {\r\n      this.submitted = true;\r\n      if (!this.commissionSetup.commissionPercent) {\r\n        return;\r\n      }\r\n      this.commissionList.forEach(element => {\r\n        element._commission_rate = this.commissionSetup.commissionPercent\r\n      });\r\n      this.submitted = false;\r\n    },\r\n    async add() {\r\n      this.submitted = true;\r\n      try {\r\n        this.requred = \"\";\r\n        this.commissionList.forEach((element) => {\r\n          if (element._commission_rate < 0) {\r\n            this.requred = \"required\";\r\n          }\r\n        });\r\n\r\n        if (this.requred) {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Required\",\r\n            detail: \"Please fill in the required fields\",\r\n            life: 10000,\r\n          });\r\n          return;\r\n        } else {\r\n          if (this.commissionSetup.employee_id == \"All\") {\r\n\r\n            this.commissionSetup.lstEmployee = this.employeeList;\r\n          } else{\r\n            this.commissionSetup.lstEmployee.push({\r\n              department_id: \"\",\r\n              employee_id: this.commissionSetup.employee_id,\r\n            });\r\n          }\r\n\r\n          this.commissionSetup._investigation_category_id = this.commissionSetup.investigation_category_id;\r\n          this.commissionSetup.lstInvestigation = this.commissionList;\r\n\r\n          let result = await this.commissionSetupService.add(\r\n            this.commissionSetup, this\r\n          );\r\n          if (result.status === 201) {\r\n            this.$toast.add({\r\n              severity: \"success\",\r\n              summary: \"Success\",\r\n              detail: \"Saved Successfully\",\r\n              life: 10000,\r\n            });\r\n            this.hideNew();\r\n          } else if (result.status === 401) {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Error\",\r\n              detail: result.data,\r\n              life: 10000,\r\n            });\r\n          } else {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Failed\",\r\n              detail: result.res,\r\n              life: 10000,\r\n            });\r\n          }\r\n        }\r\n      } catch (error) {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Failed\",\r\n          detail: error,\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n  },\r\n};"]}]}