{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\collection-zone\\InvestigationResultDispatch.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\collection-zone\\InvestigationResultDispatch.js","mtime":1640498582584},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9FUlBfSG9zcGl0YWxfQ2xpZW50L3RydW5rL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgQ29tbW9uU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL0NvbW1vblNlcnZpY2UiOwppbXBvcnQgUGF0aWVudEludmVzdGlnYXRpb25SZXF1ZXN0U2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL2Zyb250LWRlc2svUGF0aWVudEludmVzdGlnYXRpb25SZXF1ZXN0U2VydmljZSI7CmltcG9ydCBJbnZlc3RpZ2F0aW9uUmVzdWx0RGlzcGF0Y2hTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvY29sbGVjdGlvbi16b25lL0ludmVzdGlnYXRpb25SZXN1bHREaXNwYXRjaFNlcnZpY2UiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCB7IEZpbHRlck1hdGNoTW9kZSwgRmlsdGVyT3BlcmF0b3IgfSBmcm9tICJwcmltZXZ1ZS9hcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRlc3RQYXJhbWV0ZXJMaXN0OiBbXSwKICAgICAgaW52ZXN0aWdhdGlvblJlc3VsdERpc3BhdGNoTGlzdDogW10sCiAgICAgIGRpYWdub3Npc0ludmVzdGlnYXRpb25TdGF0dXNMaXN0OiBbXSwKICAgICAgaW52ZXN0aWdhdGlvblJlc3VsdERpc3BhdGNoOiB7CiAgICAgICAgLy8gY2Rmcm9tZGF0ZTogbW9tZW50KAogICAgICAgIC8vICAgU3RyaW5nKG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSAtIDcpKSkKICAgICAgICAvLyApLmZvcm1hdCgiTU0vREQvWVlZWSIpLAogICAgICAgIGNkZnJvbWRhdGU6IG1vbWVudChTdHJpbmcobmV3IERhdGUoKSkpLmZvcm1hdCgiTU0vREQvWVlZWSIpLAogICAgICAgIGNkdG9kYXRlOiBtb21lbnQoU3RyaW5nKG5ldyBEYXRlKCkpKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgICBpbnZlc3RpZ2F0aW9uX3N0YXR1czogIlJlYWR5IFRvIERlbGl2ZXJ5IgogICAgICB9LAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICBmaWx0ZXJzOiB7CiAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLkNPTlRBSU5TCiAgICAgICAgfSwKICAgICAgICBuYW1lOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLlNUQVJUU19XSVRICiAgICAgICAgfQogICAgICB9LAogICAgICBpbml0RmlsdGVyczogZnVuY3Rpb24gaW5pdEZpbHRlcnMoKSB7CiAgICAgICAgdGhpcy5maWx0ZXJzID0gewogICAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgICAgfSwKICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgb3BlcmF0b3I6IEZpbHRlck9wZXJhdG9yLkFORCwKICAgICAgICAgICAgY29uc3RyYWludHM6IFt7CiAgICAgICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuU1RBUlRTX1dJVEgKICAgICAgICAgICAgfV0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0RGlzcGF0Y2hTZXJ2aWNlID0gbmV3IEludmVzdGlnYXRpb25SZXN1bHREaXNwYXRjaFNlcnZpY2UoKTsKICAgIHRoaXMucGF0aWVudEludmVzdGlnYXRpb25SZXF1ZXN0U2VydmljZSA9IG5ldyBQYXRpZW50SW52ZXN0aWdhdGlvblJlcXVlc3RTZXJ2aWNlKCk7CiAgICB0aGlzLmNvbW1vblNlcnZpY2UgPSBuZXcgQ29tbW9uU2VydmljZSgpOwogICAgdGhpcy5jb21tb25TZXJ2aWNlLkdldERlbGl2ZXJ5SW52ZXN0aWdhdGlvblN0YXR1cygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIF90aGlzLmRpYWdub3Npc0ludmVzdGlnYXRpb25TdGF0dXNMaXN0ID0gZGF0YS5kYXRhOwogICAgfSk7CiAgICB0aGlzLnNob3coKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgLy8gdGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0RGlzcGF0Y2ggPSB7CiAgICAgIC8vICAgY2Rmcm9tZGF0ZTogbW9tZW50KAogICAgICAvLyAgICAgU3RyaW5nKG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSAtIDcpKSkKICAgICAgLy8gICApLmZvcm1hdCgiTU0vREQvWVlZWSIpLAogICAgICAvLyAgIGNkdG9kYXRlOiBtb21lbnQoU3RyaW5nKG5ldyBEYXRlKCkpKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgLy8gICBpbnZlc3RpZ2F0aW9uX3N0YXR1czogIlJlYWR5IFRvIERlbGl2ZXJ5IiwKICAgICAgLy8gfTsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93KCk7CiAgICB9LAogICAgc2hvdzogZnVuY3Rpb24gc2hvdygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CgogICAgICBpZiAoIXRoaXMuaW52ZXN0aWdhdGlvblJlc3VsdERpc3BhdGNoLmNkZnJvbWRhdGUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaW52ZXN0aWdhdGlvblJlc3VsdERpc3BhdGNoLmNkdG9kYXRlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKCF0aGlzLmludmVzdGlnYXRpb25SZXN1bHREaXNwYXRjaC5pbnZlc3RpZ2F0aW9uX3N0YXR1cykgewogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmludmVzdGlnYXRpb25SZXN1bHREaXNwYXRjaC5mcm9tZGF0ZSA9IG1vbWVudChTdHJpbmcodGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0RGlzcGF0Y2guY2Rmcm9tZGF0ZSkpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICAgIHRoaXMuaW52ZXN0aWdhdGlvblJlc3VsdERpc3BhdGNoLnRvZGF0ZSA9IG1vbWVudChTdHJpbmcodGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0RGlzcGF0Y2guY2R0b2RhdGUpKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgICB0aGlzLmludmVzdGlnYXRpb25SZXN1bHREaXNwYXRjaFNlcnZpY2UuZ2V0RHluYW1pYyh0aGlzLmludmVzdGlnYXRpb25SZXN1bHREaXNwYXRjaC5mcm9tZGF0ZSwgdGhpcy5pbnZlc3RpZ2F0aW9uUmVzdWx0RGlzcGF0Y2gudG9kYXRlLCB0aGlzLmludmVzdGlnYXRpb25SZXN1bHREaXNwYXRjaC5pbnZlc3RpZ2F0aW9uX3N0YXR1cykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi5pbnZlc3RpZ2F0aW9uUmVzdWx0RGlzcGF0Y2hMaXN0ID0gZGF0YS5kYXRhOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CiAgICB9LAogICAgLy8gc2VuZFRvRGVsaXZlcnlDb25maXJtKGRhdGEpIHsKICAgIC8vICAgdGhpcy4kY29uZmlybS5yZXF1aXJlKHsKICAgIC8vICAgICBtZXNzYWdlOiAiQXJlIHlvdSB3YW50IHRvIHN1cmUgZGVsaXZlcnk/IiwKICAgIC8vICAgICBoZWFkZXI6ICJDb25maXJtYXRpb24iLAogICAgLy8gICAgIGljb246ICJwaSBwaS1leGNsYW1hdGlvbi10cmlhbmdsZSIsCiAgICAvLyAgICAgYWNjZXB0OiAoKSA9PiB7CiAgICAvLyAgICAgICB0aGlzLmZpbmRJbnZlc3RpZ2F0aW9uKGRhdGEpOwogICAgLy8gICAgIH0sCiAgICAvLyAgICAgcmVqZWN0OiAoKSA9PiB7CiAgICAvLyAgICAgICByZXR1cm47CiAgICAvLyAgICAgfSwKICAgIC8vICAgfSk7CiAgICAvLyB9LAogICAgY29uZmlybVBheTogZnVuY3Rpb24gY29uZmlybVBheShpbnZEYXRhKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybS5yZXF1aXJlKHsKICAgICAgICBtZXNzYWdlOiAiWW91ciBkdWUgYW1vdW50ICIgKyBpbnZEYXRhLmludl9kdWVfYW1vdW50ICsgIiBUSyEgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHBheSBub3c/IiwKICAgICAgICBoZWFkZXI6ICJDb25maXJtYXRpb24iLAogICAgICAgIGljb246ICJwaSBwaS1leGNsYW1hdGlvbi10cmlhbmdsZSIsCiAgICAgICAgYWNjZXB0OiBmdW5jdGlvbiBhY2NlcHQoKSB7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaW52X3JlcXVlc3Rfbm8nLCBpbnZEYXRhLmludmVzdGlnYXRpb25fcmVxdWVzdF9ubyk7CgogICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCgiL2ludmVzdGlnYXRpb24tcGF5bWVudC1jb2xsZWN0aW9uIik7CiAgICAgICAgfSwKICAgICAgICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdCgpIHsKICAgICAgICAgIF90aGlzMy4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgIHN1bW1hcnk6ICJDYW5ub3QgZGVsaXZlcnkhIiwKICAgICAgICAgICAgZGV0YWlsOiAiWW91ciBkdWUgYW1vdW50ICIgKyBpbnZEYXRhLmludl9kdWVfYW1vdW50ICsgIiBUSyIsCiAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGZpbmRJbnZlc3RpZ2F0aW9uOiBmdW5jdGlvbiBmaW5kSW52ZXN0aWdhdGlvbihkZWxpdmVyeURhdGEpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLnBhdGllbnRJbnZlc3RpZ2F0aW9uUmVxdWVzdFNlcnZpY2UuZ2V0QnlJZChkZWxpdmVyeURhdGEuaW52ZXN0aWdhdGlvbl9yZXF1ZXN0X2lkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNC5nZXRGb3JtYXR0ZWQoZGF0YS5kYXRhLCBkZWxpdmVyeURhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRGb3JtYXR0ZWQ6IGZ1bmN0aW9uIGdldEZvcm1hdHRlZChpbnZEYXRhLCBkZWxpdmVyeURhdGEpIHsKICAgICAgaWYgKGludkRhdGEuaW52X2R1ZV9hbW91bnQgPT0gMCkgewogICAgICAgIHRoaXMuc2VuZFRvRGVsaXZlcnkoZGVsaXZlcnlEYXRhKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyB0aGlzLiR0b2FzdC5hZGQoewogICAgICAgIC8vICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgLy8gICBzdW1tYXJ5OiAiQ2Fub3QgZGVsaXZlcnkhIiwKICAgICAgICAvLyAgIGRldGFpbDogIllvdXIgZHVlIGFtb3VudCAiICsgaW52RGF0YS5pbnZfZHVlX2Ftb3VudCArICIgVEsiLAogICAgICAgIC8vICAgbGlmZTogMTAwMDAsCiAgICAgICAgLy8gfSk7CiAgICAgICAgdGhpcy5jb25maXJtUGF5KGludkRhdGEpOwogICAgICB9CiAgICB9LAogICAgc2VuZFRvRGVsaXZlcnk6IGZ1bmN0aW9uIHNlbmRUb0RlbGl2ZXJ5KGRhdGEpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmludmVzdGlnYXRpb25SZXN1bHREaXNwYXRjaFNlcnZpY2UucmVwb3J0RGVsaXZlcnkoZGF0YS5zYW1wbGVfY29sbGVjdGlvbl9pZCwgX3RoaXM1KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6ICJEZWxpdmVyZWQiLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXM1LnJlc2V0KCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczUuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24gZm9ybWF0RGF0ZSh2YWx1ZSkgewogICAgICByZXR1cm4gbW9tZW50KFN0cmluZyh2YWx1ZSkpLmZvcm1hdCgiTU0vREQvWVlZWSBoOm1tOnNzIGEiKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/collection-zone/InvestigationResultDispatch.js"],"names":["CommonService","PatientInvestigationRequestService","InvestigationResultDispatchService","moment","FilterMatchMode","FilterOperator","data","testParameterList","investigationResultDispatchList","diagnosisInvestigationStatusList","investigationResultDispatch","cdfromdate","String","Date","format","cdtodate","investigation_status","submitted","filters","global","value","matchMode","CONTAINS","name","STARTS_WITH","initFilters","operator","AND","constraints","created","investigationResultDispatchService","patientInvestigationRequestService","commonService","GetDeliveryInvestigationStatus","then","show","methods","reset","fromdate","todate","getDynamic","confirmPay","invData","$confirm","require","message","inv_due_amount","header","icon","accept","localStorage","setItem","investigation_request_no","$router","push","reject","$toast","add","severity","summary","detail","life","findInvestigation","deliveryData","getById","investigation_request_id","getFormatted","sendToDelivery","reportDelivery","sample_collection_id","result","status","res","formatDate"],"mappings":"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","sourcesContent":["import CommonService from \"../../service/CommonService\";\r\nimport PatientInvestigationRequestService from \"../../service/front-desk/PatientInvestigationRequestService\";\r\nimport InvestigationResultDispatchService from \"../../service/collection-zone/InvestigationResultDispatchService\";\r\nimport moment from \"moment\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      testParameterList: [],\r\n      investigationResultDispatchList: [],\r\n      diagnosisInvestigationStatusList: [],\r\n      investigationResultDispatch: {\r\n        // cdfromdate: moment(\r\n        //   String(new Date(new Date().setDate(new Date().getDate() - 7)))\r\n        // ).format(\"MM/DD/YYYY\"),\r\n        cdfromdate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n        cdtodate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n        investigation_status: \"Ready To Delivery\",\r\n      },\r\n      submitted: false,\r\n      filters: {\r\n        global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        name: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      initFilters() {\r\n        this.filters = {\r\n          global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n          name: {\r\n            operator: FilterOperator.AND,\r\n            constraints: [\r\n              { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            ],\r\n          },\r\n        };\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.investigationResultDispatchService =\r\n      new InvestigationResultDispatchService();\r\n    this.patientInvestigationRequestService =\r\n      new PatientInvestigationRequestService();\r\n    this.commonService = new CommonService();\r\n\r\n    this.commonService\r\n      .GetDeliveryInvestigationStatus()\r\n      .then((data) => (this.diagnosisInvestigationStatusList = data.data));\r\n\r\n    this.show();\r\n  },\r\n  methods: {\r\n    reset() {\r\n      // this.investigationResultDispatch = {\r\n      //   cdfromdate: moment(\r\n      //     String(new Date(new Date().setDate(new Date().getDate() - 7)))\r\n      //   ).format(\"MM/DD/YYYY\"),\r\n      //   cdtodate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n      //   investigation_status: \"Ready To Delivery\",\r\n      // };\r\n      this.submitted = false;\r\n\r\n      this.show();\r\n    },\r\n    show() {\r\n      this.submitted = true;\r\n      if (!this.investigationResultDispatch.cdfromdate) {\r\n        return;\r\n      } else if (!this.investigationResultDispatch.cdtodate) {\r\n        return;\r\n      } else if (!this.investigationResultDispatch.investigation_status) {\r\n        return;\r\n      } else {\r\n        this.investigationResultDispatch.fromdate = moment(\r\n          String(this.investigationResultDispatch.cdfromdate)\r\n        ).format(\"YYYY-MM-DD\");\r\n        this.investigationResultDispatch.todate = moment(\r\n          String(this.investigationResultDispatch.cdtodate)\r\n        ).format(\"YYYY-MM-DD\");\r\n        this.investigationResultDispatchService\r\n          .getDynamic(\r\n            this.investigationResultDispatch.fromdate,\r\n            this.investigationResultDispatch.todate,\r\n            this.investigationResultDispatch.investigation_status\r\n          )\r\n          .then((data) => (this.investigationResultDispatchList = data.data));\r\n      }\r\n\r\n      this.submitted = true;\r\n    },\r\n    // sendToDeliveryConfirm(data) {\r\n    //   this.$confirm.require({\r\n    //     message: \"Are you want to sure delivery?\",\r\n    //     header: \"Confirmation\",\r\n    //     icon: \"pi pi-exclamation-triangle\",\r\n    //     accept: () => {\r\n    //       this.findInvestigation(data);\r\n    //     },\r\n    //     reject: () => {\r\n    //       return;\r\n    //     },\r\n    //   });\r\n    // },\r\n    confirmPay(invData) {\r\n      this.$confirm.require({\r\n        message: \"Your due amount \" + invData.inv_due_amount + \" TK! Are you sure you want to pay now?\",\r\n        header: \"Confirmation\",\r\n        icon: \"pi pi-exclamation-triangle\",\r\n        accept: () => {\r\n          localStorage.setItem('inv_request_no', invData.investigation_request_no);\r\n          this.$router.push(\"/investigation-payment-collection\");\r\n        },\r\n        reject: () => {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Cannot delivery!\",\r\n            detail: \"Your due amount \" + invData.inv_due_amount + \" TK\",\r\n            life: 10000,\r\n          });\r\n        },\r\n      });\r\n    },\r\n    findInvestigation(deliveryData) {\r\n      this.patientInvestigationRequestService\r\n        .getById(deliveryData.investigation_request_id)\r\n        .then((data) => this.getFormatted(data.data, deliveryData));\r\n    },\r\n    getFormatted(invData, deliveryData) {\r\n      if (invData.inv_due_amount == 0) {\r\n        this.sendToDelivery(deliveryData);\r\n      } else {\r\n        // this.$toast.add({\r\n        //   severity: \"error\",\r\n        //   summary: \"Canot delivery!\",\r\n        //   detail: \"Your due amount \" + invData.inv_due_amount + \" TK\",\r\n        //   life: 10000,\r\n        // });\r\n        this.confirmPay(invData);\r\n      }\r\n    },\r\n    async sendToDelivery(data) {\r\n      let result = await this.investigationResultDispatchService.reportDelivery(\r\n        data.sample_collection_id, this\r\n      );\r\n      if (result.status === 200) {\r\n        this.$toast.add({\r\n          severity: \"success\",\r\n          summary: \"Success\",\r\n          detail: \"Delivered\",\r\n          life: 10000,\r\n        });\r\n        this.reset();\r\n      } else {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Failed\",\r\n          detail: result.res,\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n    formatDate(value) {\r\n      return moment(String(value)).format(\"MM/DD/YYYY h:mm:ss a\");\r\n    },\r\n  },\r\n};"]}]}