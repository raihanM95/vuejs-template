{"remainingRequest":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\src\\scripts\\collection-zone\\PendingSampleCollection.js","dependencies":[{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\src\\scripts\\collection-zone\\PendingSampleCollection.js","mtime":1640498582584},{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9EaWFnbm9zdGljQ2VudGVyTWFuYWdlbWVudF9DbGllbnQvdHJ1bmsvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBDb21tb25TZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvQ29tbW9uU2VydmljZSI7CmltcG9ydCBQZW5kaW5nU2FtcGxlQ29sbGVjdGlvblNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9jb2xsZWN0aW9uLXpvbmUvUGVuZGluZ1NhbXBsZUNvbGxlY3Rpb25TZXJ2aWNlIjsKaW1wb3J0IERpYWdub3Npc1JlcG9ydFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9yZXBvcnQvRGlhZ25vc2lzUmVwb3J0U2VydmljZSI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IHsgRmlsdGVyTWF0Y2hNb2RlLCBGaWx0ZXJPcGVyYXRvciB9IGZyb20gInByaW1ldnVlL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YUxpc3Q6IGZhbHNlLAogICAgICBwZW5kaW5nU2FtcGxlQ29sbGVjdGlvbkxpc3Q6IFtdLAogICAgICBpbnZlc3RpZ2F0aW9uU3RhdHVzTGlzdDogW10sCiAgICAgIHBlbmRpbmdTYW1wbGVDb2xsZWN0aW9uOiB7CiAgICAgICAgLy8gY2Rmcm9tZGF0ZTogbW9tZW50KAogICAgICAgIC8vICAgU3RyaW5nKG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSAtIDcpKSkKICAgICAgICAvLyApLmZvcm1hdCgiTU0vREQvWVlZWSIpLAogICAgICAgIGNkZnJvbWRhdGU6IG1vbWVudChTdHJpbmcobmV3IERhdGUoKSkpLmZvcm1hdCgiTU0vREQvWVlZWSIpLAogICAgICAgIGNkdG9kYXRlOiBtb21lbnQoU3RyaW5nKG5ldyBEYXRlKCkpKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgICBpbnZlc3RpZ2F0aW9uX3N0YXR1czogIldhaXRpbmcgRm9yIFNhbXBsZSIKICAgICAgfSwKICAgICAgc3VibWl0dGVkOiBmYWxzZSwKICAgICAgZmlsdGVyczogewogICAgICAgIGdsb2JhbDogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgIH0sCiAgICAgICAgbmFtZTogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5TVEFSVFNfV0lUSAogICAgICAgIH0KICAgICAgfSwKICAgICAgaW5pdEZpbHRlcnM6IGZ1bmN0aW9uIGluaXRGaWx0ZXJzKCkgewogICAgICAgIHRoaXMuZmlsdGVycyA9IHsKICAgICAgICAgIGdsb2JhbDogewogICAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuQ09OVEFJTlMKICAgICAgICAgIH0sCiAgICAgICAgICBuYW1lOiB7CiAgICAgICAgICAgIG9wZXJhdG9yOiBGaWx0ZXJPcGVyYXRvci5BTkQsCiAgICAgICAgICAgIGNvbnN0cmFpbnRzOiBbewogICAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLlNUQVJUU19XSVRICiAgICAgICAgICAgIH1dCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMucGVuZGluZ1NhbXBsZUNvbGxlY3Rpb25TZXJ2aWNlID0gbmV3IFBlbmRpbmdTYW1wbGVDb2xsZWN0aW9uU2VydmljZSgpOwogICAgdGhpcy5kaWFnbm9zaXNSZXBvcnRTZXJ2aWNlID0gbmV3IERpYWdub3Npc1JlcG9ydFNlcnZpY2UoKTsKICAgIHRoaXMuY29tbW9uU2VydmljZSA9IG5ldyBDb21tb25TZXJ2aWNlKCk7CiAgICB0aGlzLmNvbW1vblNlcnZpY2UuR2V0QWxsSW52ZXN0aWdhdGlvblN0YXR1cygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIF90aGlzLmludmVzdGlnYXRpb25TdGF0dXNMaXN0ID0gZGF0YS5kYXRhOwogICAgfSk7CiAgICB0aGlzLnNob3coKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgLy8gdGhpcy5wZW5kaW5nU2FtcGxlQ29sbGVjdGlvbiA9IHsKICAgICAgLy8gICBjZGZyb21kYXRlOiBtb21lbnQoCiAgICAgIC8vICAgICBTdHJpbmcobmV3IERhdGUobmV3IERhdGUoKS5zZXREYXRlKG5ldyBEYXRlKCkuZ2V0RGF0ZSgpIC0gNykpKQogICAgICAvLyAgICkuZm9ybWF0KCJNTS9ERC9ZWVlZIiksCiAgICAgIC8vICAgY2R0b2RhdGU6IG1vbWVudChTdHJpbmcobmV3IERhdGUoKSkpLmZvcm1hdCgiTU0vREQvWVlZWSIpLAogICAgICAvLyAgIGludmVzdGlnYXRpb25fc3RhdHVzOiAiV2FpdGluZyBGb3IgU2FtcGxlIiwKICAgICAgLy8gfTsKICAgICAgdGhpcy5kYXRhTGlzdCA9IGZhbHNlOwogICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgICB0aGlzLnNob3coKTsKICAgIH0sCiAgICBzaG93OiBmdW5jdGlvbiBzaG93KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKCiAgICAgIGlmICghdGhpcy5wZW5kaW5nU2FtcGxlQ29sbGVjdGlvbi5jZGZyb21kYXRlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKCF0aGlzLnBlbmRpbmdTYW1wbGVDb2xsZWN0aW9uLmNkdG9kYXRlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKCF0aGlzLnBlbmRpbmdTYW1wbGVDb2xsZWN0aW9uLmludmVzdGlnYXRpb25fc3RhdHVzKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucGVuZGluZ1NhbXBsZUNvbGxlY3Rpb24uZnJvbWRhdGUgPSBtb21lbnQoU3RyaW5nKHRoaXMucGVuZGluZ1NhbXBsZUNvbGxlY3Rpb24uY2Rmcm9tZGF0ZSkpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICAgIHRoaXMucGVuZGluZ1NhbXBsZUNvbGxlY3Rpb24udG9kYXRlID0gbW9tZW50KFN0cmluZyh0aGlzLnBlbmRpbmdTYW1wbGVDb2xsZWN0aW9uLmNkdG9kYXRlKSkuZm9ybWF0KCJZWVlZLU1NLUREIik7CiAgICAgICAgdGhpcy5wZW5kaW5nU2FtcGxlQ29sbGVjdGlvblNlcnZpY2UuZ2V0RHluYW1pYyh0aGlzLnBlbmRpbmdTYW1wbGVDb2xsZWN0aW9uLmZyb21kYXRlLCB0aGlzLnBlbmRpbmdTYW1wbGVDb2xsZWN0aW9uLnRvZGF0ZSwgdGhpcy5wZW5kaW5nU2FtcGxlQ29sbGVjdGlvbi5pbnZlc3RpZ2F0aW9uX3N0YXR1cykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi5wZW5kaW5nU2FtcGxlQ29sbGVjdGlvbkxpc3QgPSBkYXRhLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZGF0YUxpc3QgPSB0cnVlOwogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CiAgICB9LAogICAgLy8gZ2V0QmFyY29kZUltYWdlKGJDb2RlLCBkYXRhKSB7CiAgICAvLyAgIC8vIHZhciBwcmludENvbnRlbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByaW50YWJsZUFyZWEiKS5pbm5lckhUTUw7CiAgICAvLyAgIC8vdmFyIGEgPSB3aW5kb3cub3BlbignJywgJycsICdoZWlnaHQ9NTAwLCB3aWR0aD01MDAnKTsKICAgIC8vICAgdmFyIG5hbWUgPSBkYXRhLmFQYXRpZW50LmZpcnN0X25hbWUgKyBkYXRhLmFQYXRpZW50Lmxhc3RfbmFtZTsKICAgIC8vICAgdmFyIHJlZ19ubyA9IGRhdGEuYVBhdGllbnQucmVnaXN0cmF0aW9uX25vOwogICAgLy8gICB2YXIgYmFyY29kZSA9IGRhdGEuYmFyY29kZV9vcl9sZXZlbDsKICAgIC8vICAgdmFyIGJhcmNvZGVJbWcgPSAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCIgKyBiQ29kZS5kYXRhOwogICAgLy8gICB2YXIgYSA9IHdpbmRvdy5vcGVuKCIiLCAiIiwgIiIpOwogICAgLy8gICBhLmRvY3VtZW50LndyaXRlKCI8aHRtbD48Ym9keT4iKTsKICAgIC8vICAgYS5kb2N1bWVudC53cml0ZSgiPGg0PiIgKyBuYW1lICsgIjsgUmVnIE5vOiAiICsgcmVnX25vICsgIjxoND4iKTsKICAgIC8vICAgYS5kb2N1bWVudC53cml0ZSgKICAgIC8vICAgICAiPGltZyBzcmM9JyIgKwogICAgLy8gICAgICAgYmFyY29kZUltZyArCiAgICAvLyAgICAgICAiJy8+PGZpZ2NhcHRpb24+IiArCiAgICAvLyAgICAgICBiYXJjb2RlICsKICAgIC8vICAgICAgICI8L2ZpZ2NhcHRpb24+IgogICAgLy8gICApOwogICAgLy8gICAvL2EuZG9jdW1lbnQud3JpdGUocHJpbnRDb250ZW50cyk7CiAgICAvLyAgIGEuZG9jdW1lbnQud3JpdGUoIjwvYm9keT48L2h0bWw+Iik7CiAgICAvLyAgIGEuZG9jdW1lbnQuY2xvc2UoKTsKICAgIC8vICAgYS5wcmludCgpOwogICAgLy8gICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgIC8vIH0sCiAgICBwcmludDogZnVuY3Rpb24gcHJpbnQoaW5mbykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuZGlhZ25vc2lzUmVwb3J0U2VydmljZS5HZXRCYXJjb2RlTGFiZWwoaW5mby5iYXJjb2RlX29yX2xldmVsLCB0aGlzKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMy5jb21tb25TZXJ2aWNlLkRvd25sb2FkZmlsZShkYXRhLmRhdGEpOwogICAgICB9KTsgLy8gdGhpcy5jb21tb25TZXJ2aWNlCiAgICAgIC8vICAgLkdldEJhcmNvZGVJbWFnZShpbmZvLmJhcmNvZGVfb3JfbGV2ZWwpCiAgICAgIC8vICAgLnRoZW4oKGRhdGEpID0+IHRoaXMuZ2V0QmFyY29kZUltYWdlKGRhdGEsIGluZm8pKTsKICAgIH0sCiAgICBzYW1wbGVDb25maXJtOiBmdW5jdGlvbiBzYW1wbGVDb25maXJtKGRhdGEpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtLnJlcXVpcmUoewogICAgICAgIG1lc3NhZ2U6ICJBcmUgeW91IHdhbnQgdG8gc3VyZSBzYW1wbGUgY29sbGVjdGVkPyIsCiAgICAgICAgaGVhZGVyOiAiQ29uZmlybWF0aW9uIiwKICAgICAgICBpY29uOiAicGkgcGktZXhjbGFtYXRpb24tdHJpYW5nbGUiLAogICAgICAgIGFjY2VwdDogZnVuY3Rpb24gYWNjZXB0KCkgewogICAgICAgICAgX3RoaXM0LnNhbXBsZShkYXRhKTsKICAgICAgICB9LAogICAgICAgIHJlamVjdDogZnVuY3Rpb24gcmVqZWN0KCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZGlhZ25vc2lzQ29uZmlybTogZnVuY3Rpb24gZGlhZ25vc2lzQ29uZmlybShkYXRhKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybS5yZXF1aXJlKHsKICAgICAgICBtZXNzYWdlOiAiQXJlIHlvdSB3YW50IHRvIHN1cmUgc2VuZCB0byBkaWFnbm9zaXM/IiwKICAgICAgICBoZWFkZXI6ICJDb25maXJtYXRpb24iLAogICAgICAgIGljb246ICJwaSBwaS1leGNsYW1hdGlvbi10cmlhbmdsZSIsCiAgICAgICAgYWNjZXB0OiBmdW5jdGlvbiBhY2NlcHQoKSB7CiAgICAgICAgICBfdGhpczUuZGlhZ25vc2lzKGRhdGEpOwogICAgICAgIH0sCiAgICAgICAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3QoKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzYW1wbGU6IGZ1bmN0aW9uIHNhbXBsZShkYXRhKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5wZW5kaW5nU2FtcGxlQ29sbGVjdGlvblNlcnZpY2Uuc2F2ZVNhbXBsZUNvbGxlY3Rpb24oZGF0YSwgX3RoaXM2KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6ICJTdWNjZXNzZnVsbHkgU2F2ZWQiLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXM2LnJlc2V0KCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczYuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGlhZ25vc2lzOiBmdW5jdGlvbiBkaWFnbm9zaXMoZGF0YSkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcucGVuZGluZ1NhbXBsZUNvbGxlY3Rpb25TZXJ2aWNlLnNlbmRUb0RpYWdub3NpcyhkYXRhLCBfdGhpczcpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6ICJTZW5kIHRvIERpYWdub3NpcyIsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczcucmVzZXQoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRmFpbGVkIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHJlc3VsdC5yZXMsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUodmFsdWUpIHsKICAgICAgcmV0dXJuIG1vbWVudChTdHJpbmcodmFsdWUpKS5mb3JtYXQoIk1NL0REL1lZWVkgaDptbTpzcyBhIik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["F:/SVN PROJECTS/DiagnosticCenterManagement_Client/trunk/src/scripts/collection-zone/PendingSampleCollection.js"],"names":["CommonService","PendingSampleCollectionService","DiagnosisReportService","moment","FilterMatchMode","FilterOperator","data","dataList","pendingSampleCollectionList","investigationStatusList","pendingSampleCollection","cdfromdate","String","Date","format","cdtodate","investigation_status","submitted","filters","global","value","matchMode","CONTAINS","name","STARTS_WITH","initFilters","operator","AND","constraints","created","pendingSampleCollectionService","diagnosisReportService","commonService","GetAllInvestigationStatus","then","show","methods","reset","fromdate","todate","getDynamic","print","info","GetBarcodeLabel","barcode_or_level","Downloadfile","sampleConfirm","$confirm","require","message","header","icon","accept","sample","reject","diagnosisConfirm","diagnosis","saveSampleCollection","result","status","$toast","add","severity","summary","detail","life","res","sendToDiagnosis","formatDate"],"mappings":"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","sourcesContent":["import CommonService from \"../../service/CommonService\";\r\nimport PendingSampleCollectionService from \"../../service/collection-zone/PendingSampleCollectionService\";\r\nimport DiagnosisReportService from \"../../service/report/DiagnosisReportService\";\r\nimport moment from \"moment\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      dataList: false,\r\n      pendingSampleCollectionList: [],\r\n      investigationStatusList: [],\r\n      pendingSampleCollection: {\r\n        // cdfromdate: moment(\r\n        //   String(new Date(new Date().setDate(new Date().getDate() - 7)))\r\n        // ).format(\"MM/DD/YYYY\"),\r\n        cdfromdate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n        cdtodate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n        investigation_status: \"Waiting For Sample\",\r\n      },\r\n      submitted: false,\r\n      filters: {\r\n        global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        name: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      initFilters() {\r\n        this.filters = {\r\n          global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n          name: {\r\n            operator: FilterOperator.AND,\r\n            constraints: [\r\n              { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            ],\r\n          },\r\n        };\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.pendingSampleCollectionService = new PendingSampleCollectionService();\r\n    this.diagnosisReportService = new DiagnosisReportService();\r\n    this.commonService = new CommonService();\r\n\r\n    this.commonService\r\n      .GetAllInvestigationStatus()\r\n      .then((data) => (this.investigationStatusList = data.data));\r\n\r\n    this.show();\r\n  },\r\n  methods: {\r\n    reset() {\r\n      // this.pendingSampleCollection = {\r\n      //   cdfromdate: moment(\r\n      //     String(new Date(new Date().setDate(new Date().getDate() - 7)))\r\n      //   ).format(\"MM/DD/YYYY\"),\r\n      //   cdtodate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n      //   investigation_status: \"Waiting For Sample\",\r\n      // };\r\n      this.dataList = false;\r\n      this.submitted = false;\r\n      this.show();\r\n    },\r\n    show() {\r\n      this.submitted = true;\r\n      if (!this.pendingSampleCollection.cdfromdate) {\r\n        return;\r\n      } else if (!this.pendingSampleCollection.cdtodate) {\r\n        return;\r\n      } else if (!this.pendingSampleCollection.investigation_status) {\r\n        return;\r\n      } else {\r\n        this.pendingSampleCollection.fromdate = moment(\r\n          String(this.pendingSampleCollection.cdfromdate)\r\n        ).format(\"YYYY-MM-DD\");\r\n        this.pendingSampleCollection.todate = moment(\r\n          String(this.pendingSampleCollection.cdtodate)\r\n        ).format(\"YYYY-MM-DD\");\r\n        this.pendingSampleCollectionService\r\n          .getDynamic(\r\n            this.pendingSampleCollection.fromdate,\r\n            this.pendingSampleCollection.todate,\r\n            this.pendingSampleCollection.investigation_status\r\n          )\r\n          .then((data) => (this.pendingSampleCollectionList = data.data));\r\n      }\r\n      this.dataList = true;\r\n      this.submitted = true;\r\n    },\r\n    // getBarcodeImage(bCode, data) {\r\n    //   // var printContents = document.getElementById(\"printableArea\").innerHTML;\r\n    //   //var a = window.open('', '', 'height=500, width=500');\r\n    //   var name = data.aPatient.first_name + data.aPatient.last_name;\r\n    //   var reg_no = data.aPatient.registration_no;\r\n    //   var barcode = data.barcode_or_level;\r\n    //   var barcodeImg = \"data:image/png;base64,\" + bCode.data;\r\n    //   var a = window.open(\"\", \"\", \"\");\r\n    //   a.document.write(\"<html><body>\");\r\n    //   a.document.write(\"<h4>\" + name + \"; Reg No: \" + reg_no + \"<h4>\");\r\n    //   a.document.write(\r\n    //     \"<img src='\" +\r\n    //       barcodeImg +\r\n    //       \"'/><figcaption>\" +\r\n    //       barcode +\r\n    //       \"</figcaption>\"\r\n    //   );\r\n    //   //a.document.write(printContents);\r\n    //   a.document.write(\"</body></html>\");\r\n    //   a.document.close();\r\n    //   a.print();\r\n    //   location.reload();\r\n    // },\r\n    print(info) {\r\n      this.diagnosisReportService.GetBarcodeLabel(info.barcode_or_level, this).then((data) => (this.commonService.Downloadfile(data.data)));\r\n\r\n      // this.commonService\r\n      //   .GetBarcodeImage(info.barcode_or_level)\r\n      //   .then((data) => this.getBarcodeImage(data, info));\r\n    },\r\n    sampleConfirm(data) {\r\n      this.$confirm.require({\r\n        message: \"Are you want to sure sample collected?\",\r\n        header: \"Confirmation\",\r\n        icon: \"pi pi-exclamation-triangle\",\r\n        accept: () => {\r\n          this.sample(data);\r\n        },\r\n        reject: () => {\r\n          return;\r\n        },\r\n      });\r\n    },\r\n    diagnosisConfirm(data) {\r\n      this.$confirm.require({\r\n        message: \"Are you want to sure send to diagnosis?\",\r\n        header: \"Confirmation\",\r\n        icon: \"pi pi-exclamation-triangle\",\r\n        accept: () => {\r\n          this.diagnosis(data);\r\n        },\r\n        reject: () => {\r\n          return;\r\n        },\r\n      });\r\n    },\r\n    async sample(data) {\r\n      let result =\r\n        await this.pendingSampleCollectionService.saveSampleCollection(data, this);\r\n      if (result.status === 200) {\r\n        this.$toast.add({\r\n          severity: \"success\",\r\n          summary: \"Success\",\r\n          detail: \"Successfully Saved\",\r\n          life: 10000,\r\n        });\r\n        this.reset();\r\n      } else {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Failed\",\r\n          detail: result.res,\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n    async diagnosis(data) {\r\n      let result = await this.pendingSampleCollectionService.sendToDiagnosis(\r\n        data, this\r\n      );\r\n      if (result.status === 200) {\r\n        this.$toast.add({\r\n          severity: \"success\",\r\n          summary: \"Success\",\r\n          detail: \"Send to Diagnosis\",\r\n          life: 10000,\r\n        });\r\n        this.reset();\r\n      } else {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Failed\",\r\n          detail: result.res,\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n    formatDate(value) {\r\n      return moment(String(value)).format(\"MM/DD/YYYY h:mm:ss a\");\r\n    },\r\n  },\r\n};"]}]}