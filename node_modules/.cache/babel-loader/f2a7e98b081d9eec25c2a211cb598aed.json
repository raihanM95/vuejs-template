{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\accounting\\CommissionPayment.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\accounting\\CommissionPayment.js","mtime":1658814387524},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9FUlBfSG9zcGl0YWxfQ2xpZW50L3RydW5rL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IENvbW1pc3Npb25QYXltZW50U2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL2FjY291bnRpbmcvQ29tbWlzc2lvblBheW1lbnRTZXJ2aWNlIjsKaW1wb3J0IERvY3RvclNldHVwU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL3NldHVwL0RvY3RvclNldHVwU2VydmljZSI7CmltcG9ydCBFbXBsb3llZVNldHVwU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL3NldHVwL0VtcGxveWVlU2V0dXBTZXJ2aWNlIjsKaW1wb3J0IFJlZmVycmVkQnlTZXR1cFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9zZXR1cC9SZWZlcnJlZEJ5U2V0dXBTZXJ2aWNlIjsKaW1wb3J0IENvbW1vblNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9Db21tb25TZXJ2aWNlIjsKaW1wb3J0IFBheW1lbnRUeXBlU2V0dXBTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2Uvc2V0dXAvUGF5bWVudFR5cGVTZXR1cFNlcnZpY2UiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCB7IEZpbHRlck1hdGNoTW9kZSwgRmlsdGVyT3BlcmF0b3IgfSBmcm9tICJwcmltZXZ1ZS9hcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlZmVycmVkQnlMaXN0OiBbXSwKICAgICAgcGF5bWVudFR5cGVMaXN0OiBbXSwKICAgICAgY29tbWlzc2lvblBheW1lbnQ6IHsKICAgICAgICB0b3RhbFBheWFibGVBbW91bnQ6IDAsCiAgICAgICAgY2RkZWJpdF9kYXRlOiBtb21lbnQoU3RyaW5nKG5ldyBEYXRlKCkpKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgICBhQ29taXNzaW9uTGVkZ2VyUGF5bWVudERldGFpbHM6IHsKICAgICAgICAgIHBheW1lbnRfdHlwZV9pZDogJzEnCiAgICAgICAgfQogICAgICB9LAogICAgICBmaWx0ZXJzOiB7CiAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLkNPTlRBSU5TCiAgICAgICAgfSwKICAgICAgICBuYW1lOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLlNUQVJUU19XSVRICiAgICAgICAgfQogICAgICB9LAogICAgICBpbml0RmlsdGVyczogZnVuY3Rpb24gaW5pdEZpbHRlcnMoKSB7CiAgICAgICAgdGhpcy5maWx0ZXJzID0gewogICAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgICAgfSwKICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgb3BlcmF0b3I6IEZpbHRlck9wZXJhdG9yLkFORCwKICAgICAgICAgICAgY29uc3RyYWludHM6IFt7CiAgICAgICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuU1RBUlRTX1dJVEgKICAgICAgICAgICAgfV0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9LAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5jb21taXNzaW9uUGF5bWVudFNlcnZpY2UgPSBuZXcgQ29tbWlzc2lvblBheW1lbnRTZXJ2aWNlKCk7CiAgICB0aGlzLmRvY3RvclNldHVwU2VydmljZSA9IG5ldyBEb2N0b3JTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMuZW1wbG95ZWVTZXR1cFNlcnZpY2UgPSBuZXcgRW1wbG95ZWVTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMucmVmZXJyZWRCeVNldHVwU2VydmljZSA9IG5ldyBSZWZlcnJlZEJ5U2V0dXBTZXJ2aWNlKCk7CiAgICB0aGlzLnBheW1lbnRUeXBlU2V0dXBTZXJ2aWNlID0gbmV3IFBheW1lbnRUeXBlU2V0dXBTZXJ2aWNlKCk7CiAgICB0aGlzLmNvbW1vblNlcnZpY2UgPSBuZXcgQ29tbW9uU2VydmljZSgpOwogICAgdGhpcy5yZWZlcnJlZEJ5U2V0dXBTZXJ2aWNlLmdldEFsbCgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIF90aGlzLm1lcmdlUmVmZXJyZWRCeUluZm8oZGF0YS5kYXRhKTsKICAgIH0pOwogICAgdGhpcy5kb2N0b3JTZXR1cFNlcnZpY2UuZ2V0QWxsKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gX3RoaXMubWVyZ2VEb2N0b3JJbmZvKGRhdGEuZGF0YSk7CiAgICB9KTsKICAgIHRoaXMuZW1wbG95ZWVTZXR1cFNlcnZpY2UuZ2V0QWxsKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gX3RoaXMubWVyZ2VFbXBsb3llZUluZm8oZGF0YS5kYXRhKTsKICAgIH0pOwogICAgdGhpcy5wYXltZW50VHlwZVNldHVwU2VydmljZS5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5wYXltZW50VHlwZUxpc3QgPSBkYXRhLmRhdGE7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5jb21taXNzaW9uUGF5bWVudCA9IHsKICAgICAgICB0b3RhbFBheWFibGVBbW91bnQ6IDAsCiAgICAgICAgY2RkZWJpdF9kYXRlOiBtb21lbnQoU3RyaW5nKG5ldyBEYXRlKCkpKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgICBhQ29taXNzaW9uTGVkZ2VyUGF5bWVudERldGFpbHM6IHsKICAgICAgICAgIHBheW1lbnRfdHlwZV9pZDogJzEnCiAgICAgICAgfQogICAgICB9LCB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgfSwKICAgIGZpbHRlclBheW1lbnRUeXBlOiBmdW5jdGlvbiBmaWx0ZXJQYXltZW50VHlwZSgpIHsKICAgICAgcmV0dXJuIHRoaXMucGF5bWVudFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gZWwuYWN0aXZlID09IHRydWU7CiAgICAgIH0sIHRoaXMpOwogICAgfSwKICAgIC8vIHByaW50Q29tbWlzc2lvblBheW1lbnQoSWQpewogICAgLy8gICB0aGlzLnBhdGllbnRSZXBvcnRTZXJ2aWNlLkdldENvbW1pc3Npb25QYXltZW50KElkLCB0aGlzKS50aGVuKChkYXRhKSA9PiAodGhpcy5jb21tb25TZXJ2aWNlLkRvd25sb2FkZmlsZShkYXRhLmRhdGEpKSk7CiAgICAvLyB9LAogICAgbWVyZ2VSZWZlcnJlZEJ5SW5mbzogZnVuY3Rpb24gbWVyZ2VSZWZlcnJlZEJ5SW5mbyhkYXRhKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGZpbHRlckRhdGEgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gZWwuYWN0aXZlID09IHRydWU7CiAgICAgIH0sIHRoaXMpOwogICAgICBmaWx0ZXJEYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICBfdGhpczIucmVmZXJyZWRCeUxpc3QucHVzaCh7CiAgICAgICAgICB2YWx1ZTogZWxlbWVudC5yZWdpc3RyYXRpb25fbm8sCiAgICAgICAgICB0ZXh0OiBlbGVtZW50Lm1hbnVhbF9jb2RlICsgIi0iICsgZWxlbWVudC5yZWdpc3RyYXRpb25fbm8gKyAiLSIgKyBlbGVtZW50LnJlZmZlcmVkX2J5X25hbWUgKyAiKFJlZmVycmVkIEJ5KSIKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgbWVyZ2VEb2N0b3JJbmZvOiBmdW5jdGlvbiBtZXJnZURvY3RvckluZm8oZGF0YSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIF90aGlzMy5yZWZlcnJlZEJ5TGlzdC5wdXNoKHsKICAgICAgICAgIHZhbHVlOiBlbGVtZW50LmRvY19ubywKICAgICAgICAgIHRleHQ6IGVsZW1lbnQuZG9jX25vICsgIi0iICsgZWxlbWVudC5kb2N0b3JfbmFtZSArICIoRG9jdG9yKSIKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgbWVyZ2VFbXBsb3llZUluZm86IGZ1bmN0aW9uIG1lcmdlRW1wbG95ZWVJbmZvKGRhdGEpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgZmlsdGVyRGF0YSA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5hY3RpdmUgPT0gdHJ1ZTsKICAgICAgfSwgdGhpcyk7CiAgICAgIGZpbHRlckRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIF90aGlzNC5yZWZlcnJlZEJ5TGlzdC5wdXNoKHsKICAgICAgICAgIHZhbHVlOiBlbGVtZW50LmVtcF9ubywKICAgICAgICAgIHRleHQ6IGVsZW1lbnQuZW1wX25vICsgIi0iICsgZWxlbWVudC5maXJzdF9uYW1lICsgIihFbXBsb3llZSkiCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEZvcm1hdHRlZDogZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkKGRhdGEpIHsKICAgICAgdGhpcy5jb21taXNzaW9uUGF5bWVudC50b3RhbFBheWFibGVBbW91bnQgPSBkYXRhWzBdLnBheWFibGVfYW1vdW50OwogICAgfSwKICAgIGNvbW1pc3Npb25QYXlhYmxlQW1vdW50QnlSZWZlcnJlZEJ5SWQ6IGZ1bmN0aW9uIGNvbW1pc3Npb25QYXlhYmxlQW1vdW50QnlSZWZlcnJlZEJ5SWQoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy5jb21taXNzaW9uUGF5bWVudFNlcnZpY2UuY29tbWlzc2lvblBheWFibGVBbW91bnRCeVJlZmVycmVkQnlJZCh0aGlzLmNvbW1pc3Npb25QYXltZW50LnJlZmZlcmVkX2J5X2lkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNS5nZXRGb3JtYXR0ZWQoZGF0YS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNi5zdWJtaXR0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi5jb21taXNzaW9uUGF5bWVudC5yZWZmZXJlZF9ieV9pZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGlmIChfdGhpczYuY29tbWlzc2lvblBheW1lbnQuZGViaXRfYW1vdW50KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LmNvbW1pc3Npb25QYXltZW50LmNkZGViaXRfZGF0ZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi5jb21taXNzaW9uUGF5bWVudC5hQ29taXNzaW9uTGVkZ2VyUGF5bWVudERldGFpbHMucGF5bWVudF90eXBlX2lkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfdGhpczYuY29tbWlzc2lvblBheW1lbnQuZGViaXRfZGF0ZSA9IG1vbWVudChTdHJpbmcoX3RoaXM2LmNvbW1pc3Npb25QYXltZW50LmNkZGViaXRfZGF0ZSkpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5jb21taXNzaW9uUGF5bWVudFNlcnZpY2UuYWRkKF90aGlzNi5jb21taXNzaW9uUGF5bWVudCwgX3RoaXM2KTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpczYuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiUGF5IFN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7IC8vdGhpcy5wcmludENvbW1pc3Npb25QYXltZW50KHJlc3VsdC5kYXRhKTsKCgogICAgICAgICAgICAgICAgICBfdGhpczYucmVzZXQoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRXJyb3IiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LmRhdGEsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczYuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXM2LnJlc2V0KCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CgogICAgICAgICAgICAgICAgX3RoaXM2LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgIGRldGFpbDogX2NvbnRleHQudDAsCiAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczYucmVzZXQoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMjVdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/accounting/CommissionPayment.js"],"names":["CommissionPaymentService","DoctorSetupService","EmployeeSetupService","ReferredBySetupService","CommonService","PaymentTypeSetupService","moment","FilterMatchMode","FilterOperator","data","referredByList","paymentTypeList","commissionPayment","totalPayableAmount","cddebit_date","String","Date","format","aComissionLedgerPaymentDetails","payment_type_id","filters","global","value","matchMode","CONTAINS","name","STARTS_WITH","initFilters","operator","AND","constraints","submitted","created","commissionPaymentService","doctorSetupService","employeeSetupService","referredBySetupService","paymentTypeSetupService","commonService","getAll","then","mergeReferredByInfo","mergeDoctorInfo","mergeEmployeeInfo","methods","reset","filterPaymentType","filter","el","active","filterData","forEach","element","push","registration_no","text","manual_code","reffered_by_name","doc_no","doctor_name","emp_no","first_name","getFormatted","payable_amount","commissionPayableAmountByReferredById","reffered_by_id","add","debit_amount","debit_date","result","status","$toast","severity","summary","detail","life","res"],"mappings":"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","sourcesContent":["import CommissionPaymentService from \"../../service/accounting/CommissionPaymentService\";\r\nimport DoctorSetupService from \"../../service/setup/DoctorSetupService\";\r\nimport EmployeeSetupService from \"../../service/setup/EmployeeSetupService\";\r\nimport ReferredBySetupService from \"../../service/setup/ReferredBySetupService\";\r\nimport CommonService from \"../../service/CommonService\";\r\nimport PaymentTypeSetupService from \"../../service/setup/PaymentTypeSetupService\";\r\nimport moment from \"moment\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      referredByList: [],\r\n      paymentTypeList: [],\r\n      commissionPayment: {\r\n        totalPayableAmount: 0,\r\n        cddebit_date: moment(String(new Date())).format(\r\n          \"MM/DD/YYYY\"\r\n        ),\r\n        aComissionLedgerPaymentDetails: {\r\n          payment_type_id: '1',\r\n        },\r\n      },\r\n      filters: {\r\n        global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        name: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      initFilters() {\r\n        this.filters = {\r\n          global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n          name: {\r\n            operator: FilterOperator.AND,\r\n            constraints: [\r\n              { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            ],\r\n          },\r\n        };\r\n      },\r\n      submitted: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.commissionPaymentService = new CommissionPaymentService();\r\n    this.doctorSetupService = new DoctorSetupService();\r\n    this.employeeSetupService = new EmployeeSetupService();\r\n    this.referredBySetupService = new ReferredBySetupService();\r\n    this.paymentTypeSetupService = new PaymentTypeSetupService();\r\n    this.commonService = new CommonService();\r\n\r\n    this.referredBySetupService\r\n      .getAll()\r\n      .then((data) => this.mergeReferredByInfo(data.data));\r\n\r\n    this.doctorSetupService\r\n      .getAll()\r\n      .then((data) => this.mergeDoctorInfo(data.data));\r\n\r\n    this.employeeSetupService\r\n      .getAll()\r\n      .then((data) => this.mergeEmployeeInfo(data.data));\r\n\r\n    this.paymentTypeSetupService\r\n      .getAll()\r\n      .then((data) => (this.paymentTypeList = data.data));\r\n  },\r\n  methods: {\r\n    reset() {\r\n      this.commissionPayment = {\r\n        totalPayableAmount: 0,\r\n        cddebit_date: moment(String(new Date())).format(\r\n          \"MM/DD/YYYY\"\r\n        ),\r\n        aComissionLedgerPaymentDetails: {\r\n          payment_type_id: '1',\r\n        },\r\n      },\r\n        this.submitted = false;\r\n    },\r\n    filterPaymentType() {\r\n      return this.paymentTypeList.filter(function (el) {\r\n        return el.active == true;\r\n      }, this);\r\n    },\r\n    // printCommissionPayment(Id){\r\n    //   this.patientReportService.GetCommissionPayment(Id, this).then((data) => (this.commonService.Downloadfile(data.data)));\r\n    // },\r\n    mergeReferredByInfo(data) {\r\n      let filterData = data.filter(function (el) {\r\n        return el.active == true;\r\n      }, this);\r\n      filterData.forEach((element) => {\r\n        this.referredByList.push({\r\n          value: element.registration_no,\r\n          text: element.manual_code + \"-\" + element.registration_no + \"-\" + element.reffered_by_name + \"(Referred By)\",\r\n        });\r\n      });\r\n    },\r\n    mergeDoctorInfo(data) {\r\n      data.forEach((element) => {\r\n        this.referredByList.push({\r\n          value: element.doc_no,\r\n          text: element.doc_no + \"-\" + element.doctor_name + \"(Doctor)\",\r\n        });\r\n      });\r\n    },\r\n    mergeEmployeeInfo(data) {\r\n      let filterData = data.filter(function (el) {\r\n        return el.active == true;\r\n      }, this);\r\n      filterData.forEach((element) => {\r\n        this.referredByList.push({\r\n          value: element.emp_no,\r\n          text: element.emp_no + \"-\" + element.first_name + \"(Employee)\",\r\n        });\r\n      });\r\n    },\r\n    getFormatted(data) {\r\n      this.commissionPayment.totalPayableAmount = data[0].payable_amount;\r\n    },\r\n    commissionPayableAmountByReferredById() {\r\n      this.commissionPaymentService\r\n        .commissionPayableAmountByReferredById(this.commissionPayment.reffered_by_id)\r\n        .then((data) => this.getFormatted(data.data));\r\n    },\r\n    async add() {\r\n      this.submitted = true;\r\n      try {\r\n        if (!this.commissionPayment.reffered_by_id) {\r\n          return;\r\n        } else if (!this.commissionPayment.debit_amount) {\r\n          return;\r\n        } else if (!this.commissionPayment.cddebit_date) {\r\n          return;\r\n        } else if (!this.commissionPayment.aComissionLedgerPaymentDetails.payment_type_id) {\r\n          return;\r\n        } else {\r\n          this.commissionPayment.debit_date = moment(\r\n            String(this.commissionPayment.cddebit_date)\r\n          ).format(\"YYYY-MM-DD\");\r\n\r\n          let result = await this.commissionPaymentService.add(\r\n            this.commissionPayment, this\r\n          );\r\n          if (result.status === 200) {\r\n            this.$toast.add({\r\n              severity: \"success\",\r\n              summary: \"Success\",\r\n              detail: \"Pay Successfully\",\r\n              life: 10000,\r\n            });\r\n            //this.printCommissionPayment(result.data);\r\n            this.reset();\r\n          } else if (result.status === 401) {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Error\",\r\n              detail: result.data,\r\n              life: 10000,\r\n            });\r\n          } else {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Failed\",\r\n              detail: result.res,\r\n              life: 10000,\r\n            });\r\n            this.reset();\r\n          }\r\n        }\r\n      } catch (error) {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Failed\",\r\n          detail: error,\r\n          life: 10000,\r\n        });\r\n        this.reset();\r\n      }\r\n    },\r\n  },\r\n};"]}]}