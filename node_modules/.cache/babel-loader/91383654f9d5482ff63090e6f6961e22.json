{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\reports\\CollectionAllReport.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\reports\\CollectionAllReport.js","mtime":1685341047598},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\babel.config.js","mtime":1624271518206},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0IE1JU1JlcG9ydFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9yZXBvcnQvTUlTUmVwb3J0U2VydmljZSI7CmltcG9ydCBDb21tb25TZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvQ29tbW9uU2VydmljZSI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IFVzZXJTZXR1cFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9zZWN1cml0eS9Vc2VyU2V0dXBTZXJ2aWNlIjsgLy8vYWRkIG5ldwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2Vyc0xpc3Q6IFtdLAogICAgICBhbGxDb2xsZWN0aW9uOiB7CiAgICAgICAgY2Rmcm9tZGF0ZTogbW9tZW50KFN0cmluZyhuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkgLSA3KSkpKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgICBjZHRvZGF0ZTogbW9tZW50KFN0cmluZyhuZXcgRGF0ZSgpKSkuZm9ybWF0KCJNTS9ERC9ZWVlZIiksCiAgICAgICAgY29sbGVjdGlvblR5cGU6ICJBbGwiLAogICAgICAgIHJlcG9ydFR5cGU6ICJzdW1tYXJ5IiwKICAgICAgICBwdF9yZWdubzogIiIsCiAgICAgICAgdXNlcl9uYW1lOiAiQWxsIgogICAgICB9LAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5tSVNSZXBvcnRTZXJ2aWNlID0gbmV3IE1JU1JlcG9ydFNlcnZpY2UoKTsKICAgIHRoaXMuY29tbW9uU2VydmljZSA9IG5ldyBDb21tb25TZXJ2aWNlKCk7CiAgICB0aGlzLnVzZXJTZXR1cFNlcnZpY2UgPSBuZXcgVXNlclNldHVwU2VydmljZSgpOyAvL2FkZCBuZXcKCiAgICB0aGlzLnVzZXJTZXR1cFNlcnZpY2UuZ2V0QWxsKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gX3RoaXMudXNlckxpc3RGb3JtYXR0aW5nKGRhdGEuZGF0YSk7CiAgICB9KTsgLy9hZGQgbmV3CiAgfSwKICBtZXRob2RzOiB7CiAgICB1c2VyTGlzdEZvcm1hdHRpbmc6IGZ1bmN0aW9uIHVzZXJMaXN0Rm9ybWF0dGluZyhkYXRhKSB7CiAgICAgIHZhciBzZWxlY3RBbGwgPSB7CiAgICAgICAgdXNlcl9uYW1lOiAiQWxsIiwKICAgICAgICBmdWxsX25hbWU6ICJBbGwiCiAgICAgIH07CiAgICAgIHRoaXMudXNlcnNMaXN0ID0gZGF0YTsKICAgICAgdGhpcy51c2Vyc0xpc3Quc3BsaWNlKDAsIDAsIHNlbGVjdEFsbCk7CiAgICB9LAogICAgc2hvdzogZnVuY3Rpb24gc2hvdygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CgogICAgICBpZiAoIXRoaXMuYWxsQ29sbGVjdGlvbi5jZGZyb21kYXRlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKCF0aGlzLmFsbENvbGxlY3Rpb24uY2R0b2RhdGUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hbGxDb2xsZWN0aW9uLmZyb21kYXRlID0gbW9tZW50KFN0cmluZyh0aGlzLmFsbENvbGxlY3Rpb24uY2Rmcm9tZGF0ZSkpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICAgIHRoaXMuYWxsQ29sbGVjdGlvbi50b2RhdGUgPSBtb21lbnQoU3RyaW5nKHRoaXMuYWxsQ29sbGVjdGlvbi5jZHRvZGF0ZSkpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwoKICAgICAgICBpZiAodGhpcy5hbGxDb2xsZWN0aW9uLmNvbGxlY3Rpb25UeXBlICE9ICdBZG1zblJlZnVuZCcpIHsKICAgICAgICAgIGlmICh0aGlzLmFsbENvbGxlY3Rpb24ucmVwb3J0VHlwZSA9PT0gJ3N1bW1hcnknKSB7CiAgICAgICAgICAgIHRoaXMubUlTUmVwb3J0U2VydmljZS5HZXRDb2xsZWN0aW9uUGF5VHlwZVdpc2UodGhpcy5hbGxDb2xsZWN0aW9uLmZyb21kYXRlLCB0aGlzLmFsbENvbGxlY3Rpb24udG9kYXRlLCB0aGlzLmFsbENvbGxlY3Rpb24uY29sbGVjdGlvblR5cGUsIHRoaXMuYWxsQ29sbGVjdGlvbi51c2VyX25hbWUsIHRoaXMuYWxsQ29sbGVjdGlvbi5wdF9yZWdubywgdGhpcykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY29tbW9uU2VydmljZS5Eb3dubG9hZGZpbGUoZGF0YS5kYXRhKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRoaXMuYWxsQ29sbGVjdGlvbi5yZXBvcnRUeXBlID09PSAnZGV0YWlscycpIHsKICAgICAgICAgICAgdGhpcy5tSVNSZXBvcnRTZXJ2aWNlLkdldENvbGxlY3Rpb25EZXRhaWxzV2l0aEJhbmsodGhpcy5hbGxDb2xsZWN0aW9uLmZyb21kYXRlLCB0aGlzLmFsbENvbGxlY3Rpb24udG9kYXRlLCB0aGlzLmFsbENvbGxlY3Rpb24uY29sbGVjdGlvblR5cGUsIHRoaXMuYWxsQ29sbGVjdGlvbi51c2VyX25hbWUsIHRoaXMuYWxsQ29sbGVjdGlvbi5wdF9yZWdubywgdGhpcykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY29tbW9uU2VydmljZS5Eb3dubG9hZGZpbGUoZGF0YS5kYXRhKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICh0aGlzLmFsbENvbGxlY3Rpb24ucmVwb3J0VHlwZSA9PT0gJ2RldGFpbHMnICYmIHRoaXMuYWxsQ29sbGVjdGlvbi5jb2xsZWN0aW9uVHlwZSA9PT0gJ0FkbXNuUmVmdW5kJykgewogICAgICAgICAgICB0aGlzLm1JU1JlcG9ydFNlcnZpY2UuR2V0QWRtaXNzaW9uUmVmdW5kTGlzdCh0aGlzLmFsbENvbGxlY3Rpb24uZnJvbWRhdGUsIHRoaXMuYWxsQ29sbGVjdGlvbi50b2RhdGUsIHRoaXMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmNvbW1vblNlcnZpY2UuRG93bmxvYWRmaWxlKGRhdGEuZGF0YSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gLy90aGlzLm1JU1JlcG9ydFNlcnZpY2UuR2V0QWxsQ29sbGVjdGlvbkRldGFpbHModGhpcy5hbGxDb2xsZWN0aW9uLmZyb21kYXRlLCB0aGlzLmFsbENvbGxlY3Rpb24udG9kYXRlLCB0aGlzLmFsbENvbGxlY3Rpb24uY29sbGVjdGlvblR5cGUsIHRoaXMuYWxsQ29sbGVjdGlvbi51c2VyX25hbWUsICB0aGlzKS50aGVuKChkYXRhKSA9PiAodGhpcy5jb21tb25TZXJ2aWNlLkRvd25sb2FkZmlsZShkYXRhLmRhdGEpKSk7CgoKICAgICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/reports/CollectionAllReport.js"],"names":["MISReportService","CommonService","moment","UserSetupService","data","usersList","allCollection","cdfromdate","String","Date","setDate","getDate","format","cdtodate","collectionType","reportType","pt_regno","user_name","submitted","created","mISReportService","commonService","userSetupService","getAll","then","userListFormatting","methods","selectAll","full_name","splice","show","fromdate","todate","GetCollectionPayTypeWise","Downloadfile","GetCollectionDetailsWithBank","GetAdmissionRefundList"],"mappings":"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","sourcesContent":["import MISReportService from \"../../service/report/MISReportService\";\r\nimport CommonService from \"../../service/CommonService\";\r\nimport moment from \"moment\";\r\n\r\nimport UserSetupService from \"../../service/security/UserSetupService\";///add new\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      usersList: [],\r\n        allCollection: {\r\n        cdfromdate: moment(\r\n          String(new Date(new Date().setDate(new Date().getDate() - 7)))\r\n        ).format(\"MM/DD/YYYY\"),\r\n        cdtodate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n        collectionType: \"All\",\r\n        reportType:\"summary\",\r\n        pt_regno:\"\",\r\n        user_name:\"All\",\r\n      },\r\n      submitted: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.mISReportService = new MISReportService();\r\n    this.commonService = new CommonService();\r\n    this.userSetupService = new UserSetupService(); //add new\r\n    this.userSetupService.getAll().then((data) => (this.userListFormatting(data.data))); //add new\r\n  },\r\n  methods: {\r\n    userListFormatting(data){\r\n      var selectAll = {\r\n        user_name: \"All\",\r\n        full_name: \"All\",\r\n      }\r\n      \r\n      this.usersList = data;\r\n      this.usersList.splice(0, 0, selectAll)\r\n\r\n    },\r\n\r\n    show() {\r\n      this.submitted = true;\r\n      if (!this.allCollection.cdfromdate) {\r\n        return;\r\n      } else if (!this.allCollection.cdtodate) {\r\n        return;\r\n      } else {\r\n        this.allCollection.fromdate = moment(\r\n          String(this.allCollection.cdfromdate)\r\n        ).format(\"YYYY-MM-DD\");\r\n        this.allCollection.todate = moment(\r\n          String(this.allCollection.cdtodate)\r\n        ).format(\"YYYY-MM-DD\");\r\n\r\n          if(this.allCollection.collectionType!='AdmsnRefund')\r\n          {\r\n            if(this.allCollection.reportType==='summary')\r\n            {\r\n              this.mISReportService.GetCollectionPayTypeWise(this.allCollection.fromdate, this.allCollection.todate, this.allCollection.collectionType, this.allCollection.user_name, this.allCollection.pt_regno,  this).then((data) => (this.commonService.Downloadfile(data.data)));\r\n            }\r\n    \r\n            if(this.allCollection.reportType==='details')\r\n            {\r\n              this.mISReportService.GetCollectionDetailsWithBank(this.allCollection.fromdate, this.allCollection.todate, this.allCollection.collectionType, this.allCollection.user_name, this.allCollection.pt_regno, this).then((data) => (this.commonService.Downloadfile(data.data)));\r\n            }\r\n          }\r\n          else{\r\n            if(this.allCollection.reportType==='details'&& this.allCollection.collectionType==='AdmsnRefund')\r\n            {\r\n              this.mISReportService.GetAdmissionRefundList(this.allCollection.fromdate, this.allCollection.todate, this).then((data) => (this.commonService.Downloadfile(data.data)));\r\n            }\r\n          }\r\n\r\n        \r\n        //this.mISReportService.GetAllCollectionDetails(this.allCollection.fromdate, this.allCollection.todate, this.allCollection.collectionType, this.allCollection.user_name,  this).then((data) => (this.commonService.Downloadfile(data.data)));\r\n        \r\n\r\n\r\n        this.submitted = false;\r\n      }\r\n    },\r\n  },\r\n};"]}]}