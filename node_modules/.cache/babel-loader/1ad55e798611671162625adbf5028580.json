{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\setup\\FiscalYearSetup.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\setup\\FiscalYearSetup.js","mtime":1640498582584},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9FUlBfSG9zcGl0YWxfQ2xpZW50L3RydW5rL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCBGaXNjYWxZZWFyU2V0dXBTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2Uvc2V0dXAvRmlzY2FsWWVhclNldHVwU2VydmljZSI7CmltcG9ydCBDb21wYW55U2V0dXBTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2Uvc2V0dXAvQ29tcGFueVNldHVwU2VydmljZSI7CmltcG9ydCBWYWxpZGF0aW9uIGZyb20gIi4uLy4uL3NjcmlwdHMvdmFsaWRhdGlvbiI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IHsgRmlsdGVyTWF0Y2hNb2RlLCBGaWx0ZXJPcGVyYXRvciB9IGZyb20gInByaW1ldnVlL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNGaXNjYWxFeGlzdDogIiIsCiAgICAgIG5ld0luZm86IGZhbHNlLAogICAgICBkYXRhTGlzdDogdHJ1ZSwKICAgICAgY29tcGFueUxpc3Q6IFtdLAogICAgICBmaXNjYWxZZWFyTGlzdDogW10sCiAgICAgIGZpc2NhbFllYXJTZXR1cDoge30sCiAgICAgIGZpbHRlcnM6IHsKICAgICAgICBnbG9iYWw6IHsKICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuQ09OVEFJTlMKICAgICAgICB9LAogICAgICAgIG5hbWU6IHsKICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuU1RBUlRTX1dJVEgKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGluaXRGaWx0ZXJzOiBmdW5jdGlvbiBpbml0RmlsdGVycygpIHsKICAgICAgICB0aGlzLmZpbHRlcnMgPSB7CiAgICAgICAgICBnbG9iYWw6IHsKICAgICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLkNPTlRBSU5TCiAgICAgICAgICB9LAogICAgICAgICAgbmFtZTogewogICAgICAgICAgICBvcGVyYXRvcjogRmlsdGVyT3BlcmF0b3IuQU5ELAogICAgICAgICAgICBjb25zdHJhaW50czogW3sKICAgICAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5TVEFSVFNfV0lUSAogICAgICAgICAgICB9XQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0sCiAgICAgIHN1Ym1pdHRlZDogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLmZpc2NhbFllYXJTZXR1cFNlcnZpY2UgPSBuZXcgRmlzY2FsWWVhclNldHVwU2VydmljZSgpOwogICAgdGhpcy5jb21wYW55U2V0dXBTZXJ2aWNlID0gbmV3IENvbXBhbnlTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMudmFsaWRhdGlvbiA9IG5ldyBWYWxpZGF0aW9uKCk7CiAgICB0aGlzLmNvbXBhbnlTZXR1cFNlcnZpY2UuZ2V0QWxsKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gX3RoaXMuY29tcGFueUxpc3QgPSBkYXRhLmRhdGE7CiAgICB9KTsKICAgIHRoaXMuZmlzY2FsWWVhclNldHVwU2VydmljZS5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5maXNjYWxZZWFyTGlzdCA9IGRhdGEuZGF0YTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgb3Blbk5ldzogZnVuY3Rpb24gb3Blbk5ldygpIHsKICAgICAgdGhpcy5maXNjYWxZZWFyU2V0dXAgPSB7fTsKICAgICAgdGhpcy5uZXdJbmZvID0gdHJ1ZTsKICAgICAgdGhpcy5kYXRhTGlzdCA9IGZhbHNlOwogICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgfSwKICAgIGhpZGVOZXc6IGZ1bmN0aW9uIGhpZGVOZXcoKSB7CiAgICAgIHRoaXMuZmlzY2FsWWVhclNldHVwID0ge307CiAgICAgIHRoaXMuZGF0YUxpc3QgPSB0cnVlOwogICAgICB0aGlzLm5ld0luZm8gPSBmYWxzZTsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgIH0sCiAgICB5ZWFyczogZnVuY3Rpb24geWVhcnMoKSB7CiAgICAgIHZhciB5ZWFybGlzdCA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDIwMDE7IGkgPD0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpOyBpKyspIHsKICAgICAgICB2YXIgYXllYXIgPSB7CiAgICAgICAgICBsYWJlbDogaS50b1N0cmluZygpLAogICAgICAgICAgdmFsdWU6IGkudG9TdHJpbmcoKQogICAgICAgIH07CiAgICAgICAgeWVhcmxpc3QucHVzaChheWVhcik7CiAgICAgIH0KCiAgICAgIHJldHVybiB5ZWFybGlzdDsKICAgIH0sCiAgICBjaGVja1llYXJDb21wYW55Q29tYmluYXRpb246IGZ1bmN0aW9uIGNoZWNrWWVhckNvbXBhbnlDb21iaW5hdGlvbigpIHsKICAgICAgdmFyIGFGaXNjYWwgPSB0aGlzLmZpc2NhbFllYXJMaXN0LmZpbHRlcihmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gZWwuZmlzY2FsX3llYXIgPT0gdGhpcy5maXNjYWxZZWFyU2V0dXAuZmlzY2FsX3llYXIgJiYgZWwuY29tcGFueV9pZCA9PSB0aGlzLmZpc2NhbFllYXJTZXR1cC5jb21wYW55X2lkOwogICAgICB9LCB0aGlzKTsKCiAgICAgIGlmIChhRmlzY2FsLmxlbmd0aCkgewogICAgICAgIHRoaXMuaXNGaXNjYWxFeGlzdCA9ICJUaGlzIGZpc2NhbCBhbHJlYWR5IGV4aXN0IjsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc0Zpc2NhbEV4aXN0ID0gIiI7CiAgICAgIH0KICAgIH0sCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXN1bHQsIF9yZXN1bHQ7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5zdWJtaXR0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5maXNjYWxZZWFyU2V0dXAuZmlzY2FsX3llYXIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi52YWxpZGF0aW9uLmlzTmFtZUV4aXN0cyhfdGhpczIuZmlzY2FsWWVhckxpc3QsICdmaXNjYWxfeWVhcicsIF90aGlzMi5maXNjYWxZZWFyU2V0dXAuZmlzY2FsX3llYXIsICdmaXNjYWxfeWVhcl9pZCcsIF90aGlzMi5maXNjYWxZZWFyU2V0dXAuZmlzY2FsX3llYXJfaWQsIF90aGlzMikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIuZmlzY2FsWWVhclNldHVwLmNvbXBhbnlfaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmlzRmlzY2FsRXhpc3QpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIuZmlzY2FsWWVhclNldHVwLmNkc3RhcnRfZGF0ZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5maXNjYWxZZWFyU2V0dXAuY2RlbmRfZGF0ZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgICAgX3RoaXMyLmZpc2NhbFllYXJTZXR1cC5zdGFydF9kYXRlID0gbW9tZW50KFN0cmluZyhfdGhpczIuZmlzY2FsWWVhclNldHVwLmNkc3RhcnRfZGF0ZSkpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICAgICAgICAgICAgX3RoaXMyLmZpc2NhbFllYXJTZXR1cC5lbmRfZGF0ZSA9IG1vbWVudChTdHJpbmcoX3RoaXMyLmZpc2NhbFllYXJTZXR1cC5jZGVuZF9kYXRlKSkuZm9ybWF0KCJZWVlZLU1NLUREIik7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5maXNjYWxZZWFyU2V0dXAuZmlzY2FsX3llYXJfaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzE7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmZpc2NhbFllYXJTZXR1cFNlcnZpY2UuYWRkKF90aGlzMi5maXNjYWxZZWFyU2V0dXApOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6ICJTYXZlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLmhpZGVOZXcoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5maXNjYWxZZWFyU2V0dXBTZXJ2aWNlLmdldEFsbCgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmZpc2NhbFllYXJMaXN0ID0gZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRXJyb3IiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LmRhdGEsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczIuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM3OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5maXNjYWxZZWFyU2V0dXBTZXJ2aWNlLnB1dChfdGhpczIuZmlzY2FsWWVhclNldHVwLCBfdGhpczIuZmlzY2FsWWVhclNldHVwLmZpc2NhbF95ZWFyX2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAzNzoKICAgICAgICAgICAgICAgIF9yZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChfcmVzdWx0LnN0YXR1cyA9PT0gMjAyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6ICJVcGRhdGVkIFN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuaGlkZU5ldygpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLmZpc2NhbFllYXJTZXR1cFNlcnZpY2UuZ2V0QWxsKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZmlzY2FsWWVhckxpc3QgPSBkYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfcmVzdWx0LnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRXJyb3IiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogX3Jlc3VsdC5kYXRhLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZWQiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogX3Jlc3VsdC5yZXMsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMzk6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA0MTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CgogICAgICAgICAgICAgICAgX3RoaXMyLiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgIGRldGFpbDogX2NvbnRleHQudDAsCiAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0NDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgNDFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUodmFsdWUpIHsKICAgICAgcmV0dXJuIG1vbWVudChTdHJpbmcodmFsdWUpKS5mb3JtYXQoIk1NL0REL1lZWVkiKTsKICAgIH0sCiAgICBlZGl0OiBmdW5jdGlvbiBlZGl0KG9iaikgewogICAgICB0aGlzLmZpc2NhbFllYXJTZXR1cCA9IE9iamVjdC5hc3NpZ24oe30sIG9iaik7CiAgICAgIHRoaXMuZGF0YUxpc3QgPSBmYWxzZTsKICAgICAgdGhpcy5uZXdJbmZvID0gdHJ1ZTsKICAgICAgdGhpcy5maXNjYWxZZWFyU2V0dXAuY2RzdGFydF9kYXRlID0gbW9tZW50KFN0cmluZyh0aGlzLmZpc2NhbFllYXJTZXR1cC5zdGFydF9kYXRlKSkuZm9ybWF0KCJNTS9ERC9ZWVlZIik7CiAgICAgIHRoaXMuZmlzY2FsWWVhclNldHVwLmNkZW5kX2RhdGUgPSBtb21lbnQoU3RyaW5nKHRoaXMuZmlzY2FsWWVhclNldHVwLmVuZF9kYXRlKSkuZm9ybWF0KCJNTS9ERC9ZWVlZIik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/setup/FiscalYearSetup.js"],"names":["FiscalYearSetupService","CompanySetupService","Validation","moment","FilterMatchMode","FilterOperator","data","isFiscalExist","newInfo","dataList","companyList","fiscalYearList","fiscalYearSetup","filters","global","value","matchMode","CONTAINS","name","STARTS_WITH","initFilters","operator","AND","constraints","submitted","created","fiscalYearSetupService","companySetupService","validation","getAll","then","methods","openNew","hideNew","years","yearlist","i","Date","getFullYear","ayear","label","toString","push","checkYearCompanyCombination","aFiscal","filter","el","fiscal_year","company_id","length","add","isNameExists","fiscal_year_id","cdstart_date","cdend_date","start_date","String","format","end_date","result","status","$toast","severity","summary","detail","life","res","put","formatDate","edit","obj","Object","assign"],"mappings":"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","sourcesContent":["import FiscalYearSetupService from \"../../service/setup/FiscalYearSetupService\";\r\nimport CompanySetupService from \"../../service/setup/CompanySetupService\";\r\nimport Validation from \"../../scripts/validation\";\r\nimport moment from \"moment\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      isFiscalExist: \"\",\r\n      newInfo: false,\r\n      dataList: true,\r\n      companyList: [],\r\n      fiscalYearList: [],\r\n      fiscalYearSetup: {},\r\n      filters: {\r\n        global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        name: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      initFilters() {\r\n        this.filters = {\r\n          global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n          name: {\r\n            operator: FilterOperator.AND,\r\n            constraints: [\r\n              { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            ],\r\n          },\r\n        };\r\n      },\r\n      submitted: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.fiscalYearSetupService = new FiscalYearSetupService();\r\n    this.companySetupService = new CompanySetupService();\r\n    this.validation = new Validation();\r\n\r\n    this.companySetupService\r\n      .getAll()\r\n      .then((data) => (this.companyList = data.data));\r\n\r\n    this.fiscalYearSetupService\r\n      .getAll()\r\n      .then((data) => (this.fiscalYearList = data.data));\r\n  },\r\n  methods: {\r\n    openNew() {\r\n      this.fiscalYearSetup = {};\r\n      this.newInfo = true;\r\n      this.dataList = false;\r\n      this.submitted = false;\r\n    },\r\n    hideNew() {\r\n      this.fiscalYearSetup = {};\r\n      this.dataList = true;\r\n      this.newInfo = false;\r\n      this.submitted = false;\r\n    },\r\n    years() {\r\n      let yearlist = [];\r\n      for (var i = 2001; i <= new Date().getFullYear(); i++) {\r\n        var ayear = { label: i.toString(), value: i.toString() };\r\n        yearlist.push(ayear);\r\n      }\r\n      return yearlist;\r\n    },\r\n    checkYearCompanyCombination() {\r\n      var aFiscal = this.fiscalYearList.filter(function (el) {\r\n        return (\r\n          el.fiscal_year == this.fiscalYearSetup.fiscal_year &&\r\n          el.company_id == this.fiscalYearSetup.company_id\r\n        );\r\n      }, this);\r\n\r\n      if (aFiscal.length) {\r\n        this.isFiscalExist = \"This fiscal already exist\";\r\n        return;\r\n      } else {\r\n        this.isFiscalExist = \"\";\r\n      }\r\n    },\r\n    async add() {\r\n      this.submitted = true;\r\n      try {\r\n        if (!this.fiscalYearSetup.fiscal_year) {\r\n          return;\r\n        } else if (this.validation.isNameExists(this.fiscalYearList, 'fiscal_year', this.fiscalYearSetup.fiscal_year, 'fiscal_year_id', this.fiscalYearSetup.fiscal_year_id, this)) {\r\n          return;\r\n        } else if (!this.fiscalYearSetup.company_id) {\r\n          return;\r\n        } else if (this.isFiscalExist) {\r\n          return;\r\n        } else if (!this.fiscalYearSetup.cdstart_date) {\r\n          return;\r\n        } else if (!this.fiscalYearSetup.cdend_date) {\r\n          return;\r\n        } else {\r\n          this.fiscalYearSetup.start_date = moment(\r\n            String(this.fiscalYearSetup.cdstart_date)\r\n          ).format(\"YYYY-MM-DD\");\r\n          this.fiscalYearSetup.end_date = moment(\r\n            String(this.fiscalYearSetup.cdend_date)\r\n          ).format(\"YYYY-MM-DD\");\r\n          if (!this.fiscalYearSetup.fiscal_year_id) {\r\n            let result = await this.fiscalYearSetupService.add(\r\n              this.fiscalYearSetup\r\n            );\r\n            if (result.status === 201) {\r\n              this.$toast.add({\r\n                severity: \"success\",\r\n                summary: \"Success\",\r\n                detail: \"Saved Successfully\",\r\n                life: 10000,\r\n              });\r\n              this.hideNew();\r\n              this.fiscalYearSetupService\r\n                .getAll()\r\n                .then((data) => (this.fiscalYearList = data.data));\r\n            } else if (result.status === 401) {\r\n              this.$toast.add({\r\n                severity: \"error\",\r\n                summary: \"Error\",\r\n                detail: result.data,\r\n                life: 10000,\r\n              });\r\n            } else {\r\n              this.$toast.add({\r\n                severity: \"error\",\r\n                summary: \"Failed\",\r\n                detail: result.res,\r\n                life: 10000,\r\n              });\r\n            }\r\n          } else {\r\n            let result = await this.fiscalYearSetupService.put(\r\n              this.fiscalYearSetup,\r\n              this.fiscalYearSetup.fiscal_year_id\r\n            );\r\n            if (result.status === 202) {\r\n              this.$toast.add({\r\n                severity: \"success\",\r\n                summary: \"Success\",\r\n                detail: \"Updated Successfully\",\r\n                life: 10000,\r\n              });\r\n              this.hideNew();\r\n              this.fiscalYearSetupService\r\n                .getAll()\r\n                .then((data) => (this.fiscalYearList = data.data));\r\n            } else if (result.status === 401) {\r\n              this.$toast.add({\r\n                severity: \"error\",\r\n                summary: \"Error\",\r\n                detail: result.data,\r\n                life: 10000,\r\n              });\r\n            } else {\r\n              this.$toast.add({\r\n                severity: \"error\",\r\n                summary: \"Failed\",\r\n                detail: result.res,\r\n                life: 10000,\r\n              });\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Failed\",\r\n          detail: error,\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n    formatDate(value) {\r\n      return moment(String(value)).format(\"MM/DD/YYYY\");\r\n    },\r\n    edit(obj) {\r\n      this.fiscalYearSetup = Object.assign({}, obj);\r\n      this.dataList = false;\r\n      this.newInfo = true;\r\n\r\n      this.fiscalYearSetup.cdstart_date = moment(\r\n        String(this.fiscalYearSetup.start_date)\r\n      ).format(\"MM/DD/YYYY\");\r\n      this.fiscalYearSetup.cdend_date = moment(\r\n        String(this.fiscalYearSetup.end_date)\r\n      ).format(\"MM/DD/YYYY\");\r\n    },\r\n  },\r\n};"]}]}