{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\nurse-panel\\AdmittedPatientList.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\nurse-panel\\AdmittedPatientList.js","mtime":1653210014729},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9FUlBfSG9zcGl0YWxfQ2xpZW50L3RydW5rL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgQWRtaXNzaW9uU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL2Zyb250LWRlc2svQWRtaXNzaW9uU2VydmljZSI7CmltcG9ydCBQYXRpZW50UHJvZmlsZVNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9wcm9maWxlcy9QYXRpZW50UHJvZmlsZVNlcnZpY2UiOyAvL2ltcG9ydCBXb3JkQ2FiaW5TZXR1cFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9zZXR1cC9Xb3JkQ2FiaW5TZXR1cFNlcnZpY2UiOwoKaW1wb3J0IENvbXBsYWludFNldHVwU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL3NldHVwL0NvbXBsYWludFNldHVwU2VydmljZSI7CmltcG9ydCBGb29kU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL3NldHVwL0Zvb2RTZXJ2aWNlIjsKaW1wb3J0IE9uRXhhbWluYXRpb25TZXR1cFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9zZXR1cC9PbkV4YW1pbmF0aW9uU2V0dXBTZXJ2aWNlIjsKaW1wb3J0IERpZXRDaGFydFRlbXBsYXRlU2V0dXBTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2Uvc2V0dXAvRGlldENoYXJ0VGVtcGxhdGVTZXR1cFNlcnZpY2UiOwppbXBvcnQgRGlldENoYXJ0U2V0dXBTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2Uvc2V0dXAvRGlldENoYXJ0U2V0dXBTZXJ2aWNlIjsKaW1wb3J0IE1lZGljaW5lU2V0dXBTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2Uvc2V0dXAvTWVkaWNpbmVTZXR1cFNlcnZpY2UiOwppbXBvcnQgVHJlYXRtZW50UnVsZXNTZXR1cFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9zZXR1cC9UcmVhdG1lbnRSdWxlc1NldHVwU2VydmljZSI7CmltcG9ydCBUcmVhdG1lbnREdXJhdGlvblNldHVwU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL3NldHVwL1RyZWF0bWVudER1cmF0aW9uU2V0dXBTZXJ2aWNlIjsKaW1wb3J0IFRyZWF0bWVudERvc2VTZXR1cFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9zZXR1cC9UcmVhdG1lbnREb3NlU2V0dXBTZXJ2aWNlIjsKaW1wb3J0IERpYWdub3Npc1NldHVwU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL3NldHVwL0RpYWdub3Npc1NldHVwU2VydmljZSI7CmltcG9ydCBDb21tb25TZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvQ29tbW9uU2VydmljZSI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IFZhbGlkYXRpb24gZnJvbSAiLi4vLi4vc2NyaXB0cy92YWxpZGF0aW9uIjsKaW1wb3J0IHsgRmlsdGVyTWF0Y2hNb2RlLCBGaWx0ZXJPcGVyYXRvciB9IGZyb20gInByaW1ldnVlL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YUxpc3Q6IHRydWUsCiAgICAgIGlzTnVyc2U6IGZhbHNlLAogICAgICBpc0hpc3Rvcnk6IGZhbHNlLAogICAgICBhY3RpdmU6IDAsCiAgICAgIGV4cGFuZGVkUm93czogW10sCiAgICAgIGlzRmVtYWxlOiBmYWxzZSwKICAgICAgLy9idXR0b246IHRydWUsCiAgICAgIC8vd29yZENhYmluTGlzdDogW10sCiAgICAgIGFkbWl0dGVkUGF0aWVudExpc3Q6IFtdLAogICAgICBhZG1pdHRlZFBhdGllbnQ6IHsKICAgICAgICBjZGZyb21kYXRlOiBtb21lbnQoU3RyaW5nKG5ldyBEYXRlKCkpKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgICBjZHRvZGF0ZTogbW9tZW50KFN0cmluZyhuZXcgRGF0ZSgpKSkuZm9ybWF0KCJNTS9ERC9ZWVlZIikgLy8gY2R0b2RhdGU6IG1vbWVudCgKICAgICAgICAvLyAgICAgU3RyaW5nKG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSArIDcpKSkKICAgICAgICAvLyApLmZvcm1hdCgiTU0vREQvWVlZWSIpLAoKICAgICAgfSwKICAgICAgLy8KICAgICAgY2hpZWZDb21wbGFpbkRpYWxvZzogZmFsc2UsCiAgICAgIGNoaWVmQ29tcGxhaW46IHt9LAogICAgICBjaGllZkNvbXBsYWluTGlzdDogW10sCiAgICAgIGNvbXBsaWFudExpc3Q6IFtdLAogICAgICBmb29kRGlhbG9nOiBmYWxzZSwKICAgICAgZm9vZFNldHVwOiB7fSwKICAgICAgYWxsZXJneURldGFpbHNEaWFsb2c6IGZhbHNlLAogICAgICBhbGxlcmd5RGV0YWlsczoge30sCiAgICAgIGFsbGVyZ3lEZXRhaWxzTGlzdDogW10sCiAgICAgIGZvb2RMaXN0OiBbXSwKICAgICAgYWxsZXJneVR5cGVMaXN0OiBbXSwKICAgICAgb25FeGFtaW5hdGlvbkRpYWxvZzogZmFsc2UsCiAgICAgIG9uRXhhbWluYXRpb246IHt9LAogICAgICBwYXRpZW50T25FeGFtaW5hdGlvbkxpc3Q6IFtdLAogICAgICBvbkV4YW1pbmF0aW9uTGlzdDogW10sCiAgICAgIGlPQ2hhcnREaWFsb2c6IGZhbHNlLAogICAgICBpT0NoYXJ0OiB7fSwKICAgICAgaU9DaGFydExpc3Q6IFtdLAogICAgICBkaWFiZXRlc0NoYXJ0RGlhbG9nOiBmYWxzZSwKICAgICAgZGlhYmV0ZXNDaGFydDogewogICAgICAgIGFBZG1pc3Npb25TZXJ2aWNlRGV0YWlsczoge30KICAgICAgfSwKICAgICAgZGlhYmV0ZXNDaGFydExpc3Q6IFtdLAogICAgICBkaWFiZXRlc01lYWxMaXN0OiBbXSwKICAgICAgZGlldENoYXJ0RGlhbG9nOiBmYWxzZSwKICAgICAgZGlldENoYXJ0OiB7fSwKICAgICAgZGlldENoYXJ0TGlzdDogW10sCiAgICAgIGRpZXRDaGFydFRlbXBsYXRlTGlzdDogW10sCiAgICAgIGRpZXRDaGFydFRlbXBMaXN0OiBbXSwKICAgICAgY3VycmVudE1lZGljYXRpb25zRGlhbG9nOiBmYWxzZSwKICAgICAgY3VycmVudE1lZGljYXRpb25zOiB7fSwKICAgICAgY3VycmVudE1lZGljYXRpb25zTGlzdDogW10sCiAgICAgIG1lZGljaW5lTGlzdDogW10sCiAgICAgIHRyZWF0bWVudFJ1bGVzTGlzdDogW10sCiAgICAgIHRyZWF0bWVudER1cmF0aW9uTGlzdDogW10sCiAgICAgIHRyZWF0bWVudERvc2VMaXN0OiBbXSwKICAgICAgcGFzdE1lZGljYWxIaXN0b3J5RGlhbG9nOiBmYWxzZSwKICAgICAgcGFzdE1lZGljYWxIaXN0b3J5OiB7fSwKICAgICAgcGFzdE1lZGljYWxIaXN0b3J5TGlzdDogW10sCiAgICAgIGRpYWdub3Npc0xpc3Q6IFtdLAogICAgICBwYXRpZW50SGlzdG9yeTogewogICAgICAgIGxzdFBlcnNvbmFsSGlzdG9yeTogW10sCiAgICAgICAgbHN0RmFtaWx5SGlzdG9yeTogW10sCiAgICAgICAgbHN0U3lzdGVtc1JldmlldzogW10sCiAgICAgICAgbHN0U3Vic3RhbmNlVXNlOiBbXSwKICAgICAgICBsc3RSZXByb2R1Y3RpdmVIaXN0b3J5OiBbXQogICAgICB9LAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICBmaWx0ZXJzOiB7CiAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLkNPTlRBSU5TCiAgICAgICAgfSwKICAgICAgICBuYW1lOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLlNUQVJUU19XSVRICiAgICAgICAgfQogICAgICB9LAogICAgICBpbml0RmlsdGVyczogZnVuY3Rpb24gaW5pdEZpbHRlcnMoKSB7CiAgICAgICAgdGhpcy5maWx0ZXJzID0gewogICAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgICAgfSwKICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgb3BlcmF0b3I6IEZpbHRlck9wZXJhdG9yLkFORCwKICAgICAgICAgICAgY29uc3RyYWludHM6IFt7CiAgICAgICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuU1RBUlRTX1dJVEgKICAgICAgICAgICAgfV0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vdGhpcy53b3JkQ2FiaW5TZXR1cFNlcnZpY2UgPSBuZXcgV29yZENhYmluU2V0dXBTZXJ2aWNlKCk7CiAgICB0aGlzLmFkbWlzc2lvblNlcnZpY2UgPSBuZXcgQWRtaXNzaW9uU2VydmljZSgpOwogICAgdGhpcy5wYXRpZW50UHJvZmlsZVNlcnZpY2UgPSBuZXcgUGF0aWVudFByb2ZpbGVTZXJ2aWNlKCk7CiAgICB0aGlzLmNvbXBsYWludFNldHVwU2VydmljZSA9IG5ldyBDb21wbGFpbnRTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMuZm9vZFNlcnZpY2UgPSBuZXcgRm9vZFNlcnZpY2UoKTsKICAgIHRoaXMub25FeGFtaW5hdGlvblNldHVwU2VydmljZSA9IG5ldyBPbkV4YW1pbmF0aW9uU2V0dXBTZXJ2aWNlKCk7CiAgICB0aGlzLmRpZXRDaGFydFRlbXBsYXRlU2V0dXBTZXJ2aWNlID0gbmV3IERpZXRDaGFydFRlbXBsYXRlU2V0dXBTZXJ2aWNlKCk7CiAgICB0aGlzLmRpZXRDaGFydFNldHVwU2VydmljZSA9IG5ldyBEaWV0Q2hhcnRTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMubWVkaWNpbmVTZXR1cFNlcnZpY2UgPSBuZXcgTWVkaWNpbmVTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMudHJlYXRtZW50UnVsZXNTZXR1cFNlcnZpY2UgPSBuZXcgVHJlYXRtZW50UnVsZXNTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMudHJlYXRtZW50RHVyYXRpb25TZXR1cFNlcnZpY2UgPSBuZXcgVHJlYXRtZW50RHVyYXRpb25TZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMudHJlYXRtZW50RG9zZVNldHVwU2VydmljZSA9IG5ldyBUcmVhdG1lbnREb3NlU2V0dXBTZXJ2aWNlKCk7CiAgICB0aGlzLmRpYWdub3Npc1NldHVwU2VydmljZSA9IG5ldyBEaWFnbm9zaXNTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMuY29tbW9uU2VydmljZSA9IG5ldyBDb21tb25TZXJ2aWNlKCk7CiAgICB0aGlzLnZhbGlkYXRpb24gPSBuZXcgVmFsaWRhdGlvbigpOyAvLyB0aGlzLndvcmRDYWJpblNldHVwU2VydmljZQogICAgLy8gICAgIC5nZXRBbGwoKQogICAgLy8gICAgIC50aGVuKChkYXRhKSA9PiAodGhpcy53b3JkQ2FiaW5MaXN0ID0gZGF0YS5kYXRhKSk7CgogICAgdGhpcy51c2VySW5mbyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJbmZvIikpOwogICAgdGhpcy5zaG93KCk7CgogICAgaWYgKHRoaXMudXNlckluZm8ubnVyc2VfaWQpIHsKICAgICAgdGhpcy5pc051cnNlID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoIXRoaXMudXNlckluZm8ubnVyc2VfaWQpIHsKICAgICAgdGhpcy5pc051cnNlID0gZmFsc2U7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93OiBmdW5jdGlvbiBzaG93KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOwoKICAgICAgaWYgKCF0aGlzLmFkbWl0dGVkUGF0aWVudC5jZGZyb21kYXRlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKCF0aGlzLmFkbWl0dGVkUGF0aWVudC5jZHRvZGF0ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFkbWl0dGVkUGF0aWVudC5mcm9tZGF0ZSA9IG1vbWVudChTdHJpbmcodGhpcy5hZG1pdHRlZFBhdGllbnQuY2Rmcm9tZGF0ZSkpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICAgIHRoaXMuYWRtaXR0ZWRQYXRpZW50LnRvZGF0ZSA9IG1vbWVudChTdHJpbmcodGhpcy5hZG1pdHRlZFBhdGllbnQuY2R0b2RhdGUpKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgICB0aGlzLnVzZXJJbmZvID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlckluZm8iKSk7CiAgICAgICAgdGhpcy5hZG1pc3Npb25TZXJ2aWNlLmFkbWl0dGVkUGF0aWVudExpc3RGb3JIaXN0b3J5QnlOdXJzZUlkKHRoaXMuYWRtaXR0ZWRQYXRpZW50LmZyb21kYXRlLCB0aGlzLmFkbWl0dGVkUGF0aWVudC50b2RhdGUsIHRoaXMudXNlckluZm8ubnVyc2VfaWQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5hZG1pdHRlZFBhdGllbnRMaXN0ID0gZGF0YS5kYXRhOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLmRhdGFMaXN0ID0gdHJ1ZTsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOwogICAgfSwKICAgIGhpZGVEaWFsb2c6IGZ1bmN0aW9uIGhpZGVEaWFsb2coKSB7CiAgICAgIHZhciBwYXRpZW50SWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwYXRpZW50SWRGb3JUcmVhdG1lbnQiKSkudG9TdHJpbmcoKTsKICAgICAgdGhpcy5jaGllZkNvbXBsYWluRGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuY2hpZWZDb21wbGFpbiA9IHsKICAgICAgICBwYXRpZW50X2lkOiBwYXRpZW50SWQKICAgICAgfTsKICAgICAgdGhpcy5mb29kRGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuZm9vZFNldHVwID0ge307CiAgICAgIHRoaXMuYWxsZXJneURldGFpbHNEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5hbGxlcmd5RGV0YWlscyA9IHsKICAgICAgICBwYXRpZW50X2lkOiBwYXRpZW50SWQKICAgICAgfTsKICAgICAgdGhpcy5vbkV4YW1pbmF0aW9uRGlhbG9nID0gZmFsc2U7IC8vIHRoaXMub25FeGFtaW5hdGlvbiA9IHsKICAgICAgLy8gICBwYXRpZW50X2lkOiBwYXRpZW50SWQKICAgICAgLy8gfTsKCiAgICAgIHRoaXMuaU9DaGFydERpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLmlPQ2hhcnQgPSB7CiAgICAgICAgcGF0aWVudF9pZDogcGF0aWVudElkCiAgICAgIH07CiAgICAgIHRoaXMuZGlhYmV0ZXNDaGFydERpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLmRpYWJldGVzQ2hhcnQgPSB7CiAgICAgICAgYUFkbWlzc2lvblNlcnZpY2VEZXRhaWxzOiB7fSwKICAgICAgICBwYXRpZW50X2lkOiBwYXRpZW50SWQKICAgICAgfTsKICAgICAgdGhpcy5kaWV0Q2hhcnREaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5kaWV0Q2hhcnQgPSB7CiAgICAgICAgcGF0aWVudF9pZDogcGF0aWVudElkCiAgICAgIH07CiAgICAgIHRoaXMuY3VycmVudE1lZGljYXRpb25zRGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuY3VycmVudE1lZGljYXRpb25zID0gewogICAgICAgIHBhdGllbnRfaWQ6IHBhdGllbnRJZAogICAgICB9OwogICAgICB0aGlzLnBhc3RNZWRpY2FsSGlzdG9yeURpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLnBhc3RNZWRpY2FsSGlzdG9yeSA9IHsKICAgICAgICBwYXRpZW50X2lkOiBwYXRpZW50SWQKICAgICAgfTsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgIH0sCiAgICBuZXdDaGllZkNvbXBsYWluOiBmdW5jdGlvbiBuZXdDaGllZkNvbXBsYWluKCkgewogICAgICB0aGlzLmNoaWVmQ29tcGxhaW5EaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIGFkZENoaWVmQ29tcGxhaW46IGZ1bmN0aW9uIGFkZENoaWVmQ29tcGxhaW4oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzdWx0LCBfcmVzdWx0OwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIuc3VibWl0dGVkID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmNoaWVmQ29tcGxhaW4uY29tcGlsYW50c19pZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGlmIChfdGhpczIuY2hpZWZDb21wbGFpbi5wYXRpZW50X2lkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5jaGllZkNvbXBsYWluLmNkZnJvbV9kYXRlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi52YWxpZGF0aW9uLmlzSWRFeGlzdHMoX3RoaXMyLmNoaWVmQ29tcGxhaW5MaXN0LCAnY29tcGlsYW50c19pZCcsIF90aGlzMi5jaGllZkNvbXBsYWluLmNvbXBpbGFudHNfaWQsICdwYXRpZW50X2NvbXBsYWluX2lkJywgX3RoaXMyLmNoaWVmQ29tcGxhaW4ucGF0aWVudF9jb21wbGFpbl9pZCwgX3RoaXMyKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgX3RoaXMyLmNoaWVmQ29tcGxhaW4uZnJvbV9kYXRlID0gbW9tZW50KFN0cmluZyhfdGhpczIuY2hpZWZDb21wbGFpbi5jZGZyb21fZGF0ZSkpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIuY2hpZWZDb21wbGFpbi5wYXRpZW50X2NvbXBsYWluX2lkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5wYXRpZW50UHJvZmlsZVNlcnZpY2UuY29tcGxhaW5TYXZlKF90aGlzMi5jaGllZkNvbXBsYWluKTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiU2F2ZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5nZXRDb21wbGFpbnNCeVBhdGllbnRJZChfdGhpczIuY2hpZWZDb21wbGFpbi5wYXRpZW50X2lkKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5oaWRlRGlhbG9nKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDQwMSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkVycm9yIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHJlc3VsdC5kYXRhLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZWQiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LnJlcywKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIucGF0aWVudFByb2ZpbGVTZXJ2aWNlLmNvbXBsYWluVXBkYXRlKF90aGlzMi5jaGllZkNvbXBsYWluKTsKCiAgICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICAgIF9yZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChfcmVzdWx0LnN0YXR1cyA9PT0gMjAyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5nZXRDb21wbGFpbnNCeVBhdGllbnRJZChfdGhpczIuY2hpZWZDb21wbGFpbi5wYXRpZW50X2lkKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5oaWRlRGlhbG9nKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiVXBkYXRlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfcmVzdWx0LnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRXJyb3IiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogX3Jlc3VsdC5kYXRhLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZWQiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogX3Jlc3VsdC5yZXMsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMjk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZWRpdENoaWVmQ29tcGxhaW46IGZ1bmN0aW9uIGVkaXRDaGllZkNvbXBsYWluKGRhdGEpIHsKICAgICAgdGhpcy5jaGllZkNvbXBsYWluID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0YSk7CiAgICAgIHRoaXMuY2hpZWZDb21wbGFpbi5jZGZyb21fZGF0ZSA9IG1vbWVudChTdHJpbmcodGhpcy5jaGllZkNvbXBsYWluLmZyb21fZGF0ZSkpLmZvcm1hdCgiTU0vREQvWVlZWSIpOwogICAgICB0aGlzLmNoaWVmQ29tcGxhaW5EaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIGdldEZvb2Q6IGZ1bmN0aW9uIGdldEZvb2QoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5mb29kU2VydmljZS5nZXRBY3RpdmVDb21ibygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLmZvb2RGb3JtYXR0ZWQoZGF0YS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgZm9vZEZvcm1hdHRlZDogZnVuY3Rpb24gZm9vZEZvcm1hdHRlZChkYXRhKSB7CiAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2U7CiAgICAgIHRoaXMuZm9vZFNldHVwID0ge307CiAgICAgIHRoaXMuZm9vZExpc3QgPSBkYXRhOwogICAgICB0aGlzLmZvb2REaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5hbGxlcmd5RGV0YWlsc0RpYWxvZyA9IHRydWU7CiAgICB9LAogICAgbmV3Rm9vZDogZnVuY3Rpb24gbmV3Rm9vZCgpIHsKICAgICAgdGhpcy5hbGxlcmd5RGV0YWlsc0RpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLmZvb2REaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIGFkZEZvb2Q6IGZ1bmN0aW9uIGFkZEZvb2QoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM0LnN1Ym1pdHRlZCA9IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNC5mb29kU2V0dXAuZm9vZF9uYW1lKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNC52YWxpZGF0aW9uLmlzTmFtZUV4aXN0cyhfdGhpczQuZm9vZExpc3QsICd0ZXh0JywgX3RoaXM0LmZvb2RTZXR1cC5mb29kX25hbWUsICd2YWx1ZScsIF90aGlzNC5mb29kU2V0dXAuZm9vZF9pZCwgX3RoaXM0KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX3RoaXM0LmZvb2RTZXR1cC5hY3RpdmUgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuZm9vZFNlcnZpY2UuYWRkKF90aGlzNC5mb29kU2V0dXApOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICBfdGhpczQuZ2V0Rm9vZCgpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM0LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIlN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogIlNhdmVkIFN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczQuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbmV3QWxsZXJneURldGFpbHM6IGZ1bmN0aW9uIG5ld0FsbGVyZ3lEZXRhaWxzKCkgewogICAgICB0aGlzLmFsbGVyZ3lEZXRhaWxzRGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICBhZGRBbGxlcmd5RGV0YWlsczogZnVuY3Rpb24gYWRkQWxsZXJneURldGFpbHMoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHJlc3VsdCwgX3Jlc3VsdDI7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczUuc3VibWl0dGVkID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LmFsbGVyZ3lEZXRhaWxzLmZvb2RfaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGlmIChfdGhpczUuYWxsZXJneURldGFpbHMucGF0aWVudF9pZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgaWYgKF90aGlzNS5hbGxlcmd5RGV0YWlscy50eXBlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUuYWxsZXJneURldGFpbHMuY2Rmcm9tX2RhdGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczUudmFsaWRhdGlvbi5pc0lkRXhpc3RzKF90aGlzNS5hbGxlcmd5RGV0YWlsc0xpc3QsICdmb29kX2lkJywgX3RoaXM1LmFsbGVyZ3lEZXRhaWxzLmZvb2RfaWQsICdwYXRpZW50X2FsbGVyZ3lfZGV0YWlsc19pZCcsIF90aGlzNS5hbGxlcmd5RGV0YWlscy5wYXRpZW50X2FsbGVyZ3lfZGV0YWlsc19pZCwgX3RoaXM1KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICBfdGhpczUuYWxsZXJneURldGFpbHMuZnJvbV9kYXRlID0gbW9tZW50KFN0cmluZyhfdGhpczUuYWxsZXJneURldGFpbHMuY2Rmcm9tX2RhdGUpKS5mb3JtYXQoIllZWVktTU0tREQiKTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LmFsbGVyZ3lEZXRhaWxzLnBhdGllbnRfYWxsZXJneV9kZXRhaWxzX2lkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LnBhdGllbnRQcm9maWxlU2VydmljZS5hbGxlcmd5RGV0YWlsc1NhdmUoX3RoaXM1LmFsbGVyZ3lEZXRhaWxzKTsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAyMDEpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIlN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogIlNhdmVkIFN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczUuZ2V0QWxsZXJneURldGFpbHNCeVBhdGllbnRJZChfdGhpczUuYWxsZXJneURldGFpbHMucGF0aWVudF9pZCk7CgogICAgICAgICAgICAgICAgICBfdGhpczUuaGlkZURpYWxvZygpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuc3RhdHVzID09PSA0MDEpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJFcnJvciIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQuZGF0YSwKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRmFpbGVkIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHJlc3VsdC5yZXMsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzMTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUucGF0aWVudFByb2ZpbGVTZXJ2aWNlLmFsbGVyZ3lEZXRhaWxzVXBkYXRlKF90aGlzNS5hbGxlcmd5RGV0YWlscyk7CgogICAgICAgICAgICAgIGNhc2UgMzE6CiAgICAgICAgICAgICAgICBfcmVzdWx0MiA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChfcmVzdWx0Mi5zdGF0dXMgPT09IDIwMikgewogICAgICAgICAgICAgICAgICBfdGhpczUuZ2V0QWxsZXJneURldGFpbHNCeVBhdGllbnRJZChfdGhpczUuYWxsZXJneURldGFpbHMucGF0aWVudF9pZCk7CgogICAgICAgICAgICAgICAgICBfdGhpczUuaGlkZURpYWxvZygpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM1LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIlN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogIlVwZGF0ZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3Jlc3VsdDIuc3RhdHVzID09PSA0MDEpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJFcnJvciIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBfcmVzdWx0Mi5kYXRhLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZWQiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogX3Jlc3VsdDIucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZWRpdEFsbGVyZ3lEZXRhaWxzOiBmdW5jdGlvbiBlZGl0QWxsZXJneURldGFpbHMoZGF0YSkgewogICAgICB0aGlzLmFsbGVyZ3lEZXRhaWxzID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0YSk7CiAgICAgIHRoaXMuYWxsZXJneURldGFpbHMuY2Rmcm9tX2RhdGUgPSBtb21lbnQoU3RyaW5nKHRoaXMuYWxsZXJneURldGFpbHMuZnJvbV9kYXRlKSkuZm9ybWF0KCJNTS9ERC9ZWVlZIik7CiAgICAgIHRoaXMuYWxsZXJneURldGFpbHNEaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIG5ld09uRXhhbWluYXRpb246IGZ1bmN0aW9uIG5ld09uRXhhbWluYXRpb24oKSB7CiAgICAgIHRoaXMuZ2V0T25FeGFtaW5hdGlvbnNQb3B1cCgpOwogICAgICB0aGlzLm9uRXhhbWluYXRpb25EaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIGFkZE9uRXhhbWluYXRpb246IGZ1bmN0aW9uIGFkZE9uRXhhbWluYXRpb24oKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHJlc3VsdCwgcGF0aWVudElkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczYuc3VibWl0dGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzNi5yZXF1cmVkID0gIiI7CgogICAgICAgICAgICAgICAgX3RoaXM2LnBvcHVwT25FeGFtaW5hdGlvbnNEYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgaWYgKCFlbGVtZW50Lm9uX2V4YW1pbmF0aW9uX3Jlc3VsdCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNi5yZXF1cmVkID0gInJlcXVpcmVkIjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczYucmVxdXJlZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNi4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJSZXF1aXJlZCIsCiAgICAgICAgICAgICAgICAgIGRldGFpbDogIlBsZWFzZSBmaWxsIGluIHRoZSByZXF1aXJlZCBmaWVsZHMiLAogICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNi5yZXF1cmVkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LnBhdGllbnRQcm9maWxlU2VydmljZS5vbkV4YW1pbmF0aW9uU2F2ZShfdGhpczYucG9wdXBPbkV4YW1pbmF0aW9uc0RhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICBwYXRpZW50SWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwYXRpZW50SWRGb3JUcmVhdG1lbnQiKSk7CgogICAgICAgICAgICAgICAgICBfdGhpczYuZ2V0T25FeGFtaW5hdGlvbkJ5UGF0aWVudElkKHBhdGllbnRJZCk7CgogICAgICAgICAgICAgICAgICBfdGhpczYuaGlkZURpYWxvZygpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM2LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIlN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogIlNhdmVkIFN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczYuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbmV3SU9DaGFydDogZnVuY3Rpb24gbmV3SU9DaGFydCgpIHsKICAgICAgdGhpcy5pT0NoYXJ0RGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICBhZGRJT0NoYXJ0OiBmdW5jdGlvbiBhZGRJT0NoYXJ0KCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciByZXN1bHQsIHBhdGllbnRJZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM3LnN1Ym1pdHRlZCA9IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNy5pT0NoYXJ0LnBhdGllbnRfaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcucGF0aWVudFByb2ZpbGVTZXJ2aWNlLmlPQ2hhcnRTYXZlKF90aGlzNy5pT0NoYXJ0KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ1LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICBwYXRpZW50SWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwYXRpZW50SWRGb3JUcmVhdG1lbnQiKSk7CgogICAgICAgICAgICAgICAgICBfdGhpczcuZ2V0SU9DaGFydEJ5UGF0aWVudElkKHBhdGllbnRJZCk7CgogICAgICAgICAgICAgICAgICBfdGhpczcuaGlkZURpYWxvZygpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM3LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIlN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogIlNhdmVkIFN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczcuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBuZXdEaWFiZXRlc0NoYXJ0OiBmdW5jdGlvbiBuZXdEaWFiZXRlc0NoYXJ0KCkgewogICAgICB0aGlzLmRpYWJldGVzQ2hhcnREaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIGFkZERpYWJldGVzQ2hhcnQ6IGZ1bmN0aW9uIGFkZERpYWJldGVzQ2hhcnQoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIGFkbWlzc2lvbl9pZCwgcmVzdWx0LCBwYXRpZW50SWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzOC5zdWJtaXR0ZWQgPSB0cnVlOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczguZGlhYmV0ZXNDaGFydC5tZWFsKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM4LmRpYWJldGVzQ2hhcnQuYmVmb3JlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM4LmRpYWJldGVzQ2hhcnQuYWZ0ZXIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgYWRtaXNzaW9uX2lkID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWRtaXNzaW9uSWRGb3JEaWFiZXRlc1NlcnZpY2UiKSk7CiAgICAgICAgICAgICAgICBfdGhpczguZGlhYmV0ZXNDaGFydC5hQWRtaXNzaW9uU2VydmljZURldGFpbHMuYWRtaXNzaW9uX2lkID0gU3RyaW5nKGFkbWlzc2lvbl9pZCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC5wYXRpZW50UHJvZmlsZVNlcnZpY2UuZGlhYmV0ZXNDaGFydFNhdmUoX3RoaXM4LmRpYWJldGVzQ2hhcnQpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ2LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICBwYXRpZW50SWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwYXRpZW50SWRGb3JUcmVhdG1lbnQiKSk7CgogICAgICAgICAgICAgICAgICBfdGhpczguZ2V0RGlhYmV0ZXNDaGFydEJ5UGF0aWVudElkKHBhdGllbnRJZCk7CgogICAgICAgICAgICAgICAgICBfdGhpczguaGlkZURpYWxvZygpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM4LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIlN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogIlNhdmVkIFN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczguJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbmV3RGlldENoYXJ0OiBmdW5jdGlvbiBuZXdEaWV0Q2hhcnQoKSB7CiAgICAgIHRoaXMuZGlldENoYXJ0RGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICBnZXREaWV0Q2hhcnRCeVRlbXBsYXRlSWQ6IGZ1bmN0aW9uIGdldERpZXRDaGFydEJ5VGVtcGxhdGVJZCgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuZGlldENoYXJ0LmRpZXRfY2hhcnRfdGVtcGxhdGVfaWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kaWV0Q2hhcnRTZXR1cFNlcnZpY2UuZ2V0QnlEaWV0Q2hhcnRUZW1wbGF0ZUlkKHRoaXMuZGlldENoYXJ0LmRpZXRfY2hhcnRfdGVtcGxhdGVfaWQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBfdGhpczkuZGlldENoYXJ0VGVtcExpc3QgPSBkYXRhLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhZGREaWV0Q2hhcnQ6IGZ1bmN0aW9uIGFkZERpZXRDaGFydCgpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIHBhdGllbnRJZCwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczEwLnN1Ym1pdHRlZCA9IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMC5kaWV0Q2hhcnRUZW1wTGlzdC5sZW5ndGggPD0gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHBhdGllbnRJZCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInBhdGllbnRJZEZvclRyZWF0bWVudCIpKTsKCiAgICAgICAgICAgICAgICBfdGhpczEwLmRpZXRDaGFydFRlbXBMaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgZWxlbWVudC5wYXRpZW50X2lkID0gcGF0aWVudElkLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMC5wYXRpZW50UHJvZmlsZVNlcnZpY2UuZGlldENoYXJ0U2F2ZShfdGhpczEwLmRpZXRDaGFydFRlbXBMaXN0KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ3LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICAvL3ZhciBwYXRpZW50SWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwYXRpZW50SWRGb3JUcmVhdG1lbnQiKSk7CiAgICAgICAgICAgICAgICAgIF90aGlzMTAuZ2V0RGlldENoYXJ0QnlQYXRpZW50SWQocGF0aWVudElkKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTAuaGlkZURpYWxvZygpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxMC4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6ICJTYXZlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMC4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRmFpbGVkIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHJlc3VsdC5yZXMsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBuZXdDdXJyZW50TWVkaWNhdGlvbnM6IGZ1bmN0aW9uIG5ld0N1cnJlbnRNZWRpY2F0aW9ucygpIHsKICAgICAgdGhpcy5jdXJyZW50TWVkaWNhdGlvbnNEaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIGFkZEN1cnJlbnRNZWRpY2F0aW9uczogZnVuY3Rpb24gYWRkQ3VycmVudE1lZGljYXRpb25zKCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczExLnN1Ym1pdHRlZCA9IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTEuY3VycmVudE1lZGljYXRpb25zLm1lZGljaW5lX2lkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMS5jdXJyZW50TWVkaWNhdGlvbnMudHJlYXRtZW50X3J1bGVzX2lkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMS5jdXJyZW50TWVkaWNhdGlvbnMudHJlYXRtZW50X2R1cmF0aW9uX2lkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIGlmIChfdGhpczExLmN1cnJlbnRNZWRpY2F0aW9ucy50cmVhdG1lbnRfZG9zZV9pZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMS5jdXJyZW50TWVkaWNhdGlvbnMucGF0aWVudF9pZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTEudmFsaWRhdGlvbi5pc0lkRXhpc3RzKF90aGlzMTEuY3VycmVudE1lZGljYXRpb25zTGlzdCwgJ21lZGljaW5lX2lkJywgX3RoaXMxMS5jdXJyZW50TWVkaWNhdGlvbnMubWVkaWNpbmVfaWQsICdwYXRpZW50X2N1cnJlbnRfbWVkaWNhdGlvbnNfaWQnLCBfdGhpczExLmN1cnJlbnRNZWRpY2F0aW9ucy5wYXRpZW50X2N1cnJlbnRfbWVkaWNhdGlvbnNfaWQsIF90aGlzMTEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMS5wYXRpZW50UHJvZmlsZVNlcnZpY2UuY3VycmVudE1lZGljYXRpb25zU2F2ZShfdGhpczExLmN1cnJlbnRNZWRpY2F0aW9ucyk7CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDguc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTEuZ2V0Q3VycmVudE1lZGljYXRpb25zQnlQYXRpZW50SWQoX3RoaXMxMS5jdXJyZW50TWVkaWNhdGlvbnMucGF0aWVudF9pZCk7CgogICAgICAgICAgICAgICAgICBfdGhpczExLmhpZGVEaWFsb2coKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTEuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiU2F2ZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTEuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY29uZmlybURlbGV0ZUN1cnJlbnRNZWRpY2F0aW9uczogZnVuY3Rpb24gY29uZmlybURlbGV0ZUN1cnJlbnRNZWRpY2F0aW9ucyhkYXRhKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0ucmVxdWlyZSh7CiAgICAgICAgbWVzc2FnZTogJ0RvIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHJlY29yZD8nLAogICAgICAgIGhlYWRlcjogJ0RlbGV0ZSBDb25maXJtYXRpb24nLAogICAgICAgIGljb246ICdwaSBwaS1pbmZvLWNpcmNsZScsCiAgICAgICAgYWNjZXB0Q2xhc3M6ICdwLWJ1dHRvbi1kYW5nZXInLAogICAgICAgIGFjY2VwdDogZnVuY3Rpb24gYWNjZXB0KCkgewogICAgICAgICAgX3RoaXMxMi5kZWxldGVDdXJyZW50TWVkaWNhdGlvbnMoZGF0YSk7CiAgICAgICAgfSwKICAgICAgICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdCgpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZUN1cnJlbnRNZWRpY2F0aW9uczogZnVuY3Rpb24gZGVsZXRlQ3VycmVudE1lZGljYXRpb25zKGRhdGEpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTMucGF0aWVudFByb2ZpbGVTZXJ2aWNlLmN1cnJlbnRNZWRpY2F0aW9uc0RlbGV0ZShkYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ5LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDIwMikgewogICAgICAgICAgICAgICAgICBfdGhpczEzLmdldEN1cnJlbnRNZWRpY2F0aW9uc0J5UGF0aWVudElkKGRhdGEucGF0aWVudF9pZCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczEzLiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZWQiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LnJlcywKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbmV3UGFzdE1lZGljYWxIaXN0b3J5OiBmdW5jdGlvbiBuZXdQYXN0TWVkaWNhbEhpc3RvcnkoKSB7CiAgICAgIHRoaXMucGFzdE1lZGljYWxIaXN0b3J5RGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICBhZGRQYXN0TWVkaWNhbEhpc3Rvcnk6IGZ1bmN0aW9uIGFkZFBhc3RNZWRpY2FsSGlzdG9yeSgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczE0LnN1Ym1pdHRlZCA9IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTQucGFzdE1lZGljYWxIaXN0b3J5LmRpYWdub3Npc19pZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNC5wYXN0TWVkaWNhbEhpc3RvcnkucGF0aWVudF9pZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTQudmFsaWRhdGlvbi5pc0lkRXhpc3RzKF90aGlzMTQucGFzdE1lZGljYWxIaXN0b3J5TGlzdCwgJ2RpYWdub3Npc19pZCcsIF90aGlzMTQucGFzdE1lZGljYWxIaXN0b3J5LmRpYWdub3Npc19pZCwgJ3BhdGllbnRfcGFzdF9oaXN0b3J5X2lkJywgX3RoaXMxNC5wYXN0TWVkaWNhbEhpc3RvcnkucGF0aWVudF9wYXN0X2hpc3RvcnlfaWQsIF90aGlzMTQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNC5wYXRpZW50UHJvZmlsZVNlcnZpY2UucGFzdEhpc3RvcnlTYXZlKF90aGlzMTQucGFzdE1lZGljYWxIaXN0b3J5KTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTAuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTQuZ2V0UGFzdEhpc3RvcnlCeVBhdGllbnRJZChfdGhpczE0LnBhc3RNZWRpY2FsSGlzdG9yeS5wYXRpZW50X2lkKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTQuaGlkZURpYWxvZygpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxNC4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6ICJTYXZlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxNC4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRmFpbGVkIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHJlc3VsdC5yZXMsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNvbmZpcm1EZWxldGVQYXN0TWVkaWNhbEhpc3Rvcnk6IGZ1bmN0aW9uIGNvbmZpcm1EZWxldGVQYXN0TWVkaWNhbEhpc3RvcnkoZGF0YSkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtLnJlcXVpcmUoewogICAgICAgIG1lc3NhZ2U6ICdEbyB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyByZWNvcmQ/JywKICAgICAgICBoZWFkZXI6ICdEZWxldGUgQ29uZmlybWF0aW9uJywKICAgICAgICBpY29uOiAncGkgcGktaW5mby1jaXJjbGUnLAogICAgICAgIGFjY2VwdENsYXNzOiAncC1idXR0b24tZGFuZ2VyJywKICAgICAgICBhY2NlcHQ6IGZ1bmN0aW9uIGFjY2VwdCgpIHsKICAgICAgICAgIF90aGlzMTUuZGVsZXRlUGFzdE1lZGljYWxIaXN0b3J5KGRhdGEpOwogICAgICAgIH0sCiAgICAgICAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3QoKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVQYXN0TWVkaWNhbEhpc3Rvcnk6IGZ1bmN0aW9uIGRlbGV0ZVBhc3RNZWRpY2FsSGlzdG9yeShkYXRhKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE2LnBhdGllbnRQcm9maWxlU2VydmljZS5wYXN0SGlzdG9yeURlbGV0ZShkYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQxMS5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAyMDIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxNi5nZXRQYXN0SGlzdG9yeUJ5UGF0aWVudElkKGRhdGEucGF0aWVudF9pZCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczE2LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZWQiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LnJlcywKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTEpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBwYXRpZW50SGlzdG9yeVNhdmU6IGZ1bmN0aW9uIHBhdGllbnRIaXN0b3J5U2F2ZSgpIHsKICAgICAgdmFyIF90aGlzMTcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczE3LnBhdGllbnRIaXN0b3J5LnBhdGllbnRfaWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwYXRpZW50SWRGb3JUcmVhdG1lbnQiKSkudG9TdHJpbmcoKTsgLy90aGlzLnN1Ym1pdHRlZCA9IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTcucGF0aWVudEhpc3RvcnkucGF0aWVudF9pZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTcucGF0aWVudFByb2ZpbGVTZXJ2aWNlLnBhdGllbnRIaXN0b3J5U2F2ZShfdGhpczE3LnBhdGllbnRIaXN0b3J5LCBfdGhpczE3KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQxMi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAyMDEpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxNy5oaWRlSGlzdG9yeSgpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxNy4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6ICJTYXZlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxNy4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRmFpbGVkIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHJlc3VsdC5yZXMsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8gY29sbGVjdCBoaXN0b3J5CiAgICBoaXN0b3J5Q29sbGVjdGlvbjogZnVuY3Rpb24gaGlzdG9yeUNvbGxlY3Rpb24oZGF0YSkgewogICAgICB2YXIgX3RoaXMxOCA9IHRoaXM7CgogICAgICBpZiAoZGF0YS5nZW5kZXIgPT0gIkZlbWFsZSIpIHsKICAgICAgICB0aGlzLmlzRmVtYWxlID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzRmVtYWxlID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhZG1pc3Npb25JZEZvckRpYWJldGVzU2VydmljZScsIGRhdGEuYWRtaXNzaW9uX2lkKTsKICAgICAgdmFyIHBhdGllbnRJZCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInBhdGllbnRJZEZvclRyZWF0bWVudCIpKTsKCiAgICAgIGlmIChwYXRpZW50SWQpIHsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncGF0aWVudElkRm9yVHJlYXRtZW50Jyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BhdGllbnRJZEZvclRyZWF0bWVudCcsIGRhdGEucGF0aWVudF9pZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BhdGllbnRJZEZvclRyZWF0bWVudCcsIGRhdGEucGF0aWVudF9pZCk7CiAgICAgIH0gLy8gdXNlIGZvciBEaWFsb2cgLy8KCgogICAgICB0aGlzLmNvbXBsYWludFNldHVwU2VydmljZS5nZXRBY3RpdmVDb21ibygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXMxOC5jb21wbGlhbnRMaXN0ID0gZGF0YS5kYXRhOwogICAgICB9KTsKICAgICAgdGhpcy5mb29kU2VydmljZS5nZXRBY3RpdmVDb21ibygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXMxOC5mb29kTGlzdCA9IGRhdGEuZGF0YTsKICAgICAgfSk7CiAgICAgIHRoaXMub25FeGFtaW5hdGlvblNldHVwU2VydmljZS5nZXRBY3RpdmVDb21ibygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXMxOC5vbkV4YW1pbmF0aW9uTGlzdCA9IGRhdGEuZGF0YTsKICAgICAgfSk7CiAgICAgIHRoaXMubWVkaWNpbmVTZXR1cFNlcnZpY2UuZ2V0QWN0aXZlQ29tYm8oKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMTgubWVkaWNpbmVMaXN0ID0gZGF0YS5kYXRhOwogICAgICB9KTsKICAgICAgdGhpcy50cmVhdG1lbnRSdWxlc1NldHVwU2VydmljZS5nZXRBY3RpdmVDb21ibygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXMxOC50cmVhdG1lbnRSdWxlc0xpc3QgPSBkYXRhLmRhdGE7CiAgICAgIH0pOwogICAgICB0aGlzLnRyZWF0bWVudER1cmF0aW9uU2V0dXBTZXJ2aWNlLmdldEFjdGl2ZUNvbWJvKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBfdGhpczE4LnRyZWF0bWVudER1cmF0aW9uTGlzdCA9IGRhdGEuZGF0YTsKICAgICAgfSk7CiAgICAgIHRoaXMudHJlYXRtZW50RG9zZVNldHVwU2VydmljZS5nZXRBY3RpdmVDb21ibygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXMxOC50cmVhdG1lbnREb3NlTGlzdCA9IGRhdGEuZGF0YTsKICAgICAgfSk7CiAgICAgIHRoaXMuZGlhZ25vc2lzU2V0dXBTZXJ2aWNlLmdldEFsbCgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXMxOC5kaWFnbm9zaXNMaXN0ID0gZGF0YS5kYXRhOwogICAgICB9KTsKICAgICAgdGhpcy5jb21tb25TZXJ2aWNlLkdldEFsbEFsbGVyZ3lUeXBlKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBfdGhpczE4LmFsbGVyZ3lUeXBlTGlzdCA9IGRhdGEuZGF0YTsKICAgICAgfSk7CiAgICAgIHRoaXMuY29tbW9uU2VydmljZS5HZXRBbGxEaWFiZXRlc01lYWwoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMTguZGlhYmV0ZXNNZWFsTGlzdCA9IGRhdGEuZGF0YTsKICAgICAgfSk7CiAgICAgIHRoaXMuZGlldENoYXJ0VGVtcGxhdGVTZXR1cFNlcnZpY2UuZ2V0QWN0aXZlQ29tYm8oKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMTguZGlldENoYXJ0VGVtcGxhdGVMaXN0ID0gZGF0YS5kYXRhOwogICAgICB9KTsgLy8gdXNlIGZvciBEaWFsb2cgLy8KICAgICAgLy8gY29sbGVjdCBoaXN0b3J5IHBhdGllbnQgd2lzZSAvLwoKICAgICAgdGhpcy5nZXRDb21wbGFpbnNCeVBhdGllbnRJZChkYXRhLnBhdGllbnRfaWQpOwogICAgICB0aGlzLmdldEFsbGVyZ3lEZXRhaWxzQnlQYXRpZW50SWQoZGF0YS5wYXRpZW50X2lkKTsKICAgICAgdGhpcy5nZXRPbkV4YW1pbmF0aW9uQnlQYXRpZW50SWQoZGF0YS5wYXRpZW50X2lkKTsKICAgICAgdGhpcy5nZXRJT0NoYXJ0QnlQYXRpZW50SWQoZGF0YS5wYXRpZW50X2lkKTsKICAgICAgdGhpcy5nZXREaWFiZXRlc0NoYXJ0QnlQYXRpZW50SWQoZGF0YS5wYXRpZW50X2lkKTsKICAgICAgdGhpcy5nZXREaWV0Q2hhcnRCeVBhdGllbnRJZChkYXRhLnBhdGllbnRfaWQpOwogICAgICB0aGlzLmdldEN1cnJlbnRNZWRpY2F0aW9uc0J5UGF0aWVudElkKGRhdGEucGF0aWVudF9pZCk7CiAgICAgIHRoaXMuZ2V0UGFzdEhpc3RvcnlCeVBhdGllbnRJZChkYXRhLnBhdGllbnRfaWQpOwogICAgICB0aGlzLnBhdGllbnRQcm9maWxlU2VydmljZS5nZXRTeXN0ZW1TdWJzdGFuY2UoZGF0YS5wYXRpZW50X2lkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMTguZm9ybWF0dGVkU3lzdGVtU3Vic3RhbmNlKGRhdGEuZGF0YSk7CiAgICAgIH0pOwogICAgICB0aGlzLmlzSGlzdG9yeSA9IHRydWU7CiAgICAgIHRoaXMuZGF0YUxpc3QgPSBmYWxzZTsgLy8gY29sbGVjdCBoaXN0b3J5IHBhdGllbnQgd2lzZSAvLwogICAgfSwKICAgIGdldENvbXBsYWluc0J5UGF0aWVudElkOiBmdW5jdGlvbiBnZXRDb21wbGFpbnNCeVBhdGllbnRJZChwYXRpZW50X2lkKSB7CiAgICAgIHZhciBfdGhpczE5ID0gdGhpczsKCiAgICAgIHRoaXMuY2hpZWZDb21wbGFpbi5wYXRpZW50X2lkID0gcGF0aWVudF9pZDsKICAgICAgdGhpcy5wYXRpZW50UHJvZmlsZVNlcnZpY2UuZ2V0Q29tcGxhaW5zQnlQYXRpZW50SWQocGF0aWVudF9pZCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBfdGhpczE5LmNoaWVmQ29tcGxhaW5MaXN0ID0gZGF0YS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRBbGxlcmd5RGV0YWlsc0J5UGF0aWVudElkOiBmdW5jdGlvbiBnZXRBbGxlcmd5RGV0YWlsc0J5UGF0aWVudElkKHBhdGllbnRfaWQpIHsKICAgICAgdmFyIF90aGlzMjAgPSB0aGlzOwoKICAgICAgdGhpcy5hbGxlcmd5RGV0YWlscy5wYXRpZW50X2lkID0gcGF0aWVudF9pZDsKICAgICAgdGhpcy5wYXRpZW50UHJvZmlsZVNlcnZpY2UuZ2V0QWxsZXJneURldGFpbHNCeVBhdGllbnRJZChwYXRpZW50X2lkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMjAuYWxsZXJneURldGFpbHNMaXN0ID0gZGF0YS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRPbkV4YW1pbmF0aW9uc1BvcHVwOiBmdW5jdGlvbiBnZXRPbkV4YW1pbmF0aW9uc1BvcHVwKCkgewogICAgICB2YXIgX3RoaXMyMSA9IHRoaXM7CgogICAgICB2YXIgcGF0aWVudElkID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicGF0aWVudElkRm9yVHJlYXRtZW50IikpOwogICAgICB0aGlzLnBvcHVwT25FeGFtaW5hdGlvbnNEYXRhID0gW107CiAgICAgIHRoaXMub25FeGFtaW5hdGlvbkxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIF90aGlzMjEucG9wdXBPbkV4YW1pbmF0aW9uc0RhdGEucHVzaCh7CiAgICAgICAgICBfb25fZXhhbWluYXRpb25fbmFtZTogZWxlbWVudC50ZXh0LAogICAgICAgICAgb25fZXhhbWluYXRpb25faWQ6IGVsZW1lbnQudmFsdWUsCiAgICAgICAgICBvbl9leGFtaW5hdGlvbl9yZXN1bHQ6IFN0cmluZygxKSwKICAgICAgICAgIHBhdGllbnRfaWQ6IHBhdGllbnRJZC50b1N0cmluZygpCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLm9uRXhhbWluYXRpb25Qb3B1cERpYWxvZyA9IHRydWU7CiAgICB9LAogICAgZ2V0T25FeGFtaW5hdGlvbkJ5UGF0aWVudElkOiBmdW5jdGlvbiBnZXRPbkV4YW1pbmF0aW9uQnlQYXRpZW50SWQocGF0aWVudF9pZCkgewogICAgICB2YXIgX3RoaXMyMiA9IHRoaXM7CgogICAgICB0aGlzLm9uRXhhbWluYXRpb24ucGF0aWVudF9pZCA9IHBhdGllbnRfaWQ7CiAgICAgIHRoaXMucGF0aWVudFByb2ZpbGVTZXJ2aWNlLmdldE9uRXhhbWluYXRpb25CeVBhdGllbnRJZChwYXRpZW50X2lkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMjIucGF0aWVudE9uRXhhbWluYXRpb25MaXN0ID0gZGF0YS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRJT0NoYXJ0QnlQYXRpZW50SWQ6IGZ1bmN0aW9uIGdldElPQ2hhcnRCeVBhdGllbnRJZChwYXRpZW50X2lkKSB7CiAgICAgIHZhciBfdGhpczIzID0gdGhpczsKCiAgICAgIHRoaXMuaU9DaGFydC5wYXRpZW50X2lkID0gcGF0aWVudF9pZDsKICAgICAgdGhpcy5wYXRpZW50UHJvZmlsZVNlcnZpY2UuZ2V0SU9DaGFydEJ5UGF0aWVudElkKHBhdGllbnRfaWQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXMyMy5pT0NoYXJ0TGlzdCA9IGRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0RGlhYmV0ZXNDaGFydEJ5UGF0aWVudElkOiBmdW5jdGlvbiBnZXREaWFiZXRlc0NoYXJ0QnlQYXRpZW50SWQocGF0aWVudF9pZCkgewogICAgICB2YXIgX3RoaXMyNCA9IHRoaXM7CgogICAgICB0aGlzLmRpYWJldGVzQ2hhcnQucGF0aWVudF9pZCA9IHBhdGllbnRfaWQ7CiAgICAgIHRoaXMucGF0aWVudFByb2ZpbGVTZXJ2aWNlLmdldERpYWJldGVzQ2hhcnRCeVBhdGllbnRJZChwYXRpZW50X2lkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMjQuZGlhYmV0ZXNDaGFydExpc3QgPSBkYXRhLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGdldERpZXRDaGFydEJ5UGF0aWVudElkOiBmdW5jdGlvbiBnZXREaWV0Q2hhcnRCeVBhdGllbnRJZChwYXRpZW50X2lkKSB7CiAgICAgIHZhciBfdGhpczI1ID0gdGhpczsKCiAgICAgIHRoaXMuZGlldENoYXJ0LnBhdGllbnRfaWQgPSBwYXRpZW50X2lkOwogICAgICB0aGlzLnBhdGllbnRQcm9maWxlU2VydmljZS5nZXREaWV0Q2hhcnRCeVBhdGllbnRJZChwYXRpZW50X2lkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMjUuZGlldENoYXJ0TGlzdCA9IGRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0Q3VycmVudE1lZGljYXRpb25zQnlQYXRpZW50SWQ6IGZ1bmN0aW9uIGdldEN1cnJlbnRNZWRpY2F0aW9uc0J5UGF0aWVudElkKHBhdGllbnRfaWQpIHsKICAgICAgdmFyIF90aGlzMjYgPSB0aGlzOwoKICAgICAgdGhpcy5jdXJyZW50TWVkaWNhdGlvbnMucGF0aWVudF9pZCA9IHBhdGllbnRfaWQ7CiAgICAgIHRoaXMucGF0aWVudFByb2ZpbGVTZXJ2aWNlLmdldEN1cnJlbnRNZWRpY2F0aW9uc0J5UGF0aWVudElkKHBhdGllbnRfaWQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXMyNi5jdXJyZW50TWVkaWNhdGlvbnNMaXN0ID0gZGF0YS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRQYXN0SGlzdG9yeUJ5UGF0aWVudElkOiBmdW5jdGlvbiBnZXRQYXN0SGlzdG9yeUJ5UGF0aWVudElkKHBhdGllbnRfaWQpIHsKICAgICAgdmFyIF90aGlzMjcgPSB0aGlzOwoKICAgICAgdGhpcy5wYXN0TWVkaWNhbEhpc3RvcnkucGF0aWVudF9pZCA9IHBhdGllbnRfaWQ7CiAgICAgIHRoaXMucGF0aWVudFByb2ZpbGVTZXJ2aWNlLmdldFBhc3RIaXN0b3J5QnlQYXRpZW50SWQocGF0aWVudF9pZCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBfdGhpczI3LnBhc3RNZWRpY2FsSGlzdG9yeUxpc3QgPSBkYXRhLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGZvcm1hdHRlZFN5c3RlbVN1YnN0YW5jZTogZnVuY3Rpb24gZm9ybWF0dGVkU3lzdGVtU3Vic3RhbmNlKGRhdGEpIHsKICAgICAgLy90aGlzLnBhdGllbnRIaXN0b3J5LnBhdGllbnRfaWQgPSBwYXRpZW50X2lkOwogICAgICB0aGlzLnBhdGllbnRIaXN0b3J5LmxzdFBlcnNvbmFsSGlzdG9yeSA9IGRhdGEubHN0UGVyc29uYWxIaXN0b3J5OwogICAgICB0aGlzLnBhdGllbnRIaXN0b3J5LmxzdEZhbWlseUhpc3RvcnkgPSBkYXRhLmxzdEZhbWlseUhpc3Rvcnk7CiAgICAgIHRoaXMucGF0aWVudEhpc3RvcnkubHN0U3lzdGVtc1JldmlldyA9IGRhdGEubHN0U3lzdGVtc1JldmlldzsKICAgICAgdGhpcy5wYXRpZW50SGlzdG9yeS5sc3RTdWJzdGFuY2VVc2UgPSBkYXRhLmxzdFN1YnN0YW5jZVVzZTsKICAgICAgdGhpcy5wYXRpZW50SGlzdG9yeS5sc3RSZXByb2R1Y3RpdmVIaXN0b3J5ID0gZGF0YS5sc3RSZXByb2R1Y3RpdmVIaXN0b3J5OwogICAgfSwKICAgIGhpZGVIaXN0b3J5OiBmdW5jdGlvbiBoaWRlSGlzdG9yeSgpIHsKICAgICAgdGhpcy5pc0hpc3RvcnkgPSBmYWxzZTsKICAgICAgdGhpcy5kYXRhTGlzdCA9IHRydWU7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdwYXRpZW50SWRGb3JUcmVhdG1lbnQnKTsKICAgIH0sCiAgICBmb3JtYXREYXRlOiBmdW5jdGlvbiBmb3JtYXREYXRlKHZhbHVlKSB7CiAgICAgIHJldHVybiBtb21lbnQoU3RyaW5nKHZhbHVlKSkuZm9ybWF0KCJNTS9ERC9ZWVlZIik7CiAgICB9LAogICAgZm9ybWF0RGF0ZVRpbWU6IGZ1bmN0aW9uIGZvcm1hdERhdGVUaW1lKHZhbHVlKSB7CiAgICAgIHJldHVybiBtb21lbnQoU3RyaW5nKHZhbHVlKSkuZm9ybWF0KCJNTS9ERC9ZWVlZIGg6bW06c3MgYSIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/nurse-panel/AdmittedPatientList.js"],"names":["AdmissionService","PatientProfileService","ComplaintSetupService","FoodService","OnExaminationSetupService","DietChartTemplateSetupService","DietChartSetupService","MedicineSetupService","TreatmentRulesSetupService","TreatmentDurationSetupService","TreatmentDoseSetupService","DiagnosisSetupService","CommonService","moment","Validation","FilterMatchMode","FilterOperator","data","dataList","isNurse","isHistory","active","expandedRows","isFemale","admittedPatientList","admittedPatient","cdfromdate","String","Date","format","cdtodate","chiefComplainDialog","chiefComplain","chiefComplainList","compliantList","foodDialog","foodSetup","allergyDetailsDialog","allergyDetails","allergyDetailsList","foodList","allergyTypeList","onExaminationDialog","onExamination","patientOnExaminationList","onExaminationList","iOChartDialog","iOChart","iOChartList","diabetesChartDialog","diabetesChart","aAdmissionServiceDetails","diabetesChartList","diabetesMealList","dietChartDialog","dietChart","dietChartList","dietChartTemplateList","dietChartTempList","currentMedicationsDialog","currentMedications","currentMedicationsList","medicineList","treatmentRulesList","treatmentDurationList","treatmentDoseList","pastMedicalHistoryDialog","pastMedicalHistory","pastMedicalHistoryList","diagnosisList","patientHistory","lstPersonalHistory","lstFamilyHistory","lstSystemsReview","lstSubstanceUse","lstReproductiveHistory","submitted","filters","global","value","matchMode","CONTAINS","name","STARTS_WITH","initFilters","operator","AND","constraints","created","admissionService","patientProfileService","complaintSetupService","foodService","onExaminationSetupService","dietChartTemplateSetupService","dietChartSetupService","medicineSetupService","treatmentRulesSetupService","treatmentDurationSetupService","treatmentDoseSetupService","diagnosisSetupService","commonService","validation","userInfo","JSON","parse","localStorage","getItem","show","nurse_id","methods","fromdate","todate","admittedPatientListForHistoryByNurseId","then","hideDialog","patientId","toString","patient_id","newChiefComplain","addChiefComplain","compilants_id","cdfrom_date","isIdExists","patient_complain_id","from_date","complainSave","result","status","$toast","add","severity","summary","detail","life","getComplainsByPatientId","res","complainUpdate","editChiefComplain","Object","assign","getFood","getActiveCombo","foodFormatted","newFood","addFood","food_name","isNameExists","food_id","newAllergyDetails","addAllergyDetails","type","patient_allergy_details_id","allergyDetailsSave","getAllergyDetailsByPatientId","allergyDetailsUpdate","editAllergyDetails","newOnExamination","getOnExaminationsPopup","addOnExamination","requred","popupOnExaminationsData","forEach","element","on_examination_result","onExaminationSave","getOnExaminationByPatientId","newIOChart","addIOChart","iOChartSave","getIOChartByPatientId","newDiabetesChart","addDiabetesChart","meal","before","after","admission_id","diabetesChartSave","getDiabetesChartByPatientId","newDietChart","getDietChartByTemplateId","diet_chart_template_id","getByDietChartTemplateId","addDietChart","length","dietChartSave","getDietChartByPatientId","newCurrentMedications","addCurrentMedications","medicine_id","treatment_rules_id","treatment_duration_id","treatment_dose_id","patient_current_medications_id","currentMedicationsSave","getCurrentMedicationsByPatientId","confirmDeleteCurrentMedications","$confirm","require","message","header","icon","acceptClass","accept","deleteCurrentMedications","reject","currentMedicationsDelete","newPastMedicalHistory","addPastMedicalHistory","diagnosis_id","patient_past_history_id","pastHistorySave","getPastHistoryByPatientId","confirmDeletePastMedicalHistory","deletePastMedicalHistory","pastHistoryDelete","patientHistorySave","hideHistory","historyCollection","gender","setItem","removeItem","getAll","GetAllAllergyType","GetAllDiabetesMeal","getSystemSubstance","formattedSystemSubstance","push","_on_examination_name","text","on_examination_id","onExaminationPopupDialog","formatDate","formatDateTime"],"mappings":"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","sourcesContent":["import AdmissionService from \"../../service/front-desk/AdmissionService\";\r\nimport PatientProfileService from \"../../service/profiles/PatientProfileService\";\r\n//import WordCabinSetupService from \"../../service/setup/WordCabinSetupService\";\r\n\r\nimport ComplaintSetupService from \"../../service/setup/ComplaintSetupService\";\r\nimport FoodService from \"../../service/setup/FoodService\";\r\nimport OnExaminationSetupService from \"../../service/setup/OnExaminationSetupService\";\r\nimport DietChartTemplateSetupService from \"../../service/setup/DietChartTemplateSetupService\";\r\nimport DietChartSetupService from \"../../service/setup/DietChartSetupService\";\r\n\r\nimport MedicineSetupService from \"../../service/setup/MedicineSetupService\";\r\nimport TreatmentRulesSetupService from \"../../service/setup/TreatmentRulesSetupService\";\r\nimport TreatmentDurationSetupService from \"../../service/setup/TreatmentDurationSetupService\";\r\nimport TreatmentDoseSetupService from \"../../service/setup/TreatmentDoseSetupService\";\r\nimport DiagnosisSetupService from \"../../service/setup/DiagnosisSetupService\";\r\nimport CommonService from \"../../service/CommonService\";\r\n\r\nimport moment from \"moment\";\r\nimport Validation from \"../../scripts/validation\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      dataList: true,\r\n      isNurse: false,\r\n      isHistory: false,\r\n      active: 0,\r\n      expandedRows: [],\r\n      isFemale: false,\r\n      //button: true,\r\n      //wordCabinList: [],\r\n      admittedPatientList: [],\r\n      admittedPatient: {\r\n        cdfromdate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n        cdtodate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n        // cdtodate: moment(\r\n        //     String(new Date(new Date().setDate(new Date().getDate() + 7)))\r\n        // ).format(\"MM/DD/YYYY\"),\r\n      },\r\n      //\r\n      chiefComplainDialog: false,\r\n      chiefComplain: {},\r\n      chiefComplainList: [],\r\n      compliantList: [],\r\n\r\n      foodDialog: false,\r\n      foodSetup: {},\r\n      allergyDetailsDialog: false,\r\n      allergyDetails: {},\r\n      allergyDetailsList: [],\r\n      foodList: [],\r\n      allergyTypeList: [],\r\n\r\n      onExaminationDialog: false,\r\n      onExamination: {},\r\n      patientOnExaminationList: [],\r\n      onExaminationList: [],\r\n\r\n      iOChartDialog: false,\r\n      iOChart: {},\r\n      iOChartList: [],\r\n\r\n      diabetesChartDialog: false,\r\n      diabetesChart: {\r\n        aAdmissionServiceDetails: {}\r\n      },\r\n      diabetesChartList: [],\r\n      diabetesMealList: [],\r\n\r\n      dietChartDialog: false,\r\n      dietChart: {},\r\n      dietChartList: [],\r\n      dietChartTemplateList: [],\r\n      dietChartTempList: [],\r\n\r\n      currentMedicationsDialog: false,\r\n      currentMedications: {},\r\n      currentMedicationsList: [],\r\n      medicineList: [],\r\n      treatmentRulesList: [],\r\n      treatmentDurationList: [],\r\n      treatmentDoseList: [],\r\n\r\n      pastMedicalHistoryDialog: false,\r\n      pastMedicalHistory: {},\r\n      pastMedicalHistoryList: [],\r\n      diagnosisList: [],\r\n\r\n      patientHistory: {\r\n        lstPersonalHistory: [],\r\n        lstFamilyHistory: [],\r\n        lstSystemsReview: [],\r\n        lstSubstanceUse: [],\r\n        lstReproductiveHistory: [],\r\n      },\r\n\r\n      submitted: false,\r\n      filters: {\r\n        global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        name: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      initFilters() {\r\n        this.filters = {\r\n          global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n          name: {\r\n            operator: FilterOperator.AND,\r\n            constraints: [\r\n              { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            ],\r\n          },\r\n        };\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    //this.wordCabinSetupService = new WordCabinSetupService();\r\n    this.admissionService = new AdmissionService();\r\n    this.patientProfileService = new PatientProfileService();\r\n\r\n    this.complaintSetupService = new ComplaintSetupService();\r\n    this.foodService = new FoodService();\r\n    this.onExaminationSetupService = new OnExaminationSetupService();\r\n    this.dietChartTemplateSetupService = new DietChartTemplateSetupService();\r\n    this.dietChartSetupService = new DietChartSetupService();\r\n\r\n    this.medicineSetupService = new MedicineSetupService();\r\n    this.treatmentRulesSetupService = new TreatmentRulesSetupService();\r\n    this.treatmentDurationSetupService = new TreatmentDurationSetupService();\r\n    this.treatmentDoseSetupService = new TreatmentDoseSetupService();\r\n    this.diagnosisSetupService = new DiagnosisSetupService();\r\n    this.commonService = new CommonService();\r\n    this.validation = new Validation();\r\n\r\n    // this.wordCabinSetupService\r\n    //     .getAll()\r\n    //     .then((data) => (this.wordCabinList = data.data));\r\n\r\n    this.userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n    this.show();\r\n    \r\n    if (this.userInfo.nurse_id) {\r\n      this.isNurse = true;\r\n    } else if (!this.userInfo.nurse_id) {\r\n      this.isNurse = false;\r\n    }\r\n  },\r\n  methods: {\r\n    show() {\r\n      this.submitted = true;\r\n      if (!this.admittedPatient.cdfromdate) {\r\n        return;\r\n      } else if (!this.admittedPatient.cdtodate) {\r\n        return;\r\n      } else {\r\n        this.admittedPatient.fromdate = moment(\r\n          String(this.admittedPatient.cdfromdate)\r\n        ).format(\"YYYY-MM-DD\");\r\n        this.admittedPatient.todate = moment(\r\n          String(this.admittedPatient.cdtodate)\r\n        ).format(\"YYYY-MM-DD\");\r\n        this.userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n        this.admissionService\r\n          .admittedPatientListForHistoryByNurseId(this.admittedPatient.fromdate, this.admittedPatient.todate, this.userInfo.nurse_id)\r\n          .then((data) => (this.admittedPatientList = data.data));\r\n      }\r\n      this.dataList = true;\r\n      this.submitted = true;\r\n    },\r\n    hideDialog() {\r\n      var patientId = JSON.parse(localStorage.getItem(\"patientIdForTreatment\")).toString();\r\n\r\n      this.chiefComplainDialog = false;\r\n      this.chiefComplain = {\r\n        patient_id: patientId\r\n      };\r\n\r\n      this.foodDialog = false;\r\n      this.foodSetup = {};\r\n      this.allergyDetailsDialog = false;\r\n      this.allergyDetails = {\r\n        patient_id: patientId\r\n      };\r\n\r\n      this.onExaminationDialog = false;\r\n      // this.onExamination = {\r\n      //   patient_id: patientId\r\n      // };\r\n\r\n      this.iOChartDialog = false;\r\n      this.iOChart = {\r\n        patient_id: patientId\r\n      };\r\n\r\n      this.diabetesChartDialog = false;\r\n      this.diabetesChart = {\r\n        aAdmissionServiceDetails: {},\r\n        patient_id: patientId\r\n      };\r\n\r\n      this.dietChartDialog = false;\r\n      this.dietChart = {\r\n        patient_id: patientId\r\n      };\r\n\r\n      this.currentMedicationsDialog = false;\r\n      this.currentMedications = {\r\n        patient_id: patientId\r\n      };\r\n\r\n      this.pastMedicalHistoryDialog = false;\r\n      this.pastMedicalHistory = {\r\n        patient_id: patientId\r\n      };\r\n\r\n      this.submitted = false;\r\n    },\r\n\r\n    newChiefComplain() {\r\n      this.chiefComplainDialog = true;\r\n    },\r\n    async addChiefComplain() {\r\n      this.submitted = true;\r\n      if (!this.chiefComplain.compilants_id) {\r\n        return;\r\n      } else if (!this.chiefComplain.patient_id) {\r\n        return;\r\n      } else if (!this.chiefComplain.cdfrom_date) {\r\n        return;\r\n      } else if (this.validation.isIdExists(this.chiefComplainList, 'compilants_id', this.chiefComplain.compilants_id, 'patient_complain_id', this.chiefComplain.patient_complain_id, this)) {\r\n        return;\r\n      } else {\r\n        this.chiefComplain.from_date = moment(\r\n          String(this.chiefComplain.cdfrom_date)\r\n        ).format(\"YYYY-MM-DD\");\r\n        if (!this.chiefComplain.patient_complain_id) {\r\n          let result = await this.patientProfileService.complainSave(this.chiefComplain);\r\n          if (result.status === 201) {\r\n            this.$toast.add({\r\n              severity: \"success\",\r\n              summary: \"Success\",\r\n              detail: \"Saved Successfully\",\r\n              life: 10000,\r\n            });\r\n            this.getComplainsByPatientId(this.chiefComplain.patient_id);\r\n            this.hideDialog();\r\n          } else if (result.status === 401) {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Error\",\r\n              detail: result.data,\r\n              life: 10000,\r\n            });\r\n          } else {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Failed\",\r\n              detail: result.res,\r\n              life: 10000,\r\n            });\r\n          }\r\n        } else {\r\n          let result = await this.patientProfileService.complainUpdate(this.chiefComplain);\r\n          if (result.status === 202) {\r\n            this.getComplainsByPatientId(this.chiefComplain.patient_id);\r\n            this.hideDialog();\r\n            this.$toast.add({\r\n              severity: \"success\",\r\n              summary: \"Success\",\r\n              detail: \"Updated Successfully\",\r\n              life: 10000,\r\n            });\r\n          } else if (result.status === 401) {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Error\",\r\n              detail: result.data,\r\n              life: 10000,\r\n            });\r\n          } else {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Failed\",\r\n              detail: result.res,\r\n              life: 10000,\r\n            });\r\n          }\r\n        }\r\n      }\r\n    },\r\n    editChiefComplain(data) {\r\n      this.chiefComplain = Object.assign({}, data);\r\n      this.chiefComplain.cdfrom_date = moment(\r\n        String(this.chiefComplain.from_date)\r\n      ).format(\"MM/DD/YYYY\");\r\n      this.chiefComplainDialog = true;\r\n    },\r\n\r\n    getFood() {\r\n      this.foodService\r\n        .getActiveCombo()\r\n        .then((data) => this.foodFormatted(data.data));\r\n    },\r\n    foodFormatted(data) {\r\n      this.submitted = false;\r\n      this.foodSetup = {};\r\n      this.foodList = data;\r\n      this.foodDialog = false;\r\n      this.allergyDetailsDialog = true;\r\n    },\r\n    newFood() {\r\n      this.allergyDetailsDialog = false;\r\n      this.foodDialog = true;\r\n    },\r\n    async addFood() {\r\n      this.submitted = true;\r\n      if (!this.foodSetup.food_name) {\r\n        return;\r\n      } else if (this.validation.isNameExists(this.foodList, 'text', this.foodSetup.food_name, 'value', this.foodSetup.food_id, this)) {\r\n        return;\r\n      } else {\r\n        this.foodSetup.active = true;\r\n        let result = await this.foodService.add(this.foodSetup);\r\n        if (result.status === 201) {\r\n          this.getFood();\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Success\",\r\n            detail: \"Saved Successfully\",\r\n            life: 10000,\r\n          });\r\n        } else {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Failed\",\r\n            detail: result.res,\r\n            life: 10000,\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n    newAllergyDetails() {\r\n      this.allergyDetailsDialog = true;\r\n    },\r\n    async addAllergyDetails() {\r\n      this.submitted = true;\r\n      if (!this.allergyDetails.food_id) {\r\n        return;\r\n      } else if (!this.allergyDetails.patient_id) {\r\n        return;\r\n      } else if (!this.allergyDetails.type) {\r\n        return;\r\n      } else if (!this.allergyDetails.cdfrom_date) {\r\n        return;\r\n      } else if (this.validation.isIdExists(this.allergyDetailsList, 'food_id', this.allergyDetails.food_id, 'patient_allergy_details_id', this.allergyDetails.patient_allergy_details_id, this)) {\r\n        return;\r\n      } else {\r\n        this.allergyDetails.from_date = moment(\r\n          String(this.allergyDetails.cdfrom_date)\r\n        ).format(\"YYYY-MM-DD\");\r\n        if (!this.allergyDetails.patient_allergy_details_id) {\r\n          let result = await this.patientProfileService.allergyDetailsSave(this.allergyDetails);\r\n          if (result.status === 201) {\r\n            this.$toast.add({\r\n              severity: \"success\",\r\n              summary: \"Success\",\r\n              detail: \"Saved Successfully\",\r\n              life: 10000,\r\n            });\r\n            this.getAllergyDetailsByPatientId(this.allergyDetails.patient_id);\r\n            this.hideDialog();\r\n          } else if (result.status === 401) {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Error\",\r\n              detail: result.data,\r\n              life: 10000,\r\n            });\r\n          } else {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Failed\",\r\n              detail: result.res,\r\n              life: 10000,\r\n            });\r\n          }\r\n        } else {\r\n          let result = await this.patientProfileService.allergyDetailsUpdate(this.allergyDetails);\r\n          if (result.status === 202) {\r\n            this.getAllergyDetailsByPatientId(this.allergyDetails.patient_id);\r\n            this.hideDialog();\r\n            this.$toast.add({\r\n              severity: \"success\",\r\n              summary: \"Success\",\r\n              detail: \"Updated Successfully\",\r\n              life: 10000,\r\n            });\r\n          } else if (result.status === 401) {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Error\",\r\n              detail: result.data,\r\n              life: 10000,\r\n            });\r\n          } else {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Failed\",\r\n              detail: result.res,\r\n              life: 10000,\r\n            });\r\n          }\r\n        }\r\n      }\r\n    },\r\n    editAllergyDetails(data) {\r\n      this.allergyDetails = Object.assign({}, data);\r\n      this.allergyDetails.cdfrom_date = moment(\r\n        String(this.allergyDetails.from_date)\r\n      ).format(\"MM/DD/YYYY\");\r\n      this.allergyDetailsDialog = true;\r\n    },\r\n\r\n    newOnExamination() {\r\n      this.getOnExaminationsPopup();\r\n      this.onExaminationDialog = true;\r\n    },\r\n    async addOnExamination() {\r\n      this.submitted = true;\r\n      this.requred = \"\";\r\n      this.popupOnExaminationsData.forEach((element) => {\r\n        if (!element.on_examination_result) {\r\n          this.requred = \"required\";\r\n        }\r\n      });\r\n\r\n      if (this.requred) {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Required\",\r\n          detail: \"Please fill in the required fields\",\r\n          life: 10000,\r\n        });\r\n        return;\r\n      }\r\n      if (this.requred) {\r\n        return;\r\n      } else {\r\n        let result = await this.patientProfileService.onExaminationSave(this.popupOnExaminationsData);\r\n        if (result.status === 201) {\r\n          var patientId = JSON.parse(localStorage.getItem(\"patientIdForTreatment\"));\r\n          this.getOnExaminationByPatientId(patientId);\r\n          this.hideDialog();\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Success\",\r\n            detail: \"Saved Successfully\",\r\n            life: 10000,\r\n          });\r\n        } else {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Failed\",\r\n            detail: result.res,\r\n            life: 10000,\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n    newIOChart() {\r\n      this.iOChartDialog = true;\r\n    },\r\n    async addIOChart() {\r\n      this.submitted = true;\r\n      if (!this.iOChart.patient_id) {\r\n        return;\r\n      } else {\r\n        let result = await this.patientProfileService.iOChartSave(this.iOChart);\r\n        if (result.status === 201) {\r\n          var patientId = JSON.parse(localStorage.getItem(\"patientIdForTreatment\"));\r\n          this.getIOChartByPatientId(patientId);\r\n          this.hideDialog();\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Success\",\r\n            detail: \"Saved Successfully\",\r\n            life: 10000,\r\n          });\r\n        } else {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Failed\",\r\n            detail: result.res,\r\n            life: 10000,\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n    newDiabetesChart() {\r\n      this.diabetesChartDialog = true;\r\n    },\r\n    async addDiabetesChart() {\r\n      this.submitted = true;\r\n      if (!this.diabetesChart.meal) {\r\n        return;\r\n      } else if (!this.diabetesChart.before) {\r\n        return;\r\n      } else if (!this.diabetesChart.after) {\r\n        return;\r\n      } else {\r\n        var admission_id = JSON.parse(localStorage.getItem(\"admissionIdForDiabetesService\"));\r\n        this.diabetesChart.aAdmissionServiceDetails.admission_id = String(admission_id);\r\n        let result = await this.patientProfileService.diabetesChartSave(this.diabetesChart);\r\n        if (result.status === 201) {\r\n          var patientId = JSON.parse(localStorage.getItem(\"patientIdForTreatment\"));\r\n          this.getDiabetesChartByPatientId(patientId);\r\n          this.hideDialog();\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Success\",\r\n            detail: \"Saved Successfully\",\r\n            life: 10000,\r\n          });\r\n        } else {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Failed\",\r\n            detail: result.res,\r\n            life: 10000,\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n    newDietChart() {\r\n      this.dietChartDialog = true;\r\n    },\r\n    getDietChartByTemplateId() {\r\n      if (!this.dietChart.diet_chart_template_id) {\r\n        return\r\n      } else {\r\n        this.dietChartSetupService\r\n          .getByDietChartTemplateId(this.dietChart.diet_chart_template_id)\r\n          .then((data) => (this.dietChartTempList = data.data));\r\n      }\r\n    },\r\n    async addDietChart() {\r\n      this.submitted = true;\r\n      if (this.dietChartTempList.length <= 0) {\r\n        return;\r\n      } else {\r\n        var patientId = JSON.parse(localStorage.getItem(\"patientIdForTreatment\"));\r\n        this.dietChartTempList.forEach(element => {\r\n          element.patient_id = patientId.toString()\r\n        });\r\n\r\n        let result = await this.patientProfileService.dietChartSave(this.dietChartTempList);\r\n        if (result.status === 201) {\r\n          //var patientId = JSON.parse(localStorage.getItem(\"patientIdForTreatment\"));\r\n          this.getDietChartByPatientId(patientId);\r\n          this.hideDialog();\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Success\",\r\n            detail: \"Saved Successfully\",\r\n            life: 10000,\r\n          });\r\n        } else {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Failed\",\r\n            detail: result.res,\r\n            life: 10000,\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n    newCurrentMedications() {\r\n      this.currentMedicationsDialog = true;\r\n    },\r\n    async addCurrentMedications() {\r\n      this.submitted = true;\r\n      if (!this.currentMedications.medicine_id) {\r\n        return;\r\n      } else if (!this.currentMedications.treatment_rules_id) {\r\n        return;\r\n      } else if (!this.currentMedications.treatment_duration_id) {\r\n        return;\r\n      } else if (!this.currentMedications.treatment_dose_id) {\r\n        return;\r\n      } else if (!this.currentMedications.patient_id) {\r\n        return;\r\n      } else if (this.validation.isIdExists(this.currentMedicationsList, 'medicine_id', this.currentMedications.medicine_id, 'patient_current_medications_id', this.currentMedications.patient_current_medications_id, this)) {\r\n        return;\r\n      } else {\r\n        let result = await this.patientProfileService.currentMedicationsSave(this.currentMedications);\r\n        if (result.status === 201) {\r\n          this.getCurrentMedicationsByPatientId(this.currentMedications.patient_id);\r\n          this.hideDialog();\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Success\",\r\n            detail: \"Saved Successfully\",\r\n            life: 10000,\r\n          });\r\n        } else {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Failed\",\r\n            detail: result.res,\r\n            life: 10000,\r\n          });\r\n        }\r\n      }\r\n    },\r\n    confirmDeleteCurrentMedications(data) {\r\n      this.$confirm.require({\r\n        message: 'Do you want to delete this record?',\r\n        header: 'Delete Confirmation',\r\n        icon: 'pi pi-info-circle',\r\n        acceptClass: 'p-button-danger',\r\n        accept: () => {\r\n          this.deleteCurrentMedications(data);\r\n        },\r\n        reject: () => {\r\n          return;\r\n        }\r\n      });\r\n    },\r\n    async deleteCurrentMedications(data) {\r\n      let result = await this.patientProfileService.currentMedicationsDelete(data);\r\n      if (result.status === 202) {\r\n        this.getCurrentMedicationsByPatientId(data.patient_id)\r\n      } else {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Failed\",\r\n          detail: result.res,\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n\r\n    newPastMedicalHistory() {\r\n      this.pastMedicalHistoryDialog = true;\r\n    },\r\n    async addPastMedicalHistory() {\r\n      this.submitted = true;\r\n      if (!this.pastMedicalHistory.diagnosis_id) {\r\n        return;\r\n      } else if (!this.pastMedicalHistory.patient_id) {\r\n        return;\r\n      } else if (this.validation.isIdExists(this.pastMedicalHistoryList, 'diagnosis_id', this.pastMedicalHistory.diagnosis_id, 'patient_past_history_id', this.pastMedicalHistory.patient_past_history_id, this)) {\r\n        return;\r\n      } else {\r\n        let result = await this.patientProfileService.pastHistorySave(this.pastMedicalHistory);\r\n        if (result.status === 201) {\r\n          this.getPastHistoryByPatientId(this.pastMedicalHistory.patient_id);\r\n          this.hideDialog();\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Success\",\r\n            detail: \"Saved Successfully\",\r\n            life: 10000,\r\n          });\r\n        } else {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Failed\",\r\n            detail: result.res,\r\n            life: 10000,\r\n          });\r\n        }\r\n      }\r\n    },\r\n    confirmDeletePastMedicalHistory(data) {\r\n      this.$confirm.require({\r\n        message: 'Do you want to delete this record?',\r\n        header: 'Delete Confirmation',\r\n        icon: 'pi pi-info-circle',\r\n        acceptClass: 'p-button-danger',\r\n        accept: () => {\r\n          this.deletePastMedicalHistory(data);\r\n        },\r\n        reject: () => {\r\n          return;\r\n        }\r\n      });\r\n    },\r\n    async deletePastMedicalHistory(data) {\r\n      let result = await this.patientProfileService.pastHistoryDelete(data);\r\n      if (result.status === 202) {\r\n        this.getPastHistoryByPatientId(data.patient_id)\r\n      } else {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Failed\",\r\n          detail: result.res,\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n\r\n    async patientHistorySave() {\r\n      this.patientHistory.patient_id = JSON.parse(localStorage.getItem(\"patientIdForTreatment\")).toString();\r\n      //this.submitted = true;\r\n      if (!this.patientHistory.patient_id) {\r\n        return;\r\n      } else {\r\n        let result = await this.patientProfileService.patientHistorySave(this.patientHistory, this);\r\n        if (result.status === 201) {\r\n          this.hideHistory();\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Success\",\r\n            detail: \"Saved Successfully\",\r\n            life: 10000,\r\n          });\r\n        } else {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Failed\",\r\n            detail: result.res,\r\n            life: 10000,\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n    // collect history\r\n    historyCollection(data) {\r\n      if (data.gender == \"Female\") {\r\n        this.isFemale = true;\r\n      } else {\r\n        this.isFemale = false;\r\n      }\r\n\r\n      localStorage.setItem('admissionIdForDiabetesService', data.admission_id);\r\n\r\n      var patientId = JSON.parse(localStorage.getItem(\"patientIdForTreatment\"));\r\n      if (patientId) {\r\n        localStorage.removeItem('patientIdForTreatment');\r\n        localStorage.setItem('patientIdForTreatment', data.patient_id);\r\n      } else {\r\n        localStorage.setItem('patientIdForTreatment', data.patient_id);\r\n      }\r\n\r\n      // use for Dialog //\r\n      this.complaintSetupService\r\n        .getActiveCombo()\r\n        .then((data) => (this.compliantList = data.data));\r\n\r\n      this.foodService\r\n        .getActiveCombo()\r\n        .then((data) => (this.foodList = data.data));\r\n\r\n      this.onExaminationSetupService\r\n        .getActiveCombo()\r\n        .then((data) => (this.onExaminationList = data.data));\r\n\r\n      this.medicineSetupService\r\n        .getActiveCombo()\r\n        .then((data) => (this.medicineList = data.data));\r\n\r\n      this.treatmentRulesSetupService\r\n        .getActiveCombo()\r\n        .then((data) => (this.treatmentRulesList = data.data));\r\n\r\n      this.treatmentDurationSetupService\r\n        .getActiveCombo()\r\n        .then((data) => (this.treatmentDurationList = data.data));\r\n\r\n      this.treatmentDoseSetupService\r\n        .getActiveCombo()\r\n        .then((data) => (this.treatmentDoseList = data.data));\r\n\r\n      this.diagnosisSetupService\r\n        .getAll()\r\n        .then((data) => (this.diagnosisList = data.data));\r\n\r\n      this.commonService\r\n        .GetAllAllergyType()\r\n        .then((data) => (this.allergyTypeList = data.data));\r\n\r\n      this.commonService\r\n        .GetAllDiabetesMeal()\r\n        .then((data) => (this.diabetesMealList = data.data));\r\n\r\n      this.dietChartTemplateSetupService\r\n        .getActiveCombo()\r\n        .then((data) => (this.dietChartTemplateList = data.data));\r\n      // use for Dialog //\r\n\r\n      // collect history patient wise //\r\n      this.getComplainsByPatientId(data.patient_id);\r\n\r\n      this.getAllergyDetailsByPatientId(data.patient_id);\r\n\r\n      this.getOnExaminationByPatientId(data.patient_id);\r\n\r\n      this.getIOChartByPatientId(data.patient_id);\r\n\r\n      this.getDiabetesChartByPatientId(data.patient_id);\r\n\r\n      this.getDietChartByPatientId(data.patient_id);\r\n\r\n      this.getCurrentMedicationsByPatientId(data.patient_id);\r\n\r\n      this.getPastHistoryByPatientId(data.patient_id);\r\n\r\n      this.patientProfileService.getSystemSubstance(data.patient_id).then((data) => this.formattedSystemSubstance(data.data));\r\n\r\n      this.isHistory = true;\r\n      this.dataList = false;\r\n      // collect history patient wise //\r\n    },\r\n\r\n    getComplainsByPatientId(patient_id) {\r\n      this.chiefComplain.patient_id = patient_id;\r\n      this.patientProfileService.getComplainsByPatientId(patient_id).then((data) => (this.chiefComplainList = data.data));\r\n    },\r\n\r\n    getAllergyDetailsByPatientId(patient_id) {\r\n      this.allergyDetails.patient_id = patient_id;\r\n      this.patientProfileService.getAllergyDetailsByPatientId(patient_id).then((data) => (this.allergyDetailsList = data.data));\r\n    },\r\n\r\n    getOnExaminationsPopup() {\r\n      var patientId = JSON.parse(localStorage.getItem(\"patientIdForTreatment\"));\r\n\r\n      this.popupOnExaminationsData = [];\r\n      this.onExaminationList.forEach((element) => {\r\n        this.popupOnExaminationsData.push({\r\n          _on_examination_name: element.text,\r\n          on_examination_id: element.value,\r\n          on_examination_result: String(1),\r\n          patient_id: patientId.toString()\r\n        });\r\n      });\r\n\r\n      this.onExaminationPopupDialog = true;\r\n    },\r\n\r\n    getOnExaminationByPatientId(patient_id) {\r\n      this.onExamination.patient_id = patient_id;\r\n      this.patientProfileService.getOnExaminationByPatientId(patient_id).then((data) => (this.patientOnExaminationList = data.data));\r\n    },\r\n\r\n    getIOChartByPatientId(patient_id) {\r\n      this.iOChart.patient_id = patient_id;\r\n      this.patientProfileService.getIOChartByPatientId(patient_id).then((data) => (this.iOChartList = data.data));\r\n    },\r\n\r\n    getDiabetesChartByPatientId(patient_id) {\r\n      this.diabetesChart.patient_id = patient_id;\r\n      this.patientProfileService.getDiabetesChartByPatientId(patient_id).then((data) => (this.diabetesChartList = data.data));\r\n    },\r\n\r\n    getDietChartByPatientId(patient_id) {\r\n      this.dietChart.patient_id = patient_id;\r\n      this.patientProfileService.getDietChartByPatientId(patient_id).then((data) => (this.dietChartList = data.data));\r\n    },\r\n\r\n    getCurrentMedicationsByPatientId(patient_id) {\r\n      this.currentMedications.patient_id = patient_id;\r\n      this.patientProfileService.getCurrentMedicationsByPatientId(patient_id).then((data) => (this.currentMedicationsList = data.data));\r\n    },\r\n\r\n    getPastHistoryByPatientId(patient_id) {\r\n      this.pastMedicalHistory.patient_id = patient_id;\r\n      this.patientProfileService.getPastHistoryByPatientId(patient_id).then((data) => (this.pastMedicalHistoryList = data.data));\r\n    },\r\n\r\n    formattedSystemSubstance(data) {\r\n      //this.patientHistory.patient_id = patient_id;\r\n      this.patientHistory.lstPersonalHistory = data.lstPersonalHistory;\r\n      this.patientHistory.lstFamilyHistory = data.lstFamilyHistory;\r\n      this.patientHistory.lstSystemsReview = data.lstSystemsReview;\r\n      this.patientHistory.lstSubstanceUse = data.lstSubstanceUse;\r\n      this.patientHistory.lstReproductiveHistory = data.lstReproductiveHistory;\r\n    },\r\n\r\n    hideHistory() {\r\n      this.isHistory = false;\r\n      this.dataList = true;\r\n      localStorage.removeItem('patientIdForTreatment');\r\n    },\r\n\r\n    formatDate(value) {\r\n      return moment(String(value)).format(\"MM/DD/YYYY\");\r\n    },\r\n    formatDateTime(value) {\r\n      return moment(String(value)).format(\"MM/DD/YYYY h:mm:ss a\");\r\n    },\r\n  },\r\n};"]}]}