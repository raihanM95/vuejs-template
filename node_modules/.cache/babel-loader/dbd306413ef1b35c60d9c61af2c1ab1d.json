{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\blood-bank\\BloodBankDashboard.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\blood-bank\\BloodBankDashboard.js","mtime":1676367112730},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\babel.config.js","mtime":1624271518206},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBEYXNoYm9hcmRTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvY29tcG9uZW50cy9EYXNoYm9hcmRTZXJ2aWNlIjsKaW1wb3J0IEJsb29kUmVjZWl2ZVNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9ibG9vZC1iYW5rL0Jsb29kUmVjZWl2ZVNlcnZpY2UiOwppbXBvcnQgQmxvb2RJc3N1ZVNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9ibG9vZC1iYW5rL0Jsb29kSXNzdWVTZXJ2aWNlIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgeyByZWYgfSBmcm9tICd2dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZURvbm9yczogMCwKICAgICAgc3RvY2tCYWc6IDAsCiAgICAgIHRvdGFsSXNzdWVkOiAwLAogICAgICBibG9vZFJlY2VpdmVkTGlzdDogW10sCiAgICAgIGJsb29kSXNzdWVkTGlzdDogW10sCiAgICAgIGJsb29kR3JvdXBXaXNlU3RvY2tMaXN0OiBbXSwKICAgICAgLy8gY2hhcnQKICAgICAgLy8gY2hhcnREYXRhOiB7fSwKICAgICAgLy8gbGlnaHRPcHRpb25zOiB7fSwKICAgICAgbWFsZUNvdW50OiAwLAogICAgICBmZW1hbGVDb3VudDogMCwKICAgICAgdGhpcmRDb3VudDogMCwKICAgICAgZ2VuZGVyRGF0YToge30sCiAgICAgIGdlbmRlck9wdGlvbnM6IHt9IC8vc3VibWl0dGVkOiBmYWxzZSwKCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5kYXNoYm9hcmRTZXJ2aWNlID0gbmV3IERhc2hib2FyZFNlcnZpY2UoKTsKICAgIHRoaXMuYmxvb2RSZWNlaXZlU2VydmljZSA9IG5ldyBCbG9vZFJlY2VpdmVTZXJ2aWNlKCk7CiAgICB0aGlzLmJsb29kSXNzdWVTZXJ2aWNlID0gbmV3IEJsb29kSXNzdWVTZXJ2aWNlKCk7CiAgICB2YXIgZGF0ZSA9IG1vbWVudChTdHJpbmcobmV3IERhdGUoKSkpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgdGhpcy5ibG9vZFJlY2VpdmVTZXJ2aWNlLmdldER5bmFtaWMoZGF0ZSwgZGF0ZSwgIlVuZXhwaXJlZCIpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIF90aGlzLmJsb29kUmVjZWl2ZWRMaXN0ID0gZGF0YS5kYXRhOwogICAgfSk7CiAgICB0aGlzLmJsb29kSXNzdWVTZXJ2aWNlLmdldER5bmFtaWMoZGF0ZSwgZGF0ZSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gX3RoaXMuYmxvb2RJc3N1ZWRMaXN0ID0gZGF0YS5kYXRhOwogICAgfSk7IC8vdmFyIHVwZnJvbWRhdGUgPSBtb21lbnQoU3RyaW5nKG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSArIDEpKSkpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgLy92YXIgdXB0b2RhdGUgPSBtb21lbnQoU3RyaW5nKG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSArIDYwKSkpKS5mb3JtYXQoIllZWVktTU0tREQiKTsKCiAgICB0aGlzLmRhc2hib2FyZFNlcnZpY2UuYmxvb2RCYW5rR2V0QWxsQWRtaW4oKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5nZXRGb3JtYXR0ZWRCbG9vZEJhbmtEYXNoYm9hcmQoZGF0YS5kYXRhKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Rm9ybWF0dGVkQmxvb2RCYW5rRGFzaGJvYXJkOiBmdW5jdGlvbiBnZXRGb3JtYXR0ZWRCbG9vZEJhbmtEYXNoYm9hcmQoZGF0YSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBibG9vZEJhbmtEYXNoYm9hcmRJbmZvID0gSlNPTi5wYXJzZShkYXRhLmJsb29kQmFua0Rhc2hib2FyZEluZm8pOwogICAgICB0aGlzLmJsb29kR3JvdXBXaXNlU3RvY2tMaXN0ID0gSlNPTi5wYXJzZShkYXRhLmJsb29kR3JvdXBXaXNlU3RvY2tMaXN0KTsKICAgICAgdmFyIGdlbmRlcldpc2VEb25vciA9IEpTT04ucGFyc2UoZGF0YS5nZW5kZXJXaXNlRG9ub3IpOwogICAgICB0aGlzLmFjdGl2ZURvbm9ycyA9IGJsb29kQmFua0Rhc2hib2FyZEluZm9bMF0uYWN0aXZlX2Rvbm9yczsKICAgICAgdGhpcy5zdG9ja0JhZyA9IGJsb29kQmFua0Rhc2hib2FyZEluZm9bMF0uc3RvY2tfYmFnOwogICAgICB0aGlzLnRvdGFsSXNzdWVkID0gYmxvb2RCYW5rRGFzaGJvYXJkSW5mb1swXS50b3RhbF9pc3N1ZWQ7CiAgICAgIGdlbmRlcldpc2VEb25vci5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgaWYgKGVsZW1lbnQuZ2VuZGVyID09ICJNYWxlIikgewogICAgICAgICAgX3RoaXMyLm1hbGVDb3VudCA9IGVsZW1lbnQuZ2VuZGVyX3RvdGFsOwogICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5nZW5kZXIgPT0gIkZlbWFsZSIpIHsKICAgICAgICAgIF90aGlzMi5mZW1hbGVDb3VudCA9IGVsZW1lbnQuZ2VuZGVyX3RvdGFsOwogICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5nZW5kZXIgPT0gIlRoaXJkIikgewogICAgICAgICAgX3RoaXMyLnRoaXJkQ291bnQgPSBlbGVtZW50LmdlbmRlcl90b3RhbDsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmdlbmRlcldpc2VEb25vcigpOwogICAgfSwKICAgIC8vCiAgICBmb3JtYXREYXRlVGltZTogZnVuY3Rpb24gZm9ybWF0RGF0ZVRpbWUodmFsdWUpIHsKICAgICAgcmV0dXJuIG1vbWVudChTdHJpbmcodmFsdWUpKS5mb3JtYXQoIk1NL0REL1lZWVkgaDptbTpzcyBhIik7CiAgICB9LAogICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24gZm9ybWF0RGF0ZSh2YWx1ZSkgewogICAgICByZXR1cm4gbW9tZW50KFN0cmluZyh2YWx1ZSkpLmZvcm1hdCgiTU0vREQvWVlZWSIpOwogICAgfSwKICAgIGdlbmRlcldpc2VEb25vcjogZnVuY3Rpb24gZ2VuZGVyV2lzZURvbm9yKCkgewogICAgICAvLyBjaGFydAogICAgICB0aGlzLmdlbmRlckRhdGEgPSByZWYoewogICAgICAgIGxhYmVsczogWydNYWxlJywgJ0ZlbWFsZScsICdUaGlyZCddLAogICAgICAgIGRhdGFzZXRzOiBbewogICAgICAgICAgZGF0YTogW3RoaXMubWFsZUNvdW50LCB0aGlzLmZlbWFsZUNvdW50LCB0aGlzLnRoaXJkQ291bnRdLAogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBbIiMzNkEyRUIiLCAiI0ZGNjM4NCIsICIjRkZDRTU2Il0sCiAgICAgICAgICBob3ZlckJhY2tncm91bmRDb2xvcjogWyIjMzZBMkVCIiwgIiNGRjYzODQiLCAiI0ZGQ0U1NiJdCiAgICAgICAgfV0KICAgICAgfSk7CiAgICAgIHRoaXMuZ2VuZGVyT3B0aW9ucyA9IHJlZih7CiAgICAgICAgcGx1Z2luczogewogICAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICAgIGxhYmVsczogewogICAgICAgICAgICAgIGNvbG9yOiAnIzQ5NTA1NycKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/blood-bank/BloodBankDashboard.js"],"names":["DashboardService","BloodReceiveService","BloodIssueService","moment","ref","data","activeDonors","stockBag","totalIssued","bloodReceivedList","bloodIssuedList","bloodGroupWiseStockList","maleCount","femaleCount","thirdCount","genderData","genderOptions","created","dashboardService","bloodReceiveService","bloodIssueService","date","String","Date","format","getDynamic","then","bloodBankGetAllAdmin","getFormattedBloodBankDashboard","methods","bloodBankDashboardInfo","JSON","parse","genderWiseDonor","active_donors","stock_bag","total_issued","forEach","element","gender","gender_total","formatDateTime","value","formatDate","labels","datasets","backgroundColor","hoverBackgroundColor","plugins","legend","color"],"mappings":"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","sourcesContent":["import DashboardService from \"../../service/components/DashboardService\";\r\nimport BloodReceiveService from \"../../service/blood-bank/BloodReceiveService\";\r\nimport BloodIssueService from \"../../service/blood-bank/BloodIssueService\";\r\nimport moment from \"moment\";\r\nimport { ref } from 'vue';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            activeDonors: 0,\r\n            stockBag: 0,\r\n            totalIssued: 0,\r\n            bloodReceivedList: [],\r\n            bloodIssuedList: [],\r\n            bloodGroupWiseStockList: [],\r\n\r\n            // chart\r\n            // chartData: {},\r\n            // lightOptions: {},\r\n            maleCount: 0,\r\n            femaleCount: 0,\r\n            thirdCount: 0,\r\n            genderData: {},\r\n            genderOptions: {},\r\n            //submitted: false,\r\n        };\r\n    },\r\n    created() {\r\n        this.dashboardService = new DashboardService();\r\n        this.bloodReceiveService = new BloodReceiveService();\r\n        this.bloodIssueService = new BloodIssueService();\r\n\r\n        var date = moment(String(new Date())).format(\"YYYY-MM-DD\");\r\n\r\n\r\n        this.bloodReceiveService\r\n            .getDynamic(\r\n                date,\r\n                date,\r\n                \"Unexpired\",\r\n            )\r\n            .then((data) => (this.bloodReceivedList = data.data));\r\n\r\n        this.bloodIssueService\r\n            .getDynamic(\r\n                date,\r\n                date,\r\n            )\r\n            .then((data) => (this.bloodIssuedList = data.data));\r\n\r\n        //var upfromdate = moment(String(new Date(new Date().setDate(new Date().getDate() + 1)))).format(\"YYYY-MM-DD\");\r\n        //var uptodate = moment(String(new Date(new Date().setDate(new Date().getDate() + 60)))).format(\"YYYY-MM-DD\");\r\n\r\n        this.dashboardService\r\n            .bloodBankGetAllAdmin()\r\n            .then((data) => this.getFormattedBloodBankDashboard(data.data));\r\n    },\r\n    methods: {\r\n        getFormattedBloodBankDashboard(data) {\r\n            var bloodBankDashboardInfo = JSON.parse(data.bloodBankDashboardInfo);\r\n            this.bloodGroupWiseStockList = JSON.parse(data.bloodGroupWiseStockList);\r\n            var genderWiseDonor = JSON.parse(data.genderWiseDonor);\r\n\r\n            this.activeDonors = bloodBankDashboardInfo[0].active_donors;\r\n            this.stockBag = bloodBankDashboardInfo[0].stock_bag;\r\n            this.totalIssued = bloodBankDashboardInfo[0].total_issued;\r\n\r\n            genderWiseDonor.forEach((element) => {\r\n                if (element.gender == \"Male\") {\r\n                    this.maleCount = element.gender_total;\r\n                } else if (element.gender == \"Female\") {\r\n                    this.femaleCount = element.gender_total;\r\n                } else if (element.gender == \"Third\") {\r\n                    this.thirdCount = element.gender_total;\r\n                }\r\n            });\r\n            this.genderWiseDonor();\r\n        },\r\n\r\n        //\r\n        formatDateTime(value) {\r\n            return moment(String(value)).format(\"MM/DD/YYYY h:mm:ss a\");\r\n        },\r\n        formatDate(value) {\r\n            return moment(String(value)).format(\"MM/DD/YYYY\");\r\n        },\r\n\r\n        genderWiseDonor() {\r\n            // chart\r\n            this.genderData = ref({\r\n                labels: ['Male', 'Female', 'Third'],\r\n                datasets: [\r\n                    {\r\n                        data: [this.maleCount, this.femaleCount, this.thirdCount],\r\n                        backgroundColor: [\"#36A2EB\", \"#FF6384\", \"#FFCE56\"],\r\n                        hoverBackgroundColor: [\"#36A2EB\", \"#FF6384\", \"#FFCE56\"]\r\n                    }\r\n                ]\r\n            });\r\n\r\n            this.genderOptions = ref({\r\n                plugins: {\r\n                    legend: {\r\n                        labels: {\r\n                            color: '#495057'\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    },\r\n};"]}]}