{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\setup\\CommissionSetup.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\setup\\CommissionSetup.js","mtime":1640498582584},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9FUlBfSG9zcGl0YWxfQ2xpZW50L3RydW5rL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0IENvbnN1bHRhbmN5RGVwYXJ0bWVudFNldHVwU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL3NldHVwL0NvbnN1bHRhbmN5RGVwYXJ0bWVudFNldHVwU2VydmljZSI7CmltcG9ydCBEb2N0b3JTZXR1cFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9zZXR1cC9Eb2N0b3JTZXR1cFNlcnZpY2UiOwppbXBvcnQgSW52ZXN0aWdhdGlvbkNhdGVnb3J5U2V0dXBTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2Uvc2V0dXAvSW52ZXN0aWdhdGlvbkNhdGVnb3J5U2V0dXBTZXJ2aWNlIjsKaW1wb3J0IENvbW1pc3Npb25TZXR1cFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9zZXR1cC9Db21taXNzaW9uU2V0dXBTZXJ2aWNlIjsKaW1wb3J0IHsgRmlsdGVyTWF0Y2hNb2RlLCBGaWx0ZXJPcGVyYXRvciB9IGZyb20gInByaW1ldnVlL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YUxpc3Q6IGZhbHNlLAogICAgICBidXR0b246IGZhbHNlLAogICAgICBkZXBhcnRtZW50TGlzdDogW10sCiAgICAgIGRvY3Rvckxpc3Q6IFtdLAogICAgICBpbnZlc3RpZ2F0aW9uQ2F0ZWdvcnlMaXN0OiBbXSwKICAgICAgY29tbWlzc2lvbkxpc3Q6IFtdLAogICAgICBjb21taXNzaW9uU2V0dXA6IHsKICAgICAgICB0eXBlOiAiQWxsIiwKICAgICAgICBjb21taXNzaW9uUGVyY2VudDogIjAiLAogICAgICAgIGxzdERvY3RvcjogW10sCiAgICAgICAgbHN0SW52ZXN0aWdhdGlvbjogW10KICAgICAgfSwKICAgICAgZmlsdGVyczogewogICAgICAgIGdsb2JhbDogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgIH0sCiAgICAgICAgbmFtZTogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5TVEFSVFNfV0lUSAogICAgICAgIH0KICAgICAgfSwKICAgICAgaW5pdEZpbHRlcnM6IGZ1bmN0aW9uIGluaXRGaWx0ZXJzKCkgewogICAgICAgIHRoaXMuZmlsdGVycyA9IHsKICAgICAgICAgIGdsb2JhbDogewogICAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuQ09OVEFJTlMKICAgICAgICAgIH0sCiAgICAgICAgICBuYW1lOiB7CiAgICAgICAgICAgIG9wZXJhdG9yOiBGaWx0ZXJPcGVyYXRvci5BTkQsCiAgICAgICAgICAgIGNvbnN0cmFpbnRzOiBbewogICAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLlNUQVJUU19XSVRICiAgICAgICAgICAgIH1dCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSwKICAgICAgc3VibWl0dGVkOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuZG9jdG9yU2V0dXBTZXJ2aWNlID0gbmV3IERvY3RvclNldHVwU2VydmljZSgpOwogICAgdGhpcy5jb25zdWx0YW5jeURlcGFydG1lbnRTZXR1cFNlcnZpY2UgPSBuZXcgQ29uc3VsdGFuY3lEZXBhcnRtZW50U2V0dXBTZXJ2aWNlKCk7CiAgICB0aGlzLmludmVzdGlnYXRpb25DYXRlZ29yeVNldHVwU2VydmljZSA9IG5ldyBJbnZlc3RpZ2F0aW9uQ2F0ZWdvcnlTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMuY29tbWlzc2lvblNldHVwU2VydmljZSA9IG5ldyBDb21taXNzaW9uU2V0dXBTZXJ2aWNlKCk7CiAgICB0aGlzLmNvbnN1bHRhbmN5RGVwYXJ0bWVudFNldHVwU2VydmljZS5nZXRBY3RpdmVDb21ibygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIF90aGlzLmRlcGFydG1lbnRMaXN0ID0gZGF0YS5kYXRhOwogICAgfSk7CiAgICB0aGlzLmRvY3RvclNldHVwU2VydmljZS5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5tZXJnZURvY3RvckluZm8oZGF0YS5kYXRhKTsKICAgIH0pOwogICAgdGhpcy5pbnZlc3RpZ2F0aW9uQ2F0ZWdvcnlTZXR1cFNlcnZpY2UuZ2V0QWxsKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gX3RoaXMuaW52ZXN0aWdhdGlvbkNhdGVnb3J5TGlzdCA9IGRhdGEuZGF0YTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgaGlkZU5ldzogZnVuY3Rpb24gaGlkZU5ldygpIHsKICAgICAgdGhpcy5jb21taXNzaW9uU2V0dXAgPSB7CiAgICAgICAgdHlwZTogIkFsbCIsCiAgICAgICAgY29tbWlzc2lvblBlcmNlbnQ6ICIwIiwKICAgICAgICBsc3REb2N0b3I6IFtdLAogICAgICAgIGxzdEludmVzdGlnYXRpb246IFtdCiAgICAgIH07CiAgICAgIHRoaXMuZGF0YUxpc3QgPSBmYWxzZTsKICAgICAgdGhpcy5idXR0b24gPSBmYWxzZTsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgIH0sCiAgICBtZXJnZURvY3RvckluZm86IGZ1bmN0aW9uIG1lcmdlRG9jdG9ySW5mbyhkYXRhKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgX3RoaXMyLmRvY3Rvckxpc3QucHVzaCh7CiAgICAgICAgICBkZXBhcnRtZW50X2lkOiBlbGVtZW50LmRlcGFydG1lbnRfaWQsCiAgICAgICAgICBkb2N0b3JfaWQ6IGVsZW1lbnQuZG9jdG9yX2lkLAogICAgICAgICAgZG9jdG9yX25hbWU6IGVsZW1lbnQuZG9jX25vICsgIi0iICsgZWxlbWVudC5kb2N0b3JfbmFtZQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBmaWx0ZXJEb2N0b3JzRGVwYXJ0bWVudFdpc2U6IGZ1bmN0aW9uIGZpbHRlckRvY3RvcnNEZXBhcnRtZW50V2lzZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZG9jdG9yTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgcmV0dXJuIGVsLmRlcGFydG1lbnRfaWQgPT09IHRoaXMuY29tbWlzc2lvblNldHVwLmRlcGFydG1lbnRfaWQ7CiAgICAgIH0sIHRoaXMpOwogICAgfSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHsKICAgICAgaWYgKHRoaXMuY29tbWlzc2lvblNldHVwLnR5cGUgPT0gIkFsbCIpIHsKICAgICAgICB0aGlzLmNvbW1pc3Npb25TZXR1cC5kb2N0b3JfaWQgPSAiQWxsIjsKICAgICAgfQogICAgfSwKICAgIGdldENvbW1pc3Npb25CeUludmVzdGlnYXRpb246IGZ1bmN0aW9uIGdldENvbW1pc3Npb25CeUludmVzdGlnYXRpb24oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5kYXRhTGlzdCA9IHRydWU7CiAgICAgIHRoaXMuYnV0dG9uID0gdHJ1ZTsKCiAgICAgIGlmICghdGhpcy5jb21taXNzaW9uU2V0dXAuaW52ZXN0aWdhdGlvbl9jYXRlZ29yeV9pZCkgewogICAgICAgIHRoaXMuY29tbWlzc2lvblNldHVwLmludmVzdGlnYXRpb25fY2F0ZWdvcnlfaWQgPSAiQWxsIjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLmNvbW1pc3Npb25TZXR1cC5kb2N0b3JfaWQpIHsKICAgICAgICB0aGlzLmNvbW1pc3Npb25TZXR1cC5kb2N0b3JfaWQgPSAiQWxsIjsKICAgICAgfQoKICAgICAgdGhpcy5jb21taXNzaW9uU2V0dXBTZXJ2aWNlLmdldENvbW1pc3Npb25CeUludmVzdGlnYXRpb24odGhpcy5jb21taXNzaW9uU2V0dXAuaW52ZXN0aWdhdGlvbl9jYXRlZ29yeV9pZCwgdGhpcy5jb21taXNzaW9uU2V0dXAuZG9jdG9yX2lkLCB0aGlzKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMy5jb21taXNzaW9uTGlzdCA9IGRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlQ29tbWlzc2lvblBlcmNlbnQ6IGZ1bmN0aW9uIHVwZGF0ZUNvbW1pc3Npb25QZXJjZW50KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKCiAgICAgIGlmICghdGhpcy5jb21taXNzaW9uU2V0dXAuY29tbWlzc2lvblBlcmNlbnQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuY29tbWlzc2lvbkxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIGVsZW1lbnQuX2NvbW1pc3Npb25fcmF0ZSA9IF90aGlzNC5jb21taXNzaW9uU2V0dXAuY29tbWlzc2lvblBlcmNlbnQ7CiAgICAgIH0pOwogICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczUuc3VibWl0dGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX3RoaXM1LnJlcXVyZWQgPSAiIjsKCiAgICAgICAgICAgICAgICBfdGhpczUuY29tbWlzc2lvbkxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5fY29tbWlzc2lvbl9yYXRlIDwgMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNS5yZXF1cmVkID0gInJlcXVpcmVkIjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczUucmVxdXJlZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM1LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIlJlcXVpcmVkIiwKICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiUGxlYXNlIGZpbGwgaW4gdGhlIHJlcXVpcmVkIGZpZWxkcyIsCiAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgaWYgKF90aGlzNS5jb21taXNzaW9uU2V0dXAuZG9jdG9yX2lkID09ICJBbGwiKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5jb21taXNzaW9uU2V0dXAubHN0RG9jdG9yID0gX3RoaXM1LmRvY3Rvckxpc3Q7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczUuY29tbWlzc2lvblNldHVwLmxzdERvY3Rvci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBkZXBhcnRtZW50X2lkOiAiIiwKICAgICAgICAgICAgICAgICAgICBkb2N0b3JfaWQ6IF90aGlzNS5jb21taXNzaW9uU2V0dXAuZG9jdG9yX2lkLAogICAgICAgICAgICAgICAgICAgIGRvY3Rvcl9uYW1lOiAiIgogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczUuY29tbWlzc2lvblNldHVwLl9pbnZlc3RpZ2F0aW9uX2NhdGVnb3J5X2lkID0gX3RoaXM1LmNvbW1pc3Npb25TZXR1cC5pbnZlc3RpZ2F0aW9uX2NhdGVnb3J5X2lkOwogICAgICAgICAgICAgICAgX3RoaXM1LmNvbW1pc3Npb25TZXR1cC5sc3RJbnZlc3RpZ2F0aW9uID0gX3RoaXM1LmNvbW1pc3Npb25MaXN0OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5jb21taXNzaW9uU2V0dXBTZXJ2aWNlLmFkZChfdGhpczUuY29tbWlzc2lvblNldHVwLCBfdGhpczUpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6ICJTYXZlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXM1LmhpZGVOZXcoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRXJyb3IiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LmRhdGEsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczUuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTg7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwoKICAgICAgICAgICAgICAgIF90aGlzNS4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZWQiLAogICAgICAgICAgICAgICAgICBkZXRhaWw6IF9jb250ZXh0LnQwLAogICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDE4XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/setup/CommissionSetup.js"],"names":["ConsultancyDepartmentSetupService","DoctorSetupService","InvestigationCategorySetupService","CommissionSetupService","FilterMatchMode","FilterOperator","data","dataList","button","departmentList","doctorList","investigationCategoryList","commissionList","commissionSetup","type","commissionPercent","lstDoctor","lstInvestigation","filters","global","value","matchMode","CONTAINS","name","STARTS_WITH","initFilters","operator","AND","constraints","submitted","created","doctorSetupService","consultancyDepartmentSetupService","investigationCategorySetupService","commissionSetupService","getActiveCombo","then","getAll","mergeDoctorInfo","methods","hideNew","forEach","element","push","department_id","doctor_id","doctor_name","doc_no","filterDoctorsDepartmentWise","filter","el","onChange","getCommissionByInvestigation","investigation_category_id","updateCommissionPercent","_commission_rate","add","requred","$toast","severity","summary","detail","life","_investigation_category_id","result","status","res"],"mappings":"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","sourcesContent":["import ConsultancyDepartmentSetupService from \"../../service/setup/ConsultancyDepartmentSetupService\";\r\nimport DoctorSetupService from \"../../service/setup/DoctorSetupService\";\r\nimport InvestigationCategorySetupService from \"../../service/setup/InvestigationCategorySetupService\";\r\nimport CommissionSetupService from \"../../service/setup/CommissionSetupService\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      dataList: false,\r\n      button: false,\r\n      departmentList: [],\r\n      doctorList: [],\r\n      investigationCategoryList: [],\r\n      commissionList: [],\r\n      commissionSetup: {\r\n        type: \"All\",\r\n        commissionPercent: \"0\",\r\n        lstDoctor: [],\r\n        lstInvestigation: []\r\n      },\r\n      filters: {\r\n        global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        name: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      initFilters() {\r\n        this.filters = {\r\n          global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n          name: {\r\n            operator: FilterOperator.AND,\r\n            constraints: [\r\n              { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            ],\r\n          },\r\n        };\r\n      },\r\n      submitted: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.doctorSetupService = new DoctorSetupService();\r\n    this.consultancyDepartmentSetupService = new ConsultancyDepartmentSetupService();\r\n    this.investigationCategorySetupService =\r\n      new InvestigationCategorySetupService();\r\n    this.commissionSetupService = new CommissionSetupService();\r\n\r\n    this.consultancyDepartmentSetupService\r\n      .getActiveCombo()\r\n      .then((data) => (this.departmentList = data.data));\r\n\r\n    this.doctorSetupService\r\n      .getAll()\r\n      .then((data) => this.mergeDoctorInfo(data.data));\r\n\r\n    this.investigationCategorySetupService\r\n      .getAll()\r\n      .then((data) => (this.investigationCategoryList = data.data));\r\n  },\r\n  methods: {\r\n    hideNew() {\r\n      this.commissionSetup = {\r\n        type: \"All\",\r\n        commissionPercent: \"0\",\r\n        lstDoctor: [],\r\n        lstInvestigation: []\r\n      };\r\n      this.dataList = false;\r\n      this.button = false;\r\n      this.submitted = false;\r\n    },\r\n    mergeDoctorInfo(data) {\r\n      data.forEach((element) => {\r\n        this.doctorList.push({\r\n          department_id: element.department_id,\r\n          doctor_id: element.doctor_id,\r\n          doctor_name: element.doc_no + \"-\" + element.doctor_name,\r\n        });\r\n      });\r\n    },\r\n    filterDoctorsDepartmentWise() {\r\n      return this.doctorList.filter(function (el) {\r\n        return el.department_id === this.commissionSetup.department_id;\r\n      }, this);\r\n    },\r\n    onChange() {\r\n      if (this.commissionSetup.type == \"All\") {\r\n        this.commissionSetup.doctor_id = \"All\";\r\n      }\r\n    },\r\n    getCommissionByInvestigation() {\r\n      this.dataList = true;\r\n      this.button = true;\r\n      if (!this.commissionSetup.investigation_category_id) {\r\n        this.commissionSetup.investigation_category_id = \"All\";\r\n      }\r\n      if (!this.commissionSetup.doctor_id) {\r\n        this.commissionSetup.doctor_id = \"All\";\r\n      }\r\n\r\n      this.commissionSetupService\r\n        .getCommissionByInvestigation(this.commissionSetup.investigation_category_id, this.commissionSetup.doctor_id, this)\r\n        .then((data) => (this.commissionList = data.data));\r\n    },\r\n    updateCommissionPercent() {\r\n      this.submitted = true;\r\n      if (!this.commissionSetup.commissionPercent) {\r\n        return;\r\n      }\r\n      this.commissionList.forEach(element => {\r\n        element._commission_rate = this.commissionSetup.commissionPercent\r\n      });\r\n      this.submitted = false;\r\n    },\r\n    async add() {\r\n      this.submitted = true;\r\n      try {\r\n        this.requred = \"\";\r\n        this.commissionList.forEach((element) => {\r\n          if (element._commission_rate < 0) {\r\n            this.requred = \"required\";\r\n          }\r\n        });\r\n\r\n        if (this.requred) {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Required\",\r\n            detail: \"Please fill in the required fields\",\r\n            life: 10000,\r\n          });\r\n          return;\r\n        } else {\r\n          if (this.commissionSetup.doctor_id == \"All\") {\r\n            this.commissionSetup.lstDoctor = this.doctorList;\r\n          } else{\r\n            this.commissionSetup.lstDoctor.push({\r\n              department_id: \"\",\r\n              doctor_id: this.commissionSetup.doctor_id,\r\n              doctor_name: \"\",\r\n            });\r\n          }\r\n\r\n          this.commissionSetup._investigation_category_id = this.commissionSetup.investigation_category_id;\r\n          this.commissionSetup.lstInvestigation = this.commissionList;\r\n\r\n          let result = await this.commissionSetupService.add(\r\n            this.commissionSetup, this\r\n          );\r\n          if (result.status === 201) {\r\n            this.$toast.add({\r\n              severity: \"success\",\r\n              summary: \"Success\",\r\n              detail: \"Saved Successfully\",\r\n              life: 10000,\r\n            });\r\n            this.hideNew();\r\n          } else if (result.status === 401) {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Error\",\r\n              detail: result.data,\r\n              life: 10000,\r\n            });\r\n          } else {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Failed\",\r\n              detail: result.res,\r\n              life: 10000,\r\n            });\r\n          }\r\n        }\r\n      } catch (error) {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Failed\",\r\n          detail: error,\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n  },\r\n};"]}]}