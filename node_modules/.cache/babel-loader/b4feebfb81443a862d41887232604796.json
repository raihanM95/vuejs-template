{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\front-desk\\PatientRegistration.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\front-desk\\PatientRegistration.js","mtime":1654771432503},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9FUlBfSG9zcGl0YWxfQ2xpZW50L3RydW5rL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCBQYXRpZW50UmVnaXN0cmF0aW9uU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL2Zyb250LWRlc2svUGF0aWVudFJlZ2lzdHJhdGlvblNlcnZpY2UiOwppbXBvcnQgUGF0aWVudFJlcG9ydFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9yZXBvcnQvUGF0aWVudFJlcG9ydFNlcnZpY2UiOwppbXBvcnQgQ29tbW9uU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL0NvbW1vblNlcnZpY2UiOwppbXBvcnQgVmFsaWRhdGlvbiBmcm9tICIuLi8uLi9zY3JpcHRzL3ZhbGlkYXRpb24iOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCB7IEZpbHRlck1hdGNoTW9kZSwgRmlsdGVyT3BlcmF0b3IgfSBmcm9tICJwcmltZXZ1ZS9hcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhZ2U6IDEwMCwKICAgICAgaXNDb250YWN0RXhpc3Q6ICIiLAogICAgICBpc1ZhbGlkOiAiIiwKICAgICAgaXNFbWFpbFZhbGlkOiAiIiwKICAgICAgbmV3SW5mbzogZmFsc2UsCiAgICAgIGRhdGFMaXN0OiB0cnVlLAogICAgICByZWxhdGlvbkxpc3Q6IFtdLAogICAgICBibG9vZEdyb3VwTGlzdDogW10sCiAgICAgIGdlbmRlckxpc3Q6IFtdLAogICAgICBwYXRpZW50UmVnaXN0cmF0aW9uTGlzdDogW10sCiAgICAgIHBhdGllbnRSZWdpc3RyYXRpb246IHsKICAgICAgICBhZ2VfeWVhcjogIjAiLAogICAgICAgIGFnZV9tb250aDogIjAiLAogICAgICAgIGFnZV9kYXk6ICIwIgogICAgICB9LAogICAgICBmaWx0ZXJzOiB7CiAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLkNPTlRBSU5TCiAgICAgICAgfSwKICAgICAgICBuYW1lOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLlNUQVJUU19XSVRICiAgICAgICAgfQogICAgICB9LAogICAgICBpbml0RmlsdGVyczogZnVuY3Rpb24gaW5pdEZpbHRlcnMoKSB7CiAgICAgICAgdGhpcy5maWx0ZXJzID0gewogICAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgICAgfSwKICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgb3BlcmF0b3I6IEZpbHRlck9wZXJhdG9yLkFORCwKICAgICAgICAgICAgY29uc3RyYWludHM6IFt7CiAgICAgICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuU1RBUlRTX1dJVEgKICAgICAgICAgICAgfV0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9LAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5wYXRpZW50UmVnaXN0cmF0aW9uU2VydmljZSA9IG5ldyBQYXRpZW50UmVnaXN0cmF0aW9uU2VydmljZSgpOwogICAgdGhpcy5wYXRpZW50UmVwb3J0U2VydmljZSA9IG5ldyBQYXRpZW50UmVwb3J0U2VydmljZSgpOwogICAgdGhpcy5jb21tb25TZXJ2aWNlID0gbmV3IENvbW1vblNlcnZpY2UoKTsKICAgIHRoaXMudmFsaWRhdGlvbiA9IG5ldyBWYWxpZGF0aW9uKCk7CiAgICB0aGlzLmNvbW1vblNlcnZpY2UuR2V0QWxsR2VuZGVyKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gX3RoaXMuZ2VuZGVyTGlzdCA9IGRhdGEuZGF0YTsKICAgIH0pOwogICAgdGhpcy5jb21tb25TZXJ2aWNlLkdldEFsbEJsb29kR3JvdXAoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5ibG9vZEdyb3VwTGlzdCA9IGRhdGEuZGF0YTsKICAgIH0pOwogICAgdGhpcy5jb21tb25TZXJ2aWNlLkdldEFsbFBhdGllbnRzUmVsYXRpdmVzKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gX3RoaXMucmVsYXRpb25MaXN0ID0gZGF0YS5kYXRhOwogICAgfSk7IC8vIHNlcnZlciBzaWRlIHBhZ2luYXRpb24KCiAgICB2YXIgZmlsdGVyID0gdGhpcy5maWx0ZXJzWydnbG9iYWwnXS52YWx1ZSA/IHRoaXMuZmlsdGVyc1snZ2xvYmFsJ10udmFsdWUgOiAiIjsKICAgIHRoaXMucGF0aWVudFJlZ2lzdHJhdGlvblNlcnZpY2UuZ2V0UGF0aWVudFdpdGhQYWdpbmF0aW9uKCIwIiwgIjEwIiwgZmlsdGVyLCB0aGlzKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5wYXRpZW50Rm9ybWF0dGVkKGRhdGEuZGF0YSk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHByaW50QWxsUGF0aWVudDogZnVuY3Rpb24gcHJpbnRBbGxQYXRpZW50KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMucGF0aWVudFJlcG9ydFNlcnZpY2UuZ2V0QWxsKHRoaXMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLmNvbW1vblNlcnZpY2UuRG93bmxvYWRmaWxlKGRhdGEuZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIHByaW50SUQ6IGZ1bmN0aW9uIHByaW50SUQocmVnTm8pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnBhdGllbnRSZXBvcnRTZXJ2aWNlLkdldFBhdGllbnRJZENhcmRCeVJlZ05vKHJlZ05vLCB0aGlzKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMy5jb21tb25TZXJ2aWNlLkRvd25sb2FkZmlsZShkYXRhLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBwYXRpZW50Rm9ybWF0dGVkOiBmdW5jdGlvbiBwYXRpZW50Rm9ybWF0dGVkKGRhdGEpIHsKICAgICAgdGhpcy5wYXRpZW50UmVnaXN0cmF0aW9uTGlzdCA9IGRhdGE7CiAgICAgIHRoaXMucGFnZSA9IGRhdGEubGVuZ3RoID8gZGF0YVswXS5fdG90YWxfcmVjb3JkcyA6IDEwMDsKICAgIH0sCiAgICAvLyBzZXJ2ZXIgc2lkZSBwYWdpbmF0aW9uCiAgICBvblBhZ2U6IGZ1bmN0aW9uIG9uUGFnZShldmVudCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBmaWx0ZXIgPSB0aGlzLmZpbHRlcnNbJ2dsb2JhbCddLnZhbHVlID8gdGhpcy5maWx0ZXJzWydnbG9iYWwnXS52YWx1ZSA6ICIiOwogICAgICB2YXIgcGFnZSA9IGV2ZW50ID09IDAgPyAwIDogZXZlbnQucGFnZTsKICAgICAgdmFyIHJvd3MgPSBldmVudCA9PSAwID8gMTAgOiBldmVudC5yb3dzOwogICAgICB0aGlzLnBhdGllbnRSZWdpc3RyYXRpb25TZXJ2aWNlLmdldFBhdGllbnRXaXRoUGFnaW5hdGlvbihwYWdlLCByb3dzLCBmaWx0ZXIsIHRoaXMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXM0LnBhdGllbnRGb3JtYXR0ZWQoZGF0YS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgb3Blbk5ldzogZnVuY3Rpb24gb3Blbk5ldygpIHsKICAgICAgdGhpcy5pc0NvbnRhY3RFeGlzdCA9ICIiOwogICAgICB0aGlzLmlzVmFsaWQgPSAiIjsKICAgICAgdGhpcy5pc0VtYWlsVmFsaWQgPSAiIjsKICAgICAgdGhpcy5wYXRpZW50UmVnaXN0cmF0aW9uID0gewogICAgICAgIGFnZV95ZWFyOiAiMCIsCiAgICAgICAgYWdlX21vbnRoOiAiMCIsCiAgICAgICAgYWdlX2RheTogIjAiCiAgICAgIH07CiAgICAgIHRoaXMubmV3SW5mbyA9IHRydWU7CiAgICAgIHRoaXMuZGF0YUxpc3QgPSBmYWxzZTsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgIH0sCiAgICBoaWRlTmV3OiBmdW5jdGlvbiBoaWRlTmV3KCkgewogICAgICB0aGlzLmlzQ29udGFjdEV4aXN0ID0gIiI7CiAgICAgIHRoaXMuaXNWYWxpZCA9ICIiOwogICAgICB0aGlzLmlzRW1haWxWYWxpZCA9ICIiOwogICAgICB0aGlzLnBhdGllbnRSZWdpc3RyYXRpb24gPSB7CiAgICAgICAgYWdlX3llYXI6ICIwIiwKICAgICAgICBhZ2VfbW9udGg6ICIwIiwKICAgICAgICBhZ2VfZGF5OiAiMCIKICAgICAgfTsKICAgICAgdGhpcy5kYXRhTGlzdCA9IHRydWU7CiAgICAgIHRoaXMubmV3SW5mbyA9IGZhbHNlOwogICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgfSwKICAgIGlzRXhpc3RDb250YWN0OiBmdW5jdGlvbiBpc0V4aXN0Q29udGFjdCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBpZiAodGhpcy5wYXRpZW50UmVnaXN0cmF0aW9uLmNvbnRhY3Rfbm8ubWF0Y2goL14oMDEpKFswLTldezl9KSQvKSkgewogICAgICAgIHRoaXMucGF0aWVudFJlZ2lzdHJhdGlvblNlcnZpY2UuZ2V0QnlDb250YWN0T3JSZWdObyh0aGlzLnBhdGllbnRSZWdpc3RyYXRpb24uY29udGFjdF9ubywgdGhpcykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgcmV0dXJuIF90aGlzNS5nZXRDb250YWN0KGRhdGEuZGF0YSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc0NvbnRhY3RFeGlzdCA9ICJDb250YWN0IG51bWJlciBtdXN0IHN0YXJ0IHdpdGggMDEgYW5kIHRoZSByZXF1aXJlZCBsZW5ndGggaXMgMTEiOwogICAgICB9CiAgICB9LAogICAgZ2V0Q29udGFjdDogZnVuY3Rpb24gZ2V0Q29udGFjdChkYXRhKSB7CiAgICAgIGlmIChkYXRhLmNvbnRhY3Rfbm8pIHsKICAgICAgICB0aGlzLmlzQ29udGFjdEV4aXN0ID0gIkR1cGxpY2F0ZSBwaG9uZSBudW1iZXIhIjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzQ29udGFjdEV4aXN0ID0gIiI7CiAgICAgIH0KICAgIH0sCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjdXJyZW50RGF0ZSwgZG9iLCByZXN1bHQsIF9yZXN1bHQ7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNi5zdWJtaXR0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi5wYXRpZW50UmVnaXN0cmF0aW9uLmZpcnN0X25hbWUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LnBhdGllbnRSZWdpc3RyYXRpb24uYWdlX3llYXIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczYucGF0aWVudFJlZ2lzdHJhdGlvbi5hZ2VfbW9udGgpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczYucGF0aWVudFJlZ2lzdHJhdGlvbi5hZ2VfZGF5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LnBhdGllbnRSZWdpc3RyYXRpb24uY29udGFjdF9ubykgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczYuaXNDb250YWN0RXhpc3QpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgIGRvYiA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCkgLSBfdGhpczYucGF0aWVudFJlZ2lzdHJhdGlvbi5hZ2VfeWVhciwgY3VycmVudERhdGUuZ2V0TW9udGgoKSAtIF90aGlzNi5wYXRpZW50UmVnaXN0cmF0aW9uLmFnZV9tb250aCwgY3VycmVudERhdGUuZ2V0RGF0ZSgpIC0gX3RoaXM2LnBhdGllbnRSZWdpc3RyYXRpb24uYWdlX2RheSk7CiAgICAgICAgICAgICAgICBfdGhpczYucGF0aWVudFJlZ2lzdHJhdGlvbi5kb2IgPSBtb21lbnQoU3RyaW5nKGRvYikpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczYucGF0aWVudFJlZ2lzdHJhdGlvbi5wYXRpZW50X2lkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDMyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5wYXRpZW50UmVnaXN0cmF0aW9uU2VydmljZS5hZGQoX3RoaXM2LnBhdGllbnRSZWdpc3RyYXRpb24sIF90aGlzNik7CgogICAgICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIlN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogIlNhdmVkIFN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczYuaGlkZU5ldygpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM2Lm9uUGFnZSgwKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRXJyb3IiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LmRhdGEsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczYuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0MDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDM2OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5wYXRpZW50UmVnaXN0cmF0aW9uU2VydmljZS5wdXQoX3RoaXM2LnBhdGllbnRSZWdpc3RyYXRpb24sIF90aGlzNik7CgogICAgICAgICAgICAgIGNhc2UgMzg6CiAgICAgICAgICAgICAgICBfcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoX3Jlc3VsdC5zdGF0dXMgPT09IDIwMikgewogICAgICAgICAgICAgICAgICBfdGhpczYuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiVXBkYXRlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXM2LmhpZGVOZXcoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNi5vblBhZ2UoMCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9yZXN1bHQuc3RhdHVzID09PSA0MDEpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJFcnJvciIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBfcmVzdWx0LmRhdGEsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczYuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBfcmVzdWx0LnJlcywKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0MDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0NTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDQyOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDQyOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKCiAgICAgICAgICAgICAgICBfdGhpczYuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRmFpbGVkIiwKICAgICAgICAgICAgICAgICAgZGV0YWlsOiBfY29udGV4dC50MCwKICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCA0Ml1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZWRpdDogZnVuY3Rpb24gZWRpdChvYmopIHsKICAgICAgdGhpcy5wYXRpZW50UmVnaXN0cmF0aW9uID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqKTsgLy8gdGhpcy5wYXRpZW50UmVnaXN0cmF0aW9uLmNkZG9iID0gbW9tZW50KAogICAgICAvLyAgIFN0cmluZyh0aGlzLnBhdGllbnRSZWdpc3RyYXRpb24uZG9iKQogICAgICAvLyApLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwoKICAgICAgdGhpcy5kYXRhTGlzdCA9IGZhbHNlOwogICAgICB0aGlzLm5ld0luZm8gPSB0cnVlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/front-desk/PatientRegistration.js"],"names":["PatientRegistrationService","PatientReportService","CommonService","Validation","moment","FilterMatchMode","FilterOperator","data","page","isContactExist","isValid","isEmailValid","newInfo","dataList","relationList","bloodGroupList","genderList","patientRegistrationList","patientRegistration","age_year","age_month","age_day","filters","global","value","matchMode","CONTAINS","name","STARTS_WITH","initFilters","operator","AND","constraints","submitted","created","patientRegistrationService","patientReportService","commonService","validation","GetAllGender","then","GetAllBloodGroup","GetAllPatientsRelatives","filter","getPatientWithPagination","patientFormatted","methods","printAllPatient","getAll","Downloadfile","printID","regNo","GetPatientIdCardByRegNo","length","_total_records","onPage","event","rows","openNew","hideNew","isExistContact","contact_no","match","getByContactOrRegNo","getContact","add","first_name","currentDate","Date","dob","getFullYear","getMonth","getDate","String","format","patient_id","result","status","$toast","severity","summary","detail","life","res","put","edit","obj","Object","assign"],"mappings":";;;;AAAA,OAAOA,0BAAP,MAAuC,qDAAvC;AACA,OAAOC,oBAAP,MAAiC,2CAAjC;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,eAAT,EAA0BC,cAA1B,QAAgD,cAAhD;AAEA,eAAe;AACbC,EAAAA,IADa,kBACN;AACL,WAAO;AACLC,MAAAA,IAAI,EAAE,GADD;AAELC,MAAAA,cAAc,EAAE,EAFX;AAGLC,MAAAA,OAAO,EAAE,EAHJ;AAILC,MAAAA,YAAY,EAAE,EAJT;AAKLC,MAAAA,OAAO,EAAE,KALJ;AAMLC,MAAAA,QAAQ,EAAE,IANL;AAOLC,MAAAA,YAAY,EAAE,EAPT;AAQLC,MAAAA,cAAc,EAAE,EARX;AASLC,MAAAA,UAAU,EAAE,EATP;AAULC,MAAAA,uBAAuB,EAAE,EAVpB;AAWLC,MAAAA,mBAAmB,EAAE;AACnBC,QAAAA,QAAQ,EAAE,GADS;AAEnBC,QAAAA,SAAS,EAAE,GAFQ;AAGnBC,QAAAA,OAAO,EAAE;AAHU,OAXhB;AAgBLC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE;AAAEC,UAAAA,KAAK,EAAE,IAAT;AAAeC,UAAAA,SAAS,EAAEpB,eAAe,CAACqB;AAA1C,SADD;AAEPC,QAAAA,IAAI,EAAE;AAAEH,UAAAA,KAAK,EAAE,IAAT;AAAeC,UAAAA,SAAS,EAAEpB,eAAe,CAACuB;AAA1C;AAFC,OAhBJ;AAoBLC,MAAAA,WApBK,yBAoBS;AACZ,aAAKP,OAAL,GAAe;AACbC,UAAAA,MAAM,EAAE;AAAEC,YAAAA,KAAK,EAAE,IAAT;AAAeC,YAAAA,SAAS,EAAEpB,eAAe,CAACqB;AAA1C,WADK;AAEbC,UAAAA,IAAI,EAAE;AACJG,YAAAA,QAAQ,EAAExB,cAAc,CAACyB,GADrB;AAEJC,YAAAA,WAAW,EAAE,CACX;AAAER,cAAAA,KAAK,EAAE,IAAT;AAAeC,cAAAA,SAAS,EAAEpB,eAAe,CAACuB;AAA1C,aADW;AAFT;AAFO,SAAf;AASD,OA9BI;AA+BLK,MAAAA,SAAS,EAAE;AA/BN,KAAP;AAiCD,GAnCY;AAoCbC,EAAAA,OApCa,qBAoCH;AAAA;;AACR,SAAKC,0BAAL,GAAkC,IAAInC,0BAAJ,EAAlC;AACA,SAAKoC,oBAAL,GAA4B,IAAInC,oBAAJ,EAA5B;AACA,SAAKoC,aAAL,GAAqB,IAAInC,aAAJ,EAArB;AACA,SAAKoC,UAAL,GAAkB,IAAInC,UAAJ,EAAlB;AAEA,SAAKkC,aAAL,CAAmBE,YAAnB,GAAkCC,IAAlC,CACE,UAACjC,IAAD;AAAA,aACG,KAAI,CAACS,UAAL,GAAkBT,IAAI,CAACA,IAD1B;AAAA,KADF;AAKA,SAAK8B,aAAL,CACGI,gBADH,GAEGD,IAFH,CAEQ,UAACjC,IAAD;AAAA,aAAW,KAAI,CAACQ,cAAL,GAAsBR,IAAI,CAACA,IAAtC;AAAA,KAFR;AAIA,SAAK8B,aAAL,CACGK,uBADH,GAEGF,IAFH,CAEQ,UAACjC,IAAD;AAAA,aAAW,KAAI,CAACO,YAAL,GAAoBP,IAAI,CAACA,IAApC;AAAA,KAFR,EAfQ,CAmBR;;AACA,QAAIoC,MAAM,GAAG,KAAKrB,OAAL,CAAa,QAAb,EAAuBE,KAAvB,GAA+B,KAAKF,OAAL,CAAa,QAAb,EAAuBE,KAAtD,GAA8D,EAA3E;AACA,SAAKW,0BAAL,CACGS,wBADH,CAC4B,GAD5B,EACiC,IADjC,EACuCD,MADvC,EAC+C,IAD/C,EAEGH,IAFH,CAEQ,UAACjC,IAAD;AAAA,aAAU,KAAI,CAACsC,gBAAL,CAAsBtC,IAAI,CAACA,IAA3B,CAAV;AAAA,KAFR;AAGD,GA5DY;AA6DbuC,EAAAA,OAAO,EAAE;AACPC,IAAAA,eADO,6BACW;AAAA;;AAChB,WAAKX,oBAAL,CAA0BY,MAA1B,CAAiC,IAAjC,EAAuCR,IAAvC,CAA4C,UAACjC,IAAD;AAAA,eAAW,MAAI,CAAC8B,aAAL,CAAmBY,YAAnB,CAAgC1C,IAAI,CAACA,IAArC,CAAX;AAAA,OAA5C;AACD,KAHM;AAIP2C,IAAAA,OAJO,mBAICC,KAJD,EAIO;AAAA;;AACZ,WAAKf,oBAAL,CAA0BgB,uBAA1B,CAAkDD,KAAlD,EAAyD,IAAzD,EAA+DX,IAA/D,CAAoE,UAACjC,IAAD;AAAA,eAAW,MAAI,CAAC8B,aAAL,CAAmBY,YAAnB,CAAgC1C,IAAI,CAACA,IAArC,CAAX;AAAA,OAApE;AACD,KANM;AAOPsC,IAAAA,gBAPO,4BAOUtC,IAPV,EAOgB;AACrB,WAAKU,uBAAL,GAA+BV,IAA/B;AACA,WAAKC,IAAL,GAAYD,IAAI,CAAC8C,MAAL,GAAc9C,IAAI,CAAC,CAAD,CAAJ,CAAQ+C,cAAtB,GAAuC,GAAnD;AACD,KAVM;AAWP;AACAC,IAAAA,MAZO,kBAYAC,KAZA,EAYO;AAAA;;AACZ,UAAIb,MAAM,GAAG,KAAKrB,OAAL,CAAa,QAAb,EAAuBE,KAAvB,GAA+B,KAAKF,OAAL,CAAa,QAAb,EAAuBE,KAAtD,GAA8D,EAA3E;AACA,UAAIhB,IAAI,GAAGgD,KAAK,IAAI,CAAT,GAAa,CAAb,GAAiBA,KAAK,CAAChD,IAAlC;AACA,UAAIiD,IAAI,GAAGD,KAAK,IAAI,CAAT,GAAa,EAAb,GAAkBA,KAAK,CAACC,IAAnC;AAEA,WAAKtB,0BAAL,CACGS,wBADH,CAC4BpC,IAD5B,EACkCiD,IADlC,EACwCd,MADxC,EACgD,IADhD,EAEGH,IAFH,CAEQ,UAACjC,IAAD;AAAA,eAAU,MAAI,CAACsC,gBAAL,CAAsBtC,IAAI,CAACA,IAA3B,CAAV;AAAA,OAFR;AAGD,KApBM;AAqBPmD,IAAAA,OArBO,qBAqBG;AACR,WAAKjD,cAAL,GAAsB,EAAtB;AACA,WAAKC,OAAL,GAAe,EAAf;AACA,WAAKC,YAAL,GAAoB,EAApB;AACA,WAAKO,mBAAL,GAA2B;AACzBC,QAAAA,QAAQ,EAAE,GADe;AAEzBC,QAAAA,SAAS,EAAE,GAFc;AAGzBC,QAAAA,OAAO,EAAE;AAHgB,OAA3B;AAKA,WAAKT,OAAL,GAAe,IAAf;AACA,WAAKC,QAAL,GAAgB,KAAhB;AACA,WAAKoB,SAAL,GAAiB,KAAjB;AACD,KAjCM;AAkCP0B,IAAAA,OAlCO,qBAkCG;AACR,WAAKlD,cAAL,GAAsB,EAAtB;AACA,WAAKC,OAAL,GAAe,EAAf;AACA,WAAKC,YAAL,GAAoB,EAApB;AACA,WAAKO,mBAAL,GAA2B;AACzBC,QAAAA,QAAQ,EAAE,GADe;AAEzBC,QAAAA,SAAS,EAAE,GAFc;AAGzBC,QAAAA,OAAO,EAAE;AAHgB,OAA3B;AAKA,WAAKR,QAAL,GAAgB,IAAhB;AACA,WAAKD,OAAL,GAAe,KAAf;AACA,WAAKqB,SAAL,GAAiB,KAAjB;AACD,KA9CM;AA+CP2B,IAAAA,cA/CO,4BA+CU;AAAA;;AACf,UAAI,KAAK1C,mBAAL,CAAyB2C,UAAzB,CAAoCC,KAApC,CAA0C,kBAA1C,CAAJ,EAAmE;AACjE,aAAK3B,0BAAL,CACG4B,mBADH,CACuB,KAAK7C,mBAAL,CAAyB2C,UADhD,EAC4D,IAD5D,EAEGrB,IAFH,CAEQ,UAACjC,IAAD;AAAA,iBAAU,MAAI,CAACyD,UAAL,CAAgBzD,IAAI,CAACA,IAArB,CAAV;AAAA,SAFR;AAGD,OAJD,MAIO;AACL,aAAKE,cAAL,GACE,iEADF;AAED;AACF,KAxDM;AAyDPuD,IAAAA,UAzDO,sBAyDIzD,IAzDJ,EAyDU;AACf,UAAIA,IAAI,CAACsD,UAAT,EAAqB;AACnB,aAAKpD,cAAL,GAAsB,yBAAtB;AACD,OAFD,MAEO;AACL,aAAKA,cAAL,GAAsB,EAAtB;AACD;AACF,KA/DM;AAgEDwD,IAAAA,GAhEC,iBAgEK;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACV,gBAAA,MAAI,CAAChC,SAAL,GAAiB,IAAjB;AADU;;AAAA,oBAGH,MAAI,CAACf,mBAAL,CAAyBgD,UAHtB;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA,oBAKI,MAAI,CAAChD,mBAAL,CAAyBC,QAL7B;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA,oBAOI,MAAI,CAACD,mBAAL,CAAyBE,SAP7B;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA,oBASI,MAAI,CAACF,mBAAL,CAAyBG,OAT7B;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA,oBAWI,MAAI,CAACH,mBAAL,CAAyB2C,UAX7B;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA,qBAaG,MAAI,CAACpD,cAbR;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAgBF0D,gBAAAA,WAhBE,GAgBY,IAAIC,IAAJ,EAhBZ;AAiBFC,gBAAAA,GAjBE,GAiBI,IAAID,IAAJ,CAASD,WAAW,CAACG,WAAZ,KAA4B,MAAI,CAACpD,mBAAL,CAAyBC,QAA9D,EAAwEgD,WAAW,CAACI,QAAZ,KAAyB,MAAI,CAACrD,mBAAL,CAAyBE,SAA1H,EAAqI+C,WAAW,CAACK,OAAZ,KAAwB,MAAI,CAACtD,mBAAL,CAAyBG,OAAtL,CAjBJ;AAkBN,gBAAA,MAAI,CAACH,mBAAL,CAAyBmD,GAAzB,GAA+BjE,MAAM,CACnCqE,MAAM,CAACJ,GAAD,CAD6B,CAAN,CAE7BK,MAF6B,CAEtB,YAFsB,CAA/B;;AAlBM,oBAsBD,MAAI,CAACxD,mBAAL,CAAyByD,UAtBxB;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAuBe,MAAI,CAACxC,0BAAL,CAAgC8B,GAAhC,CACjB,MAAI,CAAC/C,mBADY,EACS,MADT,CAvBf;;AAAA;AAuBA0D,gBAAAA,MAvBA;;AA0BJ,oBAAIA,MAAM,CAACC,MAAP,KAAkB,GAAtB,EAA2B;AACzB,kBAAA,MAAI,CAACC,MAAL,CAAYb,GAAZ,CAAgB;AACdc,oBAAAA,QAAQ,EAAE,SADI;AAEdC,oBAAAA,OAAO,EAAE,SAFK;AAGdC,oBAAAA,MAAM,EAAE,oBAHM;AAIdC,oBAAAA,IAAI,EAAE;AAJQ,mBAAhB;;AAMA,kBAAA,MAAI,CAACvB,OAAL;;AACA,kBAAA,MAAI,CAACJ,MAAL,CAAY,CAAZ;AACD,iBATD,MASO,IAAIqB,MAAM,CAACC,MAAP,KAAkB,GAAtB,EAA2B;AAChC,kBAAA,MAAI,CAACC,MAAL,CAAYb,GAAZ,CAAgB;AACdc,oBAAAA,QAAQ,EAAE,OADI;AAEdC,oBAAAA,OAAO,EAAE,OAFK;AAGdC,oBAAAA,MAAM,EAAEL,MAAM,CAACrE,IAHD;AAId2E,oBAAAA,IAAI,EAAE;AAJQ,mBAAhB;AAMD,iBAPM,MAOA;AACL,kBAAA,MAAI,CAACJ,MAAL,CAAYb,GAAZ,CAAgB;AACdc,oBAAAA,QAAQ,EAAE,OADI;AAEdC,oBAAAA,OAAO,EAAE,QAFK;AAGdC,oBAAAA,MAAM,EAAEL,MAAM,CAACO,GAHD;AAIdD,oBAAAA,IAAI,EAAE;AAJQ,mBAAhB;AAMD;;AAjDG;AAAA;;AAAA;AAAA;AAAA,uBAmDe,MAAI,CAAC/C,0BAAL,CAAgCiD,GAAhC,CACjB,MAAI,CAAClE,mBADY,EAEjB,MAFiB,CAnDf;;AAAA;AAmDA0D,gBAAAA,OAnDA;;AAuDJ,oBAAIA,OAAM,CAACC,MAAP,KAAkB,GAAtB,EAA2B;AACzB,kBAAA,MAAI,CAACC,MAAL,CAAYb,GAAZ,CAAgB;AACdc,oBAAAA,QAAQ,EAAE,SADI;AAEdC,oBAAAA,OAAO,EAAE,SAFK;AAGdC,oBAAAA,MAAM,EAAE,sBAHM;AAIdC,oBAAAA,IAAI,EAAE;AAJQ,mBAAhB;;AAMA,kBAAA,MAAI,CAACvB,OAAL;;AACA,kBAAA,MAAI,CAACJ,MAAL,CAAY,CAAZ;AACD,iBATD,MASO,IAAIqB,OAAM,CAACC,MAAP,KAAkB,GAAtB,EAA2B;AAChC,kBAAA,MAAI,CAACC,MAAL,CAAYb,GAAZ,CAAgB;AACdc,oBAAAA,QAAQ,EAAE,OADI;AAEdC,oBAAAA,OAAO,EAAE,OAFK;AAGdC,oBAAAA,MAAM,EAAEL,OAAM,CAACrE,IAHD;AAId2E,oBAAAA,IAAI,EAAE;AAJQ,mBAAhB;AAMD,iBAPM,MAOA;AACL,kBAAA,MAAI,CAACJ,MAAL,CAAYb,GAAZ,CAAgB;AACdc,oBAAAA,QAAQ,EAAE,OADI;AAEdC,oBAAAA,OAAO,EAAE,QAFK;AAGdC,oBAAAA,MAAM,EAAEL,OAAM,CAACO,GAHD;AAIdD,oBAAAA,IAAI,EAAE;AAJQ,mBAAhB;AAMD;;AA9EG;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAkFR,gBAAA,MAAI,CAACJ,MAAL,CAAYb,GAAZ,CAAgB;AACdc,kBAAAA,QAAQ,EAAE,OADI;AAEdC,kBAAAA,OAAO,EAAE,QAFK;AAGdC,kBAAAA,MAAM,aAHQ;AAIdC,kBAAAA,IAAI,EAAE;AAJQ,iBAAhB;;AAlFQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyFX,KAzJM;AA0JPG,IAAAA,IA1JO,gBA0JFC,GA1JE,EA0JG;AACR,WAAKpE,mBAAL,GAA2BqE,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBF,GAAlB,CAA3B,CADQ,CAER;AACA;AACA;;AACA,WAAKzE,QAAL,GAAgB,KAAhB;AACA,WAAKD,OAAL,GAAe,IAAf;AACD;AAjKM;AA7DI,CAAf","sourcesContent":["import PatientRegistrationService from \"../../service/front-desk/PatientRegistrationService\";\r\nimport PatientReportService from \"../../service/report/PatientReportService\";\r\nimport CommonService from \"../../service/CommonService\";\r\nimport Validation from \"../../scripts/validation\";\r\nimport moment from \"moment\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      page: 100,\r\n      isContactExist: \"\",\r\n      isValid: \"\",\r\n      isEmailValid: \"\",\r\n      newInfo: false,\r\n      dataList: true,\r\n      relationList: [],\r\n      bloodGroupList: [],\r\n      genderList: [],\r\n      patientRegistrationList: [],\r\n      patientRegistration: {\r\n        age_year: \"0\",\r\n        age_month: \"0\",\r\n        age_day: \"0\",\r\n      },\r\n      filters: {\r\n        global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        name: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      initFilters() {\r\n        this.filters = {\r\n          global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n          name: {\r\n            operator: FilterOperator.AND,\r\n            constraints: [\r\n              { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            ],\r\n          },\r\n        };\r\n      },\r\n      submitted: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.patientRegistrationService = new PatientRegistrationService();\r\n    this.patientReportService = new PatientReportService();\r\n    this.commonService = new CommonService();\r\n    this.validation = new Validation();\r\n\r\n    this.commonService.GetAllGender().then(\r\n      (data) =>\r\n        (this.genderList = data.data)\r\n    );\r\n\r\n    this.commonService\r\n      .GetAllBloodGroup()\r\n      .then((data) => (this.bloodGroupList = data.data));\r\n\r\n    this.commonService\r\n      .GetAllPatientsRelatives()\r\n      .then((data) => (this.relationList = data.data));\r\n\r\n    // server side pagination\r\n    var filter = this.filters['global'].value ? this.filters['global'].value : \"\";\r\n    this.patientRegistrationService\r\n      .getPatientWithPagination(\"0\", \"10\", filter, this)\r\n      .then((data) => this.patientFormatted(data.data));\r\n  },\r\n  methods: {\r\n    printAllPatient() {\r\n      this.patientReportService.getAll(this).then((data) => (this.commonService.Downloadfile(data.data)));\r\n    },\r\n    printID(regNo){\r\n      this.patientReportService.GetPatientIdCardByRegNo(regNo, this).then((data) => (this.commonService.Downloadfile(data.data)));\r\n    },\r\n    patientFormatted(data) {\r\n      this.patientRegistrationList = data;\r\n      this.page = data.length ? data[0]._total_records : 100;\r\n    },\r\n    // server side pagination\r\n    onPage(event) {\r\n      var filter = this.filters['global'].value ? this.filters['global'].value : \"\";\r\n      var page = event == 0 ? 0 : event.page;\r\n      var rows = event == 0 ? 10 : event.rows;\r\n\r\n      this.patientRegistrationService\r\n        .getPatientWithPagination(page, rows, filter, this)\r\n        .then((data) => this.patientFormatted(data.data));\r\n    },\r\n    openNew() {\r\n      this.isContactExist = \"\";\r\n      this.isValid = \"\";\r\n      this.isEmailValid = \"\";\r\n      this.patientRegistration = {\r\n        age_year: \"0\",\r\n        age_month: \"0\",\r\n        age_day: \"0\",\r\n      };\r\n      this.newInfo = true;\r\n      this.dataList = false;\r\n      this.submitted = false;\r\n    },\r\n    hideNew() {\r\n      this.isContactExist = \"\";\r\n      this.isValid = \"\";\r\n      this.isEmailValid = \"\";\r\n      this.patientRegistration = {\r\n        age_year: \"0\",\r\n        age_month: \"0\",\r\n        age_day: \"0\",\r\n      };\r\n      this.dataList = true;\r\n      this.newInfo = false;\r\n      this.submitted = false;\r\n    },\r\n    isExistContact() {\r\n      if (this.patientRegistration.contact_no.match(/^(01)([0-9]{9})$/)) {\r\n        this.patientRegistrationService\r\n          .getByContactOrRegNo(this.patientRegistration.contact_no, this)\r\n          .then((data) => this.getContact(data.data));\r\n      } else {\r\n        this.isContactExist =\r\n          \"Contact number must start with 01 and the required length is 11\";\r\n      }\r\n    },\r\n    getContact(data) {\r\n      if (data.contact_no) {\r\n        this.isContactExist = \"Duplicate phone number!\";\r\n      } else {\r\n        this.isContactExist = \"\";\r\n      }\r\n    },\r\n    async add() {\r\n      this.submitted = true;\r\n      try {\r\n        if (!this.patientRegistration.first_name) {\r\n          return;\r\n        } else if (!this.patientRegistration.age_year) {\r\n          return;\r\n        } else if (!this.patientRegistration.age_month) {\r\n          return;\r\n        } else if (!this.patientRegistration.age_day) {\r\n          return;\r\n        } else if (!this.patientRegistration.contact_no) {\r\n          return;\r\n        } else if (this.isContactExist) {\r\n          return;\r\n        } else {\r\n          var currentDate = new Date();\r\n          var dob = new Date(currentDate.getFullYear() - this.patientRegistration.age_year, currentDate.getMonth() - this.patientRegistration.age_month, currentDate.getDate() - this.patientRegistration.age_day);\r\n          this.patientRegistration.dob = moment(\r\n            String(dob)\r\n          ).format(\"YYYY-MM-DD\");\r\n\r\n          if (!this.patientRegistration.patient_id) {\r\n            let result = await this.patientRegistrationService.add(\r\n              this.patientRegistration, this\r\n            );\r\n            if (result.status === 200) {\r\n              this.$toast.add({\r\n                severity: \"success\",\r\n                summary: \"Success\",\r\n                detail: \"Saved Successfully\",\r\n                life: 10000,\r\n              });\r\n              this.hideNew();\r\n              this.onPage(0);\r\n            } else if (result.status === 401) {\r\n              this.$toast.add({\r\n                severity: \"error\",\r\n                summary: \"Error\",\r\n                detail: result.data,\r\n                life: 10000,\r\n              });\r\n            } else {\r\n              this.$toast.add({\r\n                severity: \"error\",\r\n                summary: \"Failed\",\r\n                detail: result.res,\r\n                life: 10000,\r\n              });\r\n            }\r\n          } else {\r\n            let result = await this.patientRegistrationService.put(\r\n              this.patientRegistration,\r\n              this\r\n            );\r\n            if (result.status === 202) {\r\n              this.$toast.add({\r\n                severity: \"success\",\r\n                summary: \"Success\",\r\n                detail: \"Updated Successfully\",\r\n                life: 10000,\r\n              });\r\n              this.hideNew();\r\n              this.onPage(0);\r\n            } else if (result.status === 401) {\r\n              this.$toast.add({\r\n                severity: \"error\",\r\n                summary: \"Error\",\r\n                detail: result.data,\r\n                life: 10000,\r\n              });\r\n            } else {\r\n              this.$toast.add({\r\n                severity: \"error\",\r\n                summary: \"Failed\",\r\n                detail: result.res,\r\n                life: 10000,\r\n              });\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Failed\",\r\n          detail: error,\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n    edit(obj) {\r\n      this.patientRegistration = Object.assign({}, obj);\r\n      // this.patientRegistration.cddob = moment(\r\n      //   String(this.patientRegistration.dob)\r\n      // ).format(\"YYYY-MM-DD\");\r\n      this.dataList = false;\r\n      this.newInfo = true;\r\n    },\r\n  },\r\n};"]}]}