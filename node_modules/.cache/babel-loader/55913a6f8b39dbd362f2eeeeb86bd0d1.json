{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\cash-counter\\PatientPayment.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\cash-counter\\PatientPayment.js","mtime":1666690300084},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\babel.config.js","mtime":1624271518206},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9FUlBfSG9zcGl0YWxfQ2xpZW50L3RydW5rL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IFBhdGllbnRQYXltZW50U2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL2Nhc2gtY291bnRlci9QYXRpZW50UGF5bWVudFNlcnZpY2UiOwppbXBvcnQgUGF0aWVudFJlcG9ydFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9yZXBvcnQvUGF0aWVudFJlcG9ydFNlcnZpY2UiOwppbXBvcnQgQ29tbW9uU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL0NvbW1vblNlcnZpY2UiOwppbXBvcnQgRG9jdG9yQXBwb2ludG1lbnRTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvZnJvbnQtZGVzay9Eb2N0b3JBcHBvaW50bWVudFNlcnZpY2UiOwppbXBvcnQgUGF5bWVudFR5cGVTZXR1cFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9zZXR1cC9QYXltZW50VHlwZVNldHVwU2VydmljZSI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IHsgRmlsdGVyTWF0Y2hNb2RlLCBGaWx0ZXJPcGVyYXRvciB9IGZyb20gInByaW1ldnVlL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNQYXltZW50OiB0cnVlLAogICAgICBhZGRMaXN0OiBmYWxzZSwKICAgICAgYnV0dG9uOiBmYWxzZSwKICAgICAgaXNDYXNoOiBmYWxzZSwKICAgICAgLy9pc1BhaWQ6ICIiLAogICAgICAvL2lzRHVlRXhpc3Q6ICIiLAogICAgICAvL2lzRXhpc3Q6ICIiLAogICAgICBwYXltZW50VHlwZUxpc3Q6IFtdLAogICAgICB0b3RhbFB0eUFtb3VudDogMCwKICAgICAgcGF0aWVudFBheW1lbnQ6IHsKICAgICAgICBjZHBheW1lbnRfZGF0ZTogbW9tZW50KFN0cmluZyhuZXcgRGF0ZSgpKSkuZm9ybWF0KCJNTS9ERC9ZWVlZIiksCiAgICAgICAgcHR5cGFpZF9hbW91bnQ6IDAsCiAgICAgICAgdG90YWxfYW1vdW50X2luZjogMCwKICAgICAgICBwYXltZW50VHlwZUNhc2g6ICIxIiwKICAgICAgICBpbnZvaWNlX2lkOiAiIiwKICAgICAgICBhUGF0aWVudDoge30sCiAgICAgICAgbHN0UGF0aWVudFBheW1lbnREZXRhaWxzOiBbXQogICAgICB9LAogICAgICBmaWx0ZXJzOiB7CiAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLkNPTlRBSU5TCiAgICAgICAgfSwKICAgICAgICBuYW1lOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLlNUQVJUU19XSVRICiAgICAgICAgfQogICAgICB9LAogICAgICBpbml0RmlsdGVyczogZnVuY3Rpb24gaW5pdEZpbHRlcnMoKSB7CiAgICAgICAgdGhpcy5maWx0ZXJzID0gewogICAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgICAgfSwKICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgb3BlcmF0b3I6IEZpbHRlck9wZXJhdG9yLkFORCwKICAgICAgICAgICAgY29uc3RyYWludHM6IFt7CiAgICAgICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuU1RBUlRTX1dJVEgKICAgICAgICAgICAgfV0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9LAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5wYXRpZW50UGF5bWVudFNlcnZpY2UgPSBuZXcgUGF0aWVudFBheW1lbnRTZXJ2aWNlKCk7CiAgICB0aGlzLmRvY3RvckFwcG9pbnRtZW50U2VydmljZSA9IG5ldyBEb2N0b3JBcHBvaW50bWVudFNlcnZpY2UoKTsKICAgIHRoaXMucGF5bWVudFR5cGVTZXR1cFNlcnZpY2UgPSBuZXcgUGF5bWVudFR5cGVTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMucGF0aWVudFJlcG9ydFNlcnZpY2UgPSBuZXcgUGF0aWVudFJlcG9ydFNlcnZpY2UoKTsKICAgIHRoaXMuY29tbW9uU2VydmljZSA9IG5ldyBDb21tb25TZXJ2aWNlKCk7CiAgICB0aGlzLnBheW1lbnRUeXBlU2V0dXBTZXJ2aWNlLmdldEFsbCgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIF90aGlzLnBheW1lbnRUeXBlTGlzdCA9IGRhdGEuZGF0YTsKICAgIH0pOwogICAgdmFyIGFwcG9pbnRtZW50X2lkX2Zvcl9wYXltZW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FwcG9pbnRtZW50X2lkX2Zvcl9wYXltZW50Jyk7CgogICAgaWYgKGFwcG9pbnRtZW50X2lkX2Zvcl9wYXltZW50KSB7CiAgICAgIHRoaXMucGF0aWVudFBheW1lbnQuYXBwb2lubWVudF9ubyA9IGFwcG9pbnRtZW50X2lkX2Zvcl9wYXltZW50OyAvL2xvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhcHBvaW50bWVudF9pZF9mb3JfcGF5bWVudCcpOwoKICAgICAgdGhpcy5maW5kQXBwb2lubWVudCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcHJpbnRBcHBvaW50bWVudFBheW1lbnQ6IGZ1bmN0aW9uIHByaW50QXBwb2ludG1lbnRQYXltZW50KElkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5wYXRpZW50UmVwb3J0U2VydmljZS5HZXRBcHBvaW50bWVudFBheW1lbnQoSWQsIHRoaXMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLmNvbW1vblNlcnZpY2UuRG93bmxvYWRmaWxlKGRhdGEuZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIHBheW1lbnRSZXNldDogZnVuY3Rpb24gcGF5bWVudFJlc2V0KCkgewogICAgICB0aGlzLmlzUGF5bWVudCA9IHRydWU7CiAgICAgIHRoaXMucGF0aWVudFBheW1lbnQuZGRsUGF5bWVudFR5cGUgPSAiIjsgLy90aGlzLmlzRXhpc3QgPSAiIjsKICAgIH0sCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuaXNQYXltZW50ID0gdHJ1ZTsKICAgICAgdGhpcy5hZGRMaXN0ID0gZmFsc2U7CiAgICAgIHRoaXMuYnV0dG9uID0gZmFsc2U7CiAgICAgIHRoaXMuaXNDYXNoID0gZmFsc2U7IC8vdGhpcy5pc0V4aXN0ID0gIiI7CiAgICAgIC8vdGhpcy5pc1BhaWQgPSAiIjsKCiAgICAgIHRoaXMudG90YWxQdHlBbW91bnQgPSAwOwogICAgICB0aGlzLnBhdGllbnRQYXltZW50ID0gewogICAgICAgIGNkcGF5bWVudF9kYXRlOiBtb21lbnQoU3RyaW5nKG5ldyBEYXRlKCkpKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgICBwdHlwYWlkX2Ftb3VudDogMCwKICAgICAgICBwYXltZW50VHlwZUNhc2g6ICIxIiwKICAgICAgICBjYXNoX3BhaWRfYW1vdW50OiAwLAogICAgICAgIGludm9pY2VfaWQ6ICIiLAogICAgICAgIGFQYXRpZW50OiB7fSwKICAgICAgICBsc3RQYXRpZW50UGF5bWVudERldGFpbHM6IFtdCiAgICAgIH07CiAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2U7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhcHBvaW50bWVudF9pZF9mb3JfcGF5bWVudCcpOwogICAgfSwKICAgIGZpbHRlclBheW1lbnRUeXBlOiBmdW5jdGlvbiBmaWx0ZXJQYXltZW50VHlwZSgpIHsKICAgICAgcmV0dXJuIHRoaXMucGF5bWVudFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gZWwucGF5bWVudF90eXBlX2lkICE9IDEgJiYgZWwuYWN0aXZlID09IHRydWU7CiAgICAgIH0sIHRoaXMpOwogICAgfSwKICAgIGdldEZvcm1hdHRlZDogZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkKGRhdGEpIHsKICAgICAgaWYgKGRhdGEuZHVlX2Ftb3VudCA9PSAwKSB7CiAgICAgICAgLy90aGlzLmlzRHVlRXhpc3QgPSAiTm90IGR1ZSEiOwogICAgICAgIHRoaXMuJHRvYXN0LmFkZCh7CiAgICAgICAgICBzZXZlcml0eTogIndhcm4iLAogICAgICAgICAgc3VtbWFyeTogIldhcm4gTWVzc2FnZSIsCiAgICAgICAgICBkZXRhaWw6ICJOb3QgZHVlISIsCiAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgIH0pOwogICAgICAgIHRoaXMucGF0aWVudFBheW1lbnQgPSB7CiAgICAgICAgICBwYXltZW50VHlwZUNhc2g6ICIxIiwKICAgICAgICAgIGludm9pY2VfaWQ6ICIiLAogICAgICAgICAgYVBhdGllbnQ6IHt9LAogICAgICAgICAgbHN0UGF0aWVudFBheW1lbnREZXRhaWxzOiBbXQogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy90aGlzLmlzRHVlRXhpc3QgPSAiIjsKICAgICAgICB0aGlzLnBhdGllbnRQYXltZW50Lmludm9pY2VfaWQgPSBkYXRhLmludm9pY2VfaWQ7CiAgICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC5hUGF0aWVudC5wYXRpZW50X2lkID0gZGF0YS5hUGF0aWVudC5wYXRpZW50X2lkOwogICAgICAgIHRoaXMucGF0aWVudFBheW1lbnQuYVBhdGllbnQuZmlyc3RfbmFtZSA9IGRhdGEuYVBhdGllbnQuZmlyc3RfbmFtZTsKICAgICAgICB0aGlzLnBhdGllbnRQYXltZW50LmFQYXRpZW50LmNvbnRhY3Rfbm8gPSBkYXRhLmFQYXRpZW50LmNvbnRhY3Rfbm87CiAgICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC5fZGVwYXJ0bWVudF9uYW1lID0gZGF0YS5fZGVwYXJ0bWVudF9uYW1lOwogICAgICAgIHRoaXMucGF0aWVudFBheW1lbnQuX2RvY3Rvcl9uYW1lID0gZGF0YS5fZG9jdG9yX25hbWU7CiAgICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC5jb25zdWx0YW5jeV9mZWUgPSBkYXRhLmNvbnN1bHRhbmN5X2ZlZTsKICAgICAgICB0aGlzLnBhdGllbnRQYXltZW50LnNlcmlhbF9ubyA9IGRhdGEuc2VyaWFsX25vOwogICAgICAgIHRoaXMucGF0aWVudFBheW1lbnQuX2J1aWxkaW5nX25hbWUgPSBkYXRhLl9idWlsZGluZ19uYW1lOwogICAgICAgIHRoaXMucGF0aWVudFBheW1lbnQuX3Jvb21fbmFtZSA9IGRhdGEuX3Jvb21fbmFtZTsKICAgICAgICB0aGlzLnBhdGllbnRQYXltZW50LnRvdGFsX2Ftb3VudCA9IGRhdGEudG90YWxfYW1vdW50OwogICAgICAgIHRoaXMucGF0aWVudFBheW1lbnQuY2FzaF9wYWlkX2Ftb3VudCA9IGRhdGEudG90YWxfYW1vdW50OwogICAgICAgIHRoaXMucGF0aWVudFBheW1lbnQucGFpZF9hbW91bnQgPSBkYXRhLnRvdGFsX2Ftb3VudDsKICAgICAgICB0aGlzLnBhdGllbnRQYXltZW50LnB0eXBhaWRfYW1vdW50ID0gZGF0YS50b3RhbF9hbW91bnQ7CiAgICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC5kaXNjb3VudF9wZXJjZW50ID0gMDsKICAgICAgICB0aGlzLnBhdGllbnRQYXltZW50LmRpc2NvdW50X2Ftb3VudCA9IDA7CiAgICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC5kaXNjb3VudF9yZWFzb24gPSBkYXRhLmRpc2NvdW50X3JlYXNvbjsKICAgICAgICB0aGlzLnBhdGllbnRQYXltZW50LmNkYXBwb2ludF9kYXRlID0gbW9tZW50KFN0cmluZyhkYXRhLmFwcG9pbnRfZGF0ZSkpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICB9CiAgICB9LAogICAgZmluZEFwcG9pbm1lbnQ6IGZ1bmN0aW9uIGZpbmRBcHBvaW5tZW50KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuZG9jdG9yQXBwb2ludG1lbnRTZXJ2aWNlLmdldEJ5SWQodGhpcy5wYXRpZW50UGF5bWVudC5hcHBvaW5tZW50X25vKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMy5nZXRGb3JtYXR0ZWQoZGF0YS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgcGF5bWVudFR5cGVJc0V4aXN0OiBmdW5jdGlvbiBwYXltZW50VHlwZUlzRXhpc3QoKSB7CiAgICAgIHZhciBhUGF5bWVudFR5cGUgPSB0aGlzLnBhdGllbnRQYXltZW50LmxzdFBhdGllbnRQYXltZW50RGV0YWlscy5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgcmV0dXJuIGVsLnBheW1lbnRfdHlwZV9pZCA9PT0gdGhpcy5wYXRpZW50UGF5bWVudC5kZGxQYXltZW50VHlwZS5wYXltZW50X3R5cGVfaWQ7CiAgICAgIH0sIHRoaXMpOwoKICAgICAgaWYgKGFQYXltZW50VHlwZS5sZW5ndGgpIHsKICAgICAgICAvL3RoaXMuaXNFeGlzdCA9ICJUaGlzIFBheW1lbnQgVHlwZSBhbHJlYWR5IGFkZGVkIjsKICAgICAgICB0aGlzLiR0b2FzdC5hZGQoewogICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICBzdW1tYXJ5OiAiRXJyb3IgTWVzc2FnZSIsCiAgICAgICAgICBkZXRhaWw6ICJUaGlzIFBheW1lbnQgVHlwZSBhbHJlYWR5IGFkZGVkIiwKICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5pc1BheW1lbnQgPSB0cnVlOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICAvL3RoaXMuaXNFeGlzdCA9ICIiOwogICAgICAgIHRoaXMuaXNQYXltZW50ID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBhZGRQYXltZW50VHlwZTogZnVuY3Rpb24gYWRkUGF5bWVudFR5cGUoKSB7CiAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKICAgICAgdmFyIGFQYXltZW50VHlwZSA9IHRoaXMucGF0aWVudFBheW1lbnQubHN0UGF0aWVudFBheW1lbnREZXRhaWxzLmZpbHRlcihmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gZWwucGF5bWVudF90eXBlX2lkID09PSB0aGlzLnBhdGllbnRQYXltZW50LmRkbFBheW1lbnRUeXBlLnBheW1lbnRfdHlwZV9pZDsKICAgICAgfSwgdGhpcyk7CgogICAgICBpZiAoYVBheW1lbnRUeXBlLmxlbmd0aCkgewogICAgICAgIC8vdGhpcy5pc0V4aXN0ID0gIlRoaXMgUGF5bWVudCBUeXBlIGFscmVhZHkgYWRkZWQiOwogICAgICAgIHRoaXMuJHRvYXN0LmFkZCh7CiAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgIHN1bW1hcnk6ICJFcnJvciBNZXNzYWdlIiwKICAgICAgICAgIGRldGFpbDogIlRoaXMgUGF5bWVudCBUeXBlIGFscmVhZHkgYWRkZWQiLAogICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICB9KTsgLy90aGlzLmlzUGF5bWVudCA9IHRydWU7CgogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIXRoaXMucGF0aWVudFBheW1lbnQuYVBhdGllbnQuZmlyc3RfbmFtZSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSBpZiAoIXRoaXMucGF0aWVudFBheW1lbnQuY2RwYXltZW50X2RhdGUpIHsKICAgICAgICAgIHRoaXMuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICBzdW1tYXJ5OiAiRXJyb3IgTWVzc2FnZSIsCiAgICAgICAgICAgIGRldGFpbDogIlBheW1lbnQgRGF0ZSBpcyByZXF1aXJlZCIsCiAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnBhdGllbnRQYXltZW50LmRkbFBheW1lbnRUeXBlKSB7CiAgICAgICAgICAvL3RoaXMuaXNFeGlzdCA9ICJQYXltZW50IFR5cGUgaXMgcmVxdWlyZWQuIjsKICAgICAgICAgIHRoaXMuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICBzdW1tYXJ5OiAiRXJyb3IgTWVzc2FnZSIsCiAgICAgICAgICAgIGRldGFpbDogIlBheW1lbnQgVHlwZSBpcyByZXF1aXJlZCIsCiAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGF0aWVudFBheW1lbnQucHR5cGFpZF9hbW91bnQgPD0gMCB8fCAhdGhpcy5wYXRpZW50UGF5bWVudC5wdHlwYWlkX2Ftb3VudCkgewogICAgICAgICAgLy90aGlzLmlzUGFpZCA9ICJOb24tQ2FzaCBQYWlkIEFtdCBpcyByZXF1aXJlZCI7CiAgICAgICAgICB0aGlzLiR0b2FzdC5hZGQoewogICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgc3VtbWFyeTogIkVycm9yIE1lc3NhZ2UiLAogICAgICAgICAgICBkZXRhaWw6ICJOb24tQ2FzaCBQYWlkIEFtdCBpcyByZXF1aXJlZCIsCiAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGF0aWVudFBheW1lbnQuY2FzaF9wYWlkX2Ftb3VudCA8PSAwIHx8IHRoaXMucGF0aWVudFBheW1lbnQuY2FzaF9wYWlkX2Ftb3VudCA8IHRoaXMucGF0aWVudFBheW1lbnQucHR5cGFpZF9hbW91bnQpIHsKICAgICAgICAgIC8vdGhpcy5pc1BhaWQgPSAiRXhjZWVkIGFtb3VudCEiOwogICAgICAgICAgdGhpcy4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgc2V2ZXJpdHk6ICJ3YXJuIiwKICAgICAgICAgICAgc3VtbWFyeTogIldhcm4gTWVzc2FnZSIsCiAgICAgICAgICAgIGRldGFpbDogIkV4Y2VlZCBhbW91bnQhIiwKICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvL3RoaXMuaXNFeGlzdCA9ICIiOwogICAgICAgICAgLy90aGlzLmlzUGFpZCA9ICIiOwogICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgcGF5bWVudF90eXBlX2lkOiB0aGlzLnBhdGllbnRQYXltZW50LmRkbFBheW1lbnRUeXBlLnBheW1lbnRfdHlwZV9pZCwKICAgICAgICAgICAgX3BheW1lbnRfdHlwZV9uYW1lOiB0aGlzLnBhdGllbnRQYXltZW50LmRkbFBheW1lbnRUeXBlLnBheW1lbnRfdHlwZV9uYW1lLAogICAgICAgICAgICBwYWlkX2Ftb3VudDogcGFyc2VJbnQodGhpcy5wYXRpZW50UGF5bWVudC5wdHlwYWlkX2Ftb3VudCkKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLnBhdGllbnRQYXltZW50LmxzdFBhdGllbnRQYXltZW50RGV0YWlscy5wdXNoKG9iaik7IC8vIHRoaXMudG90YWxQdHlBbW91bnQgPQogICAgICAgICAgLy8gICB0aGlzLnRvdGFsUHR5QW1vdW50ICsgcGFyc2VJbnQodGhpcy5wYXRpZW50UGF5bWVudC5wdHlwYWlkX2Ftb3VudCk7CiAgICAgICAgICAvLyB0aGlzLnBhdGllbnRQYXltZW50LmNhc2hfcGFpZF9hbW91bnQgPQogICAgICAgICAgLy8gICB0aGlzLnBhdGllbnRQYXltZW50LnRvdGFsX2Ftb3VudCAtIHRoaXMudG90YWxQdHlBbW91bnQ7CgogICAgICAgICAgdGhpcy5ncmlkU3VtKCk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmFkZExpc3QgPSB0cnVlOwogICAgICB0aGlzLmJ1dHRvbiA9IHRydWU7CiAgICB9LAogICAgZGVsZXRlRnJvbUxpc3Q6IGZ1bmN0aW9uIGRlbGV0ZUZyb21MaXN0KGRhdGEpIHsKICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC5sc3RQYXRpZW50UGF5bWVudERldGFpbHMgPSB0aGlzLnBhdGllbnRQYXltZW50LmxzdFBhdGllbnRQYXltZW50RGV0YWlscy5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgcmV0dXJuIGVsLnBheW1lbnRfdHlwZV9pZCAhPSBkYXRhLnBheW1lbnRfdHlwZV9pZDsKICAgICAgfSwgdGhpcyk7IC8vIHRoaXMucGF0aWVudFBheW1lbnQuY2FzaF9wYWlkX2Ftb3VudCA9CiAgICAgIC8vICAgdGhpcy5wYXRpZW50UGF5bWVudC5jYXNoX3BhaWRfYW1vdW50ICsgcGFyc2VJbnQoZGF0YS5wYWlkX2Ftb3VudCk7CgogICAgICBpZiAoIXRoaXMucGF0aWVudFBheW1lbnQubHN0UGF0aWVudFBheW1lbnREZXRhaWxzLmxlbmd0aCkgewogICAgICAgIHRoaXMuYWRkTGlzdCA9IGZhbHNlOwogICAgICAgIHRoaXMuYnV0dG9uID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIHRoaXMuZ3JpZFN1bSgpOwogICAgfSwKICAgIGdyaWRTdW06IGZ1bmN0aW9uIGdyaWRTdW0oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC50b3RhbF9hbW91bnRfaW5mID0gMDsKICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC5sc3RQYXRpZW50UGF5bWVudERldGFpbHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIF90aGlzNC5wYXRpZW50UGF5bWVudC50b3RhbF9hbW91bnRfaW5mICs9IGVsZW1lbnQucGFpZF9hbW91bnQ7CiAgICAgIH0pOwogICAgICB0aGlzLnBhdGllbnRQYXltZW50LmNhc2hfcGFpZF9hbW91bnQgPSB0aGlzLnBhdGllbnRQYXltZW50LnRvdGFsX2Ftb3VudCAtIHRoaXMucGF0aWVudFBheW1lbnQudG90YWxfYW1vdW50X2luZiAtIHRoaXMucGF0aWVudFBheW1lbnQuZGlzY291bnRfYW1vdW50OwogICAgfSwKICAgIGNhbGN1bGF0ZUNoYW5nZUFtb3VudDogZnVuY3Rpb24gY2FsY3VsYXRlQ2hhbmdlQW1vdW50KCkgewogICAgICBpZiAodGhpcy5wYXRpZW50UGF5bWVudC5jYXNoX2Ftb3VudC5sZW5ndGgpIHsKICAgICAgICB0aGlzLnBhdGllbnRQYXltZW50LmNoYW5nZV9hbW91bnQgPSB0aGlzLnBhdGllbnRQYXltZW50LmNhc2hfYW1vdW50IC0gdGhpcy5wYXRpZW50UGF5bWVudC5jYXNoX3BhaWRfYW1vdW50OwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucGF0aWVudFBheW1lbnQuY2hhbmdlX2Ftb3VudCA9IDA7CiAgICAgIH0KICAgIH0sCiAgICBnZXREaXNjb3VudFBlcmNlbnQ6IGZ1bmN0aW9uIGdldERpc2NvdW50UGVyY2VudCgpIHsKICAgICAgdGhpcy5wYXRpZW50UGF5bWVudC5kaXNjb3VudF9wZXJjZW50ID0gTWF0aC5jZWlsKHRoaXMucGF0aWVudFBheW1lbnQuZGlzY291bnRfYW1vdW50IC8gdGhpcy5wYXRpZW50UGF5bWVudC50b3RhbF9hbW91bnQgKiAxMDApOwogICAgICB0aGlzLmdyaWRTdW0oKTsKICAgIH0sCiAgICBnZXREaXNjb3VudEFtb3VudDogZnVuY3Rpb24gZ2V0RGlzY291bnRBbW91bnQoKSB7CiAgICAgIHRoaXMucGF0aWVudFBheW1lbnQuZGlzY291bnRfYW1vdW50ID0gdGhpcy5wYXRpZW50UGF5bWVudC50b3RhbF9hbW91bnQgKiB0aGlzLnBhdGllbnRQYXltZW50LmRpc2NvdW50X3BlcmNlbnQgLyAxMDA7CiAgICAgIHRoaXMuZ3JpZFN1bSgpOwogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3VsdCwgYXBwb2ludG1lbnRfaWRfZm9yX3BheW1lbnQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM1LnN1Ym1pdHRlZCA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LnBhdGllbnRQYXltZW50LmFQYXRpZW50LmZpcnN0X25hbWUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LnBhdGllbnRQYXltZW50LmNkcGF5bWVudF9kYXRlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM1LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkVycm9yIE1lc3NhZ2UiLAogICAgICAgICAgICAgICAgICBkZXRhaWw6ICJQYXltZW50IERhdGUgaXMgcmVxdWlyZWQiLAogICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LnBhdGllbnRQYXltZW50Lmludm9pY2VfaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIGlmICghKF90aGlzNS5wYXRpZW50UGF5bWVudC5jYXNoX3BhaWRfYW1vdW50IDw9IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM1LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkVycm9yIiwKICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiRW50ZXIgYW1vdW50ISIsCiAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF90aGlzNS5wYXRpZW50UGF5bWVudC5wYXltZW50X2RhdGUgPSBtb21lbnQoU3RyaW5nKF90aGlzNS5wYXRpZW50UGF5bWVudC5jZHBheW1lbnRfZGF0ZSkpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUucGF0aWVudFBheW1lbnQuY2FzaF9wYWlkX2Ftb3VudCA+IDAgJiYgIV90aGlzNS5pc0Nhc2gpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LnBhdGllbnRQYXltZW50LmxzdFBhdGllbnRQYXltZW50RGV0YWlscy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBwYXltZW50X3R5cGVfaWQ6IF90aGlzNS5wYXRpZW50UGF5bWVudC5wYXltZW50VHlwZUNhc2gsCiAgICAgICAgICAgICAgICAgICAgcGFpZF9hbW91bnQ6IF90aGlzNS5wYXRpZW50UGF5bWVudC5jYXNoX3BhaWRfYW1vdW50CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXM1LmlzQ2FzaCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM1LnBhdGllbnRQYXltZW50LnBhaWRfYW1vdW50ID0gcGFyc2VJbnQoX3RoaXM1LnBhdGllbnRQYXltZW50LmNhc2hfcGFpZF9hbW91bnQpICsgcGFyc2VJbnQoX3RoaXM1LnBhdGllbnRQYXltZW50LnRvdGFsX2Ftb3VudF9pbmYpOwogICAgICAgICAgICAgICAgX3RoaXM1LnBhdGllbnRQYXltZW50LmRpc2NvdW50X2Ftb3VudCA9IF90aGlzNS5wYXRpZW50UGF5bWVudC5kaXNjb3VudF9hbW91bnQgPT0gIiIgPyAwIDogX3RoaXM1LnBhdGllbnRQYXltZW50LmRpc2NvdW50X2Ftb3VudDsKICAgICAgICAgICAgICAgIF90aGlzNS5wYXRpZW50UGF5bWVudC5kaXNjb3VudF9wZXJjZW50ID0gX3RoaXM1LnBhdGllbnRQYXltZW50LmRpc2NvdW50X3BlcmNlbnQgPT0gIiIgPyAwIDogX3RoaXM1LnBhdGllbnRQYXltZW50LmRpc2NvdW50X3BlcmNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LnBhdGllbnRQYXltZW50U2VydmljZS5hZGQoX3RoaXM1LnBhdGllbnRQYXltZW50LCBfdGhpczUpOwoKICAgICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6ICJTYXZlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXM1LnByaW50QXBwb2ludG1lbnRQYXltZW50KHJlc3VsdC5kYXRhKTsKCiAgICAgICAgICAgICAgICAgIGFwcG9pbnRtZW50X2lkX2Zvcl9wYXltZW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FwcG9pbnRtZW50X2lkX2Zvcl9wYXltZW50Jyk7CgogICAgICAgICAgICAgICAgICBpZiAoYXBwb2ludG1lbnRfaWRfZm9yX3BheW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXBwb2ludG1lbnRfaWRfZm9yX3BheW1lbnQnKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXM1LiRyb3V0ZXIucHVzaCgiL3BhdGllbnQtZG9jdG9yLWFwcG9pbnRtZW50Iik7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzNS5yZXNldCgpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuc3RhdHVzID09PSA0MDEpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJFcnJvciIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQuZGF0YSwKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRmFpbGVkIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHJlc3VsdC5yZXMsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczUucmVzZXQoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDMxOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKCiAgICAgICAgICAgICAgICBfdGhpczUuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRmFpbGVkIiwKICAgICAgICAgICAgICAgICAgZGV0YWlsOiBfY29udGV4dC50MCwKICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF90aGlzNS5yZXNldCgpOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCAzMV1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/cash-counter/PatientPayment.js"],"names":["PatientPaymentService","PatientReportService","CommonService","DoctorAppointmentService","PaymentTypeSetupService","moment","FilterMatchMode","FilterOperator","data","isPayment","addList","button","isCash","paymentTypeList","totalPtyAmount","patientPayment","cdpayment_date","String","Date","format","ptypaid_amount","total_amount_inf","paymentTypeCash","invoice_id","aPatient","lstPatientPaymentDetails","filters","global","value","matchMode","CONTAINS","name","STARTS_WITH","initFilters","operator","AND","constraints","submitted","created","patientPaymentService","doctorAppointmentService","paymentTypeSetupService","patientReportService","commonService","getAll","then","appointment_id_for_payment","localStorage","getItem","appoinment_no","findAppoinment","methods","printAppointmentPayment","Id","GetAppointmentPayment","Downloadfile","paymentReset","ddlPaymentType","reset","cash_paid_amount","removeItem","filterPaymentType","filter","el","payment_type_id","active","getFormatted","due_amount","$toast","add","severity","summary","detail","life","patient_id","first_name","contact_no","_department_name","_doctor_name","consultancy_fee","serial_no","_building_name","_room_name","total_amount","paid_amount","discount_percent","discount_amount","discount_reason","cdappoint_date","appoint_date","getById","paymentTypeIsExist","aPaymentType","length","addPaymentType","obj","_payment_type_name","payment_type_name","parseInt","push","gridSum","deleteFromList","forEach","element","calculateChangeAmount","cash_amount","change_amount","getDiscountPercent","Math","ceil","getDiscountAmount","payment_date","result","status","$router","res"],"mappings":"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","sourcesContent":["import PatientPaymentService from \"../../service/cash-counter/PatientPaymentService\";\r\nimport PatientReportService from \"../../service/report/PatientReportService\";\r\nimport CommonService from \"../../service/CommonService\";\r\nimport DoctorAppointmentService from \"../../service/front-desk/DoctorAppointmentService\";\r\nimport PaymentTypeSetupService from \"../../service/setup/PaymentTypeSetupService\";\r\nimport moment from \"moment\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      isPayment: true,\r\n      addList: false,\r\n      button: false,\r\n      isCash: false,\r\n      //isPaid: \"\",\r\n      //isDueExist: \"\",\r\n      //isExist: \"\",\r\n      paymentTypeList: [],\r\n      totalPtyAmount: 0,\r\n      patientPayment: {\r\n        cdpayment_date: moment(String(new Date())).format(\r\n          \"MM/DD/YYYY\"\r\n        ),\r\n        ptypaid_amount: 0,\r\n        total_amount_inf: 0,\r\n        paymentTypeCash: \"1\",\r\n        invoice_id: \"\",\r\n        aPatient: {},\r\n        lstPatientPaymentDetails: [],\r\n      },\r\n      filters: {\r\n        global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        name: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      initFilters() {\r\n        this.filters = {\r\n          global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n          name: {\r\n            operator: FilterOperator.AND,\r\n            constraints: [\r\n              { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            ],\r\n          },\r\n        };\r\n      },\r\n      submitted: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.patientPaymentService = new PatientPaymentService();\r\n    this.doctorAppointmentService = new DoctorAppointmentService();\r\n    this.paymentTypeSetupService = new PaymentTypeSetupService();\r\n    this.patientReportService = new PatientReportService();\r\n    this.commonService = new CommonService();\r\n\r\n    this.paymentTypeSetupService\r\n      .getAll()\r\n      .then((data) => (this.paymentTypeList = data.data));\r\n\r\n      var appointment_id_for_payment = localStorage.getItem('appointment_id_for_payment');\r\n      if (appointment_id_for_payment) {\r\n        this.patientPayment.appoinment_no = appointment_id_for_payment;\r\n        //localStorage.removeItem('appointment_id_for_payment');\r\n        this.findAppoinment();\r\n      }\r\n\r\n  },\r\n  methods: {\r\n    printAppointmentPayment(Id){\r\n      this.patientReportService.GetAppointmentPayment(Id, this).then((data) => (this.commonService.Downloadfile(data.data)));\r\n    },\r\n    paymentReset() {\r\n      this.isPayment = true;\r\n      this.patientPayment.ddlPaymentType = \"\";\r\n      //this.isExist = \"\";\r\n    },\r\n    reset() {\r\n      this.isPayment = true;\r\n      this.addList = false;\r\n      this.button = false;\r\n      this.isCash = false;\r\n      //this.isExist = \"\";\r\n      //this.isPaid = \"\";\r\n      this.totalPtyAmount = 0;\r\n      this.patientPayment = {\r\n        cdpayment_date: moment(String(new Date())).format(\r\n          \"MM/DD/YYYY\"\r\n        ),\r\n        ptypaid_amount: 0,\r\n        paymentTypeCash: \"1\",\r\n        cash_paid_amount: 0,\r\n        invoice_id: \"\",\r\n        aPatient: {},\r\n        lstPatientPaymentDetails: [],\r\n      };\r\n      this.submitted = false;\r\n      \r\n      localStorage.removeItem('appointment_id_for_payment');\r\n    },\r\n    filterPaymentType() {\r\n      return this.paymentTypeList.filter(function (el) {\r\n        return el.payment_type_id != 1 && el.active == true;\r\n      }, this);\r\n    },\r\n    getFormatted(data) {\r\n      if (data.due_amount == 0) {\r\n        //this.isDueExist = \"Not due!\";\r\n        this.$toast.add({\r\n          severity: \"warn\",\r\n          summary: \"Warn Message\",\r\n          detail: \"Not due!\",\r\n          life: 10000,\r\n        });\r\n\r\n        this.patientPayment = {\r\n          paymentTypeCash: \"1\",\r\n          invoice_id: \"\",\r\n          aPatient: {},\r\n          lstPatientPaymentDetails: [],\r\n        };\r\n      } else {\r\n        //this.isDueExist = \"\";\r\n        this.patientPayment.invoice_id = data.invoice_id;\r\n        this.patientPayment.aPatient.patient_id = data.aPatient.patient_id;\r\n        this.patientPayment.aPatient.first_name = data.aPatient.first_name;\r\n        this.patientPayment.aPatient.contact_no = data.aPatient.contact_no;\r\n        this.patientPayment._department_name = data._department_name;\r\n        this.patientPayment._doctor_name = data._doctor_name;\r\n        this.patientPayment.consultancy_fee = data.consultancy_fee;\r\n        this.patientPayment.serial_no = data.serial_no;\r\n        this.patientPayment._building_name = data._building_name;\r\n        this.patientPayment._room_name = data._room_name;\r\n        this.patientPayment.total_amount = data.total_amount;\r\n        this.patientPayment.cash_paid_amount = data.total_amount;\r\n        this.patientPayment.paid_amount = data.total_amount;\r\n        this.patientPayment.ptypaid_amount = data.total_amount;\r\n        this.patientPayment.discount_percent = 0;\r\n        this.patientPayment.discount_amount = 0;\r\n        this.patientPayment.discount_reason = data.discount_reason;\r\n\r\n        this.patientPayment.cdappoint_date = moment(\r\n          String(data.appoint_date)\r\n        ).format(\"YYYY-MM-DD\");\r\n      }\r\n    },\r\n    findAppoinment() {\r\n      this.doctorAppointmentService\r\n        .getById(this.patientPayment.appoinment_no)\r\n        .then((data) => this.getFormatted(data.data));\r\n    },\r\n\r\n    paymentTypeIsExist() {\r\n      var aPaymentType = this.patientPayment.lstPatientPaymentDetails.filter(\r\n        function (el) {\r\n          return (\r\n            el.payment_type_id ===\r\n            this.patientPayment.ddlPaymentType.payment_type_id\r\n          );\r\n        },\r\n        this\r\n      );\r\n\r\n      if (aPaymentType.length) {\r\n        //this.isExist = \"This Payment Type already added\";\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Error Message\",\r\n          detail: \"This Payment Type already added\",\r\n          life: 10000,\r\n        });\r\n        this.isPayment = true;\r\n        return;\r\n      } else {\r\n        //this.isExist = \"\";\r\n        this.isPayment = false;\r\n      }\r\n    },\r\n    addPaymentType() {\r\n      this.submitted = true;\r\n      var aPaymentType = this.patientPayment.lstPatientPaymentDetails.filter(\r\n        function (el) {\r\n          return (\r\n            el.payment_type_id ===\r\n            this.patientPayment.ddlPaymentType.payment_type_id\r\n          );\r\n        },\r\n        this\r\n      );\r\n\r\n      if (aPaymentType.length) {\r\n        //this.isExist = \"This Payment Type already added\";\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Error Message\",\r\n          detail: \"This Payment Type already added\",\r\n          life: 10000,\r\n        });\r\n        //this.isPayment = true;\r\n        return;\r\n      } else {\r\n        if (!this.patientPayment.aPatient.first_name) {\r\n          return;\r\n        } else if (!this.patientPayment.cdpayment_date) {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Error Message\",\r\n            detail: \"Payment Date is required\",\r\n            life: 10000,\r\n          });\r\n          return;\r\n        } else if (!this.patientPayment.ddlPaymentType) {\r\n          //this.isExist = \"Payment Type is required.\";\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Error Message\",\r\n            detail: \"Payment Type is required\",\r\n            life: 10000,\r\n          });\r\n          return;\r\n        } else if (\r\n          this.patientPayment.ptypaid_amount <= 0 ||\r\n          !this.patientPayment.ptypaid_amount\r\n        ) {\r\n          //this.isPaid = \"Non-Cash Paid Amt is required\";\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Error Message\",\r\n            detail: \"Non-Cash Paid Amt is required\",\r\n            life: 10000,\r\n          });\r\n          return;\r\n        } else if (this.patientPayment.cash_paid_amount <= 0 || this.patientPayment.cash_paid_amount < this.patientPayment.ptypaid_amount) {\r\n          //this.isPaid = \"Exceed amount!\";\r\n          this.$toast.add({\r\n            severity: \"warn\",\r\n            summary: \"Warn Message\",\r\n            detail: \"Exceed amount!\",\r\n            life: 10000,\r\n          });\r\n          return;\r\n        } else {\r\n          //this.isExist = \"\";\r\n          //this.isPaid = \"\";\r\n\r\n          var obj = {\r\n            payment_type_id: this.patientPayment.ddlPaymentType.payment_type_id,\r\n            _payment_type_name:\r\n              this.patientPayment.ddlPaymentType.payment_type_name,\r\n\r\n            paid_amount: parseInt(this.patientPayment.ptypaid_amount),\r\n          };\r\n\r\n          this.patientPayment.lstPatientPaymentDetails.push(obj);\r\n\r\n          // this.totalPtyAmount =\r\n          //   this.totalPtyAmount + parseInt(this.patientPayment.ptypaid_amount);\r\n\r\n          // this.patientPayment.cash_paid_amount =\r\n          //   this.patientPayment.total_amount - this.totalPtyAmount;\r\n          this.gridSum();\r\n        }\r\n      }\r\n\r\n      this.addList = true;\r\n      this.button = true;\r\n    },\r\n\r\n    deleteFromList(data) {\r\n      this.patientPayment.lstPatientPaymentDetails =\r\n        this.patientPayment.lstPatientPaymentDetails.filter(function (el) {\r\n          return el.payment_type_id != data.payment_type_id;\r\n        }, this);\r\n\r\n      // this.patientPayment.cash_paid_amount =\r\n      //   this.patientPayment.cash_paid_amount + parseInt(data.paid_amount);\r\n\r\n      if (!this.patientPayment.lstPatientPaymentDetails.length) {\r\n        this.addList = false;\r\n        this.button = false;\r\n      }\r\n      this.gridSum();\r\n    },\r\n    gridSum() {\r\n      this.patientPayment.total_amount_inf = 0;\r\n      this.patientPayment.lstPatientPaymentDetails.forEach((element) => {\r\n        this.patientPayment.total_amount_inf += element.paid_amount;\r\n      });\r\n      this.patientPayment.cash_paid_amount =\r\n        this.patientPayment.total_amount - this.patientPayment.total_amount_inf - this.patientPayment.discount_amount;\r\n    },\r\n    calculateChangeAmount() {\r\n      if (this.patientPayment.cash_amount.length) {\r\n        this.patientPayment.change_amount =\r\n          this.patientPayment.cash_amount -\r\n          this.patientPayment.cash_paid_amount;\r\n      } else {\r\n        this.patientPayment.change_amount = 0;\r\n      }\r\n    },\r\n    getDiscountPercent() {\r\n      this.patientPayment.discount_percent = Math.ceil(\r\n        (this.patientPayment.discount_amount /\r\n          this.patientPayment.total_amount) *\r\n        100);\r\n\r\n      this.gridSum();\r\n    },\r\n    getDiscountAmount() {\r\n      this.patientPayment.discount_amount =\r\n        (this.patientPayment.total_amount *\r\n          this.patientPayment.discount_percent) /\r\n        100;\r\n\r\n      this.gridSum();\r\n    },\r\n    async add() {\r\n      this.submitted = true;\r\n      try {\r\n        if (!this.patientPayment.aPatient.first_name) {\r\n          return;\r\n        } else if (!this.patientPayment.cdpayment_date) {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Error Message\",\r\n            detail: \"Payment Date is required\",\r\n            life: 10000,\r\n          });\r\n          return;\r\n        } else if (!this.patientPayment.invoice_id) {\r\n          return;\r\n        } else if (this.patientPayment.cash_paid_amount <= 0) {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Error\",\r\n            detail: \"Enter amount!\",\r\n            life: 10000,\r\n          });\r\n          return;\r\n        } else {\r\n          this.patientPayment.payment_date = moment(\r\n            String(this.patientPayment.cdpayment_date)\r\n          ).format(\"YYYY-MM-DD\");\r\n\r\n          if (this.patientPayment.cash_paid_amount > 0 && !this.isCash) {\r\n            this.patientPayment.lstPatientPaymentDetails.push({\r\n              payment_type_id: this.patientPayment.paymentTypeCash,\r\n\r\n              paid_amount: this.patientPayment.cash_paid_amount,\r\n            });\r\n\r\n            this.isCash = true;\r\n          }\r\n          this.patientPayment.paid_amount =\r\n            parseInt(this.patientPayment.cash_paid_amount) +\r\n            parseInt(this.patientPayment.total_amount_inf);\r\n          this.patientPayment.discount_amount = this.patientPayment.discount_amount == \"\" ? 0 : this.patientPayment.discount_amount;\r\n          this.patientPayment.discount_percent = this.patientPayment.discount_percent == \"\" ? 0 : this.patientPayment.discount_percent;\r\n\r\n          let result = await this.patientPaymentService.add(\r\n            this.patientPayment, this\r\n          );\r\n          if (result.status === 200) {\r\n            this.$toast.add({\r\n              severity: \"success\",\r\n              summary: \"Success\",\r\n              detail: \"Saved Successfully\",\r\n              life: 10000,\r\n            });\r\n\r\n            this.printAppointmentPayment(result.data);\r\n            var appointment_id_for_payment = localStorage.getItem('appointment_id_for_payment');\r\n            if (appointment_id_for_payment) {\r\n              localStorage.removeItem('appointment_id_for_payment');\r\n              this.$router.push(\"/patient-doctor-appointment\");\r\n            }\r\n\r\n            this.reset();\r\n          } else if (result.status === 401) {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Error\",\r\n              detail: result.data,\r\n              life: 10000,\r\n            });\r\n          } else {\r\n            this.$toast.add({\r\n              severity: \"error\",\r\n              summary: \"Failed\",\r\n              detail: result.res,\r\n              life: 10000,\r\n            });\r\n            this.reset();\r\n          }\r\n        }\r\n      } catch (error) {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Failed\",\r\n          detail: error,\r\n          life: 10000,\r\n        });\r\n        this.reset();\r\n      }\r\n    },\r\n  },\r\n};"]}]}