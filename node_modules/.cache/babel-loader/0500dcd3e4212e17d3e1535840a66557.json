{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\reports\\PatientAppointmentReport.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\reports\\PatientAppointmentReport.js","mtime":1662891097274},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\babel.config.js","mtime":1624271518206},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBQYXRpZW50UmVwb3J0U2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL3JlcG9ydC9QYXRpZW50UmVwb3J0U2VydmljZSI7CmltcG9ydCBDb25zdWx0YW5jeURlcGFydG1lbnRTZXR1cFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9zZXR1cC9Db25zdWx0YW5jeURlcGFydG1lbnRTZXR1cFNlcnZpY2UiOwppbXBvcnQgRG9jdG9yU2V0dXBTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2Uvc2V0dXAvRG9jdG9yU2V0dXBTZXJ2aWNlIjsKaW1wb3J0IENvbW1vblNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9Db21tb25TZXJ2aWNlIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRlcGFydG1lbnRMaXN0OiBbXSwKICAgICAgZG9jdG9yTGlzdDogW10sCiAgICAgIHBhdGllbnRBcHBvaW50bWVudDogewogICAgICAgIGNkZnJvbWRhdGU6IG1vbWVudChTdHJpbmcobmV3IERhdGUobmV3IERhdGUoKS5zZXREYXRlKG5ldyBEYXRlKCkuZ2V0RGF0ZSgpIC0gNykpKSkuZm9ybWF0KCJNTS9ERC9ZWVlZIiksCiAgICAgICAgY2R0b2RhdGU6IG1vbWVudChTdHJpbmcobmV3IERhdGUoKSkpLmZvcm1hdCgiTU0vREQvWVlZWSIpLAogICAgICAgIGdlbmRlcjogIkFsbCIKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMucGF0aWVudFJlcG9ydFNlcnZpY2UgPSBuZXcgUGF0aWVudFJlcG9ydFNlcnZpY2UoKTsKICAgIHRoaXMuZG9jdG9yU2V0dXBTZXJ2aWNlID0gbmV3IERvY3RvclNldHVwU2VydmljZSgpOwogICAgdGhpcy5jb25zdWx0YW5jeURlcGFydG1lbnRTZXR1cFNlcnZpY2UgPSBuZXcgQ29uc3VsdGFuY3lEZXBhcnRtZW50U2V0dXBTZXJ2aWNlKCk7CiAgICB0aGlzLmNvbW1vblNlcnZpY2UgPSBuZXcgQ29tbW9uU2VydmljZSgpOwogICAgdGhpcy5jb25zdWx0YW5jeURlcGFydG1lbnRTZXR1cFNlcnZpY2UuZ2V0QWN0aXZlQ29tYm8oKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5kZXBhcnRtZW50TGlzdCA9IGRhdGEuZGF0YTsKICAgIH0pOyAvLyB0aGlzLmRvY3RvclNldHVwU2VydmljZQogICAgLy8gICAgIC5nZXRBY3RpdmVDb21ibygpCiAgICAvLyAgICAgLnRoZW4oKGRhdGEpID0+ICh0aGlzLmRvY3Rvckxpc3QgPSBkYXRhLmRhdGEpKTsKCiAgICB0aGlzLmRvY3RvclNldHVwU2VydmljZS5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5tZXJnZURvY3RvckluZm8oZGF0YS5kYXRhKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZmlsdGVyRG9jdG9yc0RlcGFydG1lbnRXaXNlOiBmdW5jdGlvbiBmaWx0ZXJEb2N0b3JzRGVwYXJ0bWVudFdpc2UoKSB7CiAgICAgIHJldHVybiB0aGlzLmRvY3Rvckxpc3QuZmlsdGVyKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5yZWZpZCA9PT0gdGhpcy5wYXRpZW50QXBwb2ludG1lbnQuZGVwYXJ0bWVudF9pZDsKICAgICAgfSwgdGhpcyk7CiAgICB9LAogICAgbWVyZ2VEb2N0b3JJbmZvOiBmdW5jdGlvbiBtZXJnZURvY3RvckluZm8oZGF0YSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIHZhciBvYmogPSBlbGVtZW50OwogICAgICAgIG9iai5kb2N0b3JfZGVncmVlID0gIiI7CiAgICAgICAgb2JqLmxzdENvbnN1bHRhbnREZWdyZWUuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgIG9iai5kb2N0b3JfZGVncmVlICs9IGVsLmNvbnN1bHRhbnRfZGVncmVlX25hbWUgKyAiLiAiOwogICAgICAgIH0pOwogICAgICAgIG9iai5kb2N0b3JfbmFtZSA9IGVsZW1lbnQuZG9jX25vICsgIiAtICgiICsgb2JqLmRvY3Rvcl9kZWdyZWUgKyAiKSAtICIgKyBlbGVtZW50LmRvY3Rvcl9uYW1lOwoKICAgICAgICBfdGhpczIuZG9jdG9yTGlzdC5wdXNoKG9iaik7CiAgICAgIH0pOwogICAgfSwKICAgIGZpbHRlckRvY3RvcnNEZXBhcnRtZW50V2lzZTI6IGZ1bmN0aW9uIGZpbHRlckRvY3RvcnNEZXBhcnRtZW50V2lzZTIoKSB7CiAgICAgIHJldHVybiB0aGlzLmRvY3Rvckxpc3QuZmlsdGVyKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5kZXBhcnRtZW50X2lkID09PSB0aGlzLnBhdGllbnRBcHBvaW50bWVudC5kZXBhcnRtZW50X2lkOwogICAgICB9LCB0aGlzKTsKICAgIH0sCiAgICBzaG93OiBmdW5jdGlvbiBzaG93KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKCiAgICAgIGlmICghdGhpcy5wYXRpZW50QXBwb2ludG1lbnQuY2Rmcm9tZGF0ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICghdGhpcy5wYXRpZW50QXBwb2ludG1lbnQuY2R0b2RhdGUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wYXRpZW50QXBwb2ludG1lbnQuZnJvbWRhdGUgPSBtb21lbnQoU3RyaW5nKHRoaXMucGF0aWVudEFwcG9pbnRtZW50LmNkZnJvbWRhdGUpKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgICB0aGlzLnBhdGllbnRBcHBvaW50bWVudC50b2RhdGUgPSBtb21lbnQoU3RyaW5nKHRoaXMucGF0aWVudEFwcG9pbnRtZW50LmNkdG9kYXRlKSkuZm9ybWF0KCJZWVlZLU1NLUREIik7CgogICAgICAgIGlmICghdGhpcy5wYXRpZW50QXBwb2ludG1lbnQuZGVwYXJ0bWVudF9pZCkgewogICAgICAgICAgdGhpcy5wYXRpZW50QXBwb2ludG1lbnQuZGVwYXJ0bWVudF9pZCA9ICJBbGwiOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF0aGlzLnBhdGllbnRBcHBvaW50bWVudC5kb2N0b3JfaWQpIHsKICAgICAgICAgIHRoaXMucGF0aWVudEFwcG9pbnRtZW50LmRvY3Rvcl9pZCA9ICJBbGwiOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5wYXRpZW50UmVwb3J0U2VydmljZS5HZXRBcHBvaW50bWVudExpc3QodGhpcy5wYXRpZW50QXBwb2ludG1lbnQuZnJvbWRhdGUsIHRoaXMucGF0aWVudEFwcG9pbnRtZW50LnRvZGF0ZSwgdGhpcy5wYXRpZW50QXBwb2ludG1lbnQuZGVwYXJ0bWVudF9pZCwgdGhpcy5wYXRpZW50QXBwb2ludG1lbnQuZG9jdG9yX2lkLCB0aGlzLnBhdGllbnRBcHBvaW50bWVudC5nZW5kZXIsIHRoaXMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBfdGhpczMuY29tbW9uU2VydmljZS5Eb3dubG9hZGZpbGUoZGF0YS5kYXRhKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/reports/PatientAppointmentReport.js"],"names":["PatientReportService","ConsultancyDepartmentSetupService","DoctorSetupService","CommonService","moment","data","departmentList","doctorList","patientAppointment","cdfromdate","String","Date","setDate","getDate","format","cdtodate","gender","created","patientReportService","doctorSetupService","consultancyDepartmentSetupService","commonService","getActiveCombo","then","getAll","mergeDoctorInfo","methods","filterDoctorsDepartmentWise","filter","el","refid","department_id","forEach","element","obj","doctor_degree","lstConsultantDegree","consultant_degree_name","doctor_name","doc_no","push","filterDoctorsDepartmentWise2","show","submitted","fromdate","todate","doctor_id","GetAppointmentList","Downloadfile"],"mappings":"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","sourcesContent":["import PatientReportService from \"../../service/report/PatientReportService\";\r\nimport ConsultancyDepartmentSetupService from \"../../service/setup/ConsultancyDepartmentSetupService\";\r\nimport DoctorSetupService from \"../../service/setup/DoctorSetupService\";\r\nimport CommonService from \"../../service/CommonService\";\r\nimport moment from \"moment\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            departmentList: [],\r\n            doctorList: [],\r\n            patientAppointment: {\r\n                cdfromdate: moment(\r\n                    String(new Date(new Date().setDate(new Date().getDate() - 7)))\r\n                ).format(\"MM/DD/YYYY\"),\r\n                cdtodate: moment(String(new Date())).format(\"MM/DD/YYYY\"),\r\n                gender: \"All\"\r\n            }\r\n        };\r\n    },\r\n    created() {\r\n        this.patientReportService = new PatientReportService();\r\n        this.doctorSetupService =\r\n            new DoctorSetupService();\r\n        this.consultancyDepartmentSetupService = new ConsultancyDepartmentSetupService();\r\n        this.commonService = new CommonService();\r\n\r\n        this.consultancyDepartmentSetupService\r\n            .getActiveCombo()\r\n            .then((data) => (this.departmentList = data.data));\r\n        // this.doctorSetupService\r\n        //     .getActiveCombo()\r\n        //     .then((data) => (this.doctorList = data.data));\r\n        this.doctorSetupService\r\n            .getAll()\r\n            .then((data) => this.mergeDoctorInfo(data.data));\r\n    },\r\n    methods: {\r\n        filterDoctorsDepartmentWise() {\r\n            return this.doctorList.filter(function (el) {\r\n              return el.refid === this.patientAppointment.department_id;\r\n            }, this);\r\n          },\r\n\r\n          mergeDoctorInfo(data) {\r\n            data.forEach((element) => {\r\n              var obj = element;\r\n              obj.doctor_degree = \"\";\r\n              obj.lstConsultantDegree.forEach((el) => {\r\n                obj.doctor_degree += el.consultant_degree_name + \". \";\r\n              });\r\n      \r\n              obj.doctor_name = element.doc_no + \" - (\" + obj.doctor_degree + \") - \" + element.doctor_name;\r\n              this.doctorList.push(obj);\r\n            });\r\n          },\r\n        filterDoctorsDepartmentWise2() {\r\n            return this.doctorList.filter(function (el) {\r\n              return el.department_id === this.patientAppointment.department_id;\r\n            }, this);\r\n          },\r\n        show() {\r\n            this.submitted = true;\r\n            if (!this.patientAppointment.cdfromdate) {\r\n                return;\r\n            } else if (!this.patientAppointment.cdtodate) {\r\n                return;\r\n            } else {\r\n                this.patientAppointment.fromdate = moment(\r\n                    String(this.patientAppointment.cdfromdate)\r\n                ).format(\"YYYY-MM-DD\");\r\n                this.patientAppointment.todate = moment(\r\n                    String(this.patientAppointment.cdtodate)\r\n                ).format(\"YYYY-MM-DD\");\r\n\r\n                if (!this.patientAppointment.department_id) {\r\n                    this.patientAppointment.department_id = \"All\"\r\n                }\r\n                if (!this.patientAppointment.doctor_id) {\r\n                    this.patientAppointment.doctor_id = \"All\"\r\n                }\r\n\r\n                this.patientReportService.GetAppointmentList(this.patientAppointment.fromdate, this.patientAppointment.todate, this.patientAppointment.department_id, this.patientAppointment.doctor_id, this.patientAppointment.gender, this).then((data) => (this.commonService.Downloadfile(data.data)));\r\n                this.submitted = false;\r\n            }\r\n        }\r\n    },\r\n};"]}]}