{"remainingRequest":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\src\\scripts\\front-desk\\PatientRegistration.js","dependencies":[{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\src\\scripts\\front-desk\\PatientRegistration.js","mtime":1640498582584},{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\SVN PROJECTS\\DiagnosticCenterManagement_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9EaWFnbm9zdGljQ2VudGVyTWFuYWdlbWVudF9DbGllbnQvdHJ1bmsvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKaW1wb3J0IFBhdGllbnRSZWdpc3RyYXRpb25TZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvZnJvbnQtZGVzay9QYXRpZW50UmVnaXN0cmF0aW9uU2VydmljZSI7CmltcG9ydCBQYXRpZW50UmVwb3J0U2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL3JlcG9ydC9QYXRpZW50UmVwb3J0U2VydmljZSI7CmltcG9ydCBDb21tb25TZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvQ29tbW9uU2VydmljZSI7CmltcG9ydCBWYWxpZGF0aW9uIGZyb20gIi4uLy4uL3NjcmlwdHMvdmFsaWRhdGlvbiI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IHsgRmlsdGVyTWF0Y2hNb2RlLCBGaWx0ZXJPcGVyYXRvciB9IGZyb20gInByaW1ldnVlL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFnZTogMTAwLAogICAgICBpc0NvbnRhY3RFeGlzdDogIiIsCiAgICAgIGlzVmFsaWQ6ICIiLAogICAgICBpc0VtYWlsVmFsaWQ6ICIiLAogICAgICBuZXdJbmZvOiBmYWxzZSwKICAgICAgZGF0YUxpc3Q6IHRydWUsCiAgICAgIHJlbGF0aW9uTGlzdDogW10sCiAgICAgIGJsb29kR3JvdXBMaXN0OiBbXSwKICAgICAgZ2VuZGVyTGlzdDogW10sCiAgICAgIHBhdGllbnRSZWdpc3RyYXRpb25MaXN0OiBbXSwKICAgICAgcGF0aWVudFJlZ2lzdHJhdGlvbjogewogICAgICAgIGFnZV95ZWFyOiAiMCIsCiAgICAgICAgYWdlX21vbnRoOiAiMCIsCiAgICAgICAgYWdlX2RheTogIjAiCiAgICAgIH0sCiAgICAgIGZpbHRlcnM6IHsKICAgICAgICBnbG9iYWw6IHsKICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuQ09OVEFJTlMKICAgICAgICB9LAogICAgICAgIG5hbWU6IHsKICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuU1RBUlRTX1dJVEgKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGluaXRGaWx0ZXJzOiBmdW5jdGlvbiBpbml0RmlsdGVycygpIHsKICAgICAgICB0aGlzLmZpbHRlcnMgPSB7CiAgICAgICAgICBnbG9iYWw6IHsKICAgICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLkNPTlRBSU5TCiAgICAgICAgICB9LAogICAgICAgICAgbmFtZTogewogICAgICAgICAgICBvcGVyYXRvcjogRmlsdGVyT3BlcmF0b3IuQU5ELAogICAgICAgICAgICBjb25zdHJhaW50czogW3sKICAgICAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5TVEFSVFNfV0lUSAogICAgICAgICAgICB9XQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0sCiAgICAgIHN1Ym1pdHRlZDogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLnBhdGllbnRSZWdpc3RyYXRpb25TZXJ2aWNlID0gbmV3IFBhdGllbnRSZWdpc3RyYXRpb25TZXJ2aWNlKCk7CiAgICB0aGlzLnBhdGllbnRSZXBvcnRTZXJ2aWNlID0gbmV3IFBhdGllbnRSZXBvcnRTZXJ2aWNlKCk7CiAgICB0aGlzLmNvbW1vblNlcnZpY2UgPSBuZXcgQ29tbW9uU2VydmljZSgpOwogICAgdGhpcy52YWxpZGF0aW9uID0gbmV3IFZhbGlkYXRpb24oKTsKICAgIHRoaXMuY29tbW9uU2VydmljZS5HZXRBbGxHZW5kZXIoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiAoLy8gIGNvbnNvbGUubG9nKGRhdGEuZGF0YSkKICAgICAgICBfdGhpcy5nZW5kZXJMaXN0ID0gZGF0YS5kYXRhCiAgICAgICk7CiAgICB9KTsKICAgIHRoaXMuY29tbW9uU2VydmljZS5HZXRBbGxCbG9vZEdyb3VwKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gX3RoaXMuYmxvb2RHcm91cExpc3QgPSBkYXRhLmRhdGE7CiAgICB9KTsKICAgIHRoaXMuY29tbW9uU2VydmljZS5HZXRBbGxQYXRpZW50c1JlbGF0aXZlcygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIF90aGlzLnJlbGF0aW9uTGlzdCA9IGRhdGEuZGF0YTsKICAgIH0pOyAvLyBzZXJ2ZXIgc2lkZSBwYWdpbmF0aW9uCgogICAgdmFyIGZpbHRlciA9IHRoaXMuZmlsdGVyc1snZ2xvYmFsJ10udmFsdWUgPyB0aGlzLmZpbHRlcnNbJ2dsb2JhbCddLnZhbHVlIDogIiI7CiAgICB0aGlzLnBhdGllbnRSZWdpc3RyYXRpb25TZXJ2aWNlLmdldFBhdGllbnRXaXRoUGFnaW5hdGlvbigiMCIsICIxMCIsIGZpbHRlciwgdGhpcykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gX3RoaXMucGF0aWVudEZvcm1hdHRlZChkYXRhLmRhdGEpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBwcmludEFsbFBhdGllbnQ6IGZ1bmN0aW9uIHByaW50QWxsUGF0aWVudCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnBhdGllbnRSZXBvcnRTZXJ2aWNlLmdldEFsbCh0aGlzKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5jb21tb25TZXJ2aWNlLkRvd25sb2FkZmlsZShkYXRhLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBwcmludElEOiBmdW5jdGlvbiBwcmludElEKHJlZ05vKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5wYXRpZW50UmVwb3J0U2VydmljZS5HZXRQYXRpZW50SWRDYXJkQnlSZWdObyhyZWdObywgdGhpcykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBfdGhpczMuY29tbW9uU2VydmljZS5Eb3dubG9hZGZpbGUoZGF0YS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgcGF0aWVudEZvcm1hdHRlZDogZnVuY3Rpb24gcGF0aWVudEZvcm1hdHRlZChkYXRhKSB7CiAgICAgIHRoaXMucGF0aWVudFJlZ2lzdHJhdGlvbkxpc3QgPSBkYXRhOwogICAgICB0aGlzLnBhZ2UgPSBkYXRhLmxlbmd0aCA/IGRhdGFbMF0uX3RvdGFsX3JlY29yZHMgOiAxMDA7CiAgICB9LAogICAgLy8gc2VydmVyIHNpZGUgcGFnaW5hdGlvbgogICAgb25QYWdlOiBmdW5jdGlvbiBvblBhZ2UoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgZmlsdGVyID0gdGhpcy5maWx0ZXJzWydnbG9iYWwnXS52YWx1ZSA/IHRoaXMuZmlsdGVyc1snZ2xvYmFsJ10udmFsdWUgOiAiIjsKICAgICAgdmFyIHBhZ2UgPSBldmVudCA9PSAwID8gMCA6IGV2ZW50LnBhZ2U7CiAgICAgIHZhciByb3dzID0gZXZlbnQgPT0gMCA/IDEwIDogZXZlbnQucm93czsKICAgICAgdGhpcy5wYXRpZW50UmVnaXN0cmF0aW9uU2VydmljZS5nZXRQYXRpZW50V2l0aFBhZ2luYXRpb24ocGFnZSwgcm93cywgZmlsdGVyLCB0aGlzKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNC5wYXRpZW50Rm9ybWF0dGVkKGRhdGEuZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIG9wZW5OZXc6IGZ1bmN0aW9uIG9wZW5OZXcoKSB7CiAgICAgIHRoaXMuaXNDb250YWN0RXhpc3QgPSAiIjsKICAgICAgdGhpcy5pc1ZhbGlkID0gIiI7CiAgICAgIHRoaXMuaXNFbWFpbFZhbGlkID0gIiI7CiAgICAgIHRoaXMucGF0aWVudFJlZ2lzdHJhdGlvbiA9IHsKICAgICAgICBhZ2VfeWVhcjogIjAiLAogICAgICAgIGFnZV9tb250aDogIjAiLAogICAgICAgIGFnZV9kYXk6ICIwIgogICAgICB9OwogICAgICB0aGlzLm5ld0luZm8gPSB0cnVlOwogICAgICB0aGlzLmRhdGFMaXN0ID0gZmFsc2U7CiAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2U7CiAgICB9LAogICAgaGlkZU5ldzogZnVuY3Rpb24gaGlkZU5ldygpIHsKICAgICAgdGhpcy5pc0NvbnRhY3RFeGlzdCA9ICIiOwogICAgICB0aGlzLmlzVmFsaWQgPSAiIjsKICAgICAgdGhpcy5pc0VtYWlsVmFsaWQgPSAiIjsKICAgICAgdGhpcy5wYXRpZW50UmVnaXN0cmF0aW9uID0gewogICAgICAgIGFnZV95ZWFyOiAiMCIsCiAgICAgICAgYWdlX21vbnRoOiAiMCIsCiAgICAgICAgYWdlX2RheTogIjAiCiAgICAgIH07CiAgICAgIHRoaXMuZGF0YUxpc3QgPSB0cnVlOwogICAgICB0aGlzLm5ld0luZm8gPSBmYWxzZTsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgIH0sCiAgICBpc0V4aXN0Q29udGFjdDogZnVuY3Rpb24gaXNFeGlzdENvbnRhY3QoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMucGF0aWVudFJlZ2lzdHJhdGlvbi5jb250YWN0X25vLm1hdGNoKC9eKDAxKShbMC05XXs5fSkkLykpIHsKICAgICAgICB0aGlzLnBhdGllbnRSZWdpc3RyYXRpb25TZXJ2aWNlLmdldEJ5Q29udGFjdE9yUmVnTm8odGhpcy5wYXRpZW50UmVnaXN0cmF0aW9uLmNvbnRhY3Rfbm8sIHRoaXMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBfdGhpczUuZ2V0Q29udGFjdChkYXRhLmRhdGEpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNDb250YWN0RXhpc3QgPSAiQ29udGFjdCBudW1iZXIgbXVzdCBzdGFydCB3aXRoIDAxIGFuZCB0aGUgcmVxdWlyZWQgbGVuZ3RoIGlzIDExIjsKICAgICAgfQogICAgfSwKICAgIGdldENvbnRhY3Q6IGZ1bmN0aW9uIGdldENvbnRhY3QoZGF0YSkgewogICAgICBpZiAoZGF0YS5jb250YWN0X25vKSB7CiAgICAgICAgdGhpcy5pc0NvbnRhY3RFeGlzdCA9ICJEdXBsaWNhdGUgcGhvbmUgbnVtYmVyISI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc0NvbnRhY3RFeGlzdCA9ICIiOwogICAgICB9CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY3VycmVudERhdGUsIGRvYiwgcmVzdWx0LCBfcmVzdWx0OwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczYuc3VibWl0dGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczYucGF0aWVudFJlZ2lzdHJhdGlvbi5maXJzdF9uYW1lKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi5wYXRpZW50UmVnaXN0cmF0aW9uLmFnZV95ZWFyKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LnBhdGllbnRSZWdpc3RyYXRpb24uYWdlX21vbnRoKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LnBhdGllbnRSZWdpc3RyYXRpb24uYWdlX2RheSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi5wYXRpZW50UmVnaXN0cmF0aW9uLmNvbnRhY3Rfbm8pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIGlmICghX3RoaXM2LmlzQ29udGFjdEV4aXN0KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICBkb2IgPSBuZXcgRGF0ZShjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpIC0gX3RoaXM2LnBhdGllbnRSZWdpc3RyYXRpb24uYWdlX3llYXIsIGN1cnJlbnREYXRlLmdldE1vbnRoKCkgLSBfdGhpczYucGF0aWVudFJlZ2lzdHJhdGlvbi5hZ2VfbW9udGgsIGN1cnJlbnREYXRlLmdldERhdGUoKSAtIF90aGlzNi5wYXRpZW50UmVnaXN0cmF0aW9uLmFnZV9kYXkpOwogICAgICAgICAgICAgICAgX3RoaXM2LnBhdGllbnRSZWdpc3RyYXRpb24uZG9iID0gbW9tZW50KFN0cmluZyhkb2IpKS5mb3JtYXQoIllZWVktTU0tREQiKTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LnBhdGllbnRSZWdpc3RyYXRpb24ucGF0aWVudF9pZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYucGF0aWVudFJlZ2lzdHJhdGlvblNlcnZpY2UuYWRkKF90aGlzNi5wYXRpZW50UmVnaXN0cmF0aW9uLCBfdGhpczYpOwoKICAgICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6ICJTYXZlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXM2LmhpZGVOZXcoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNi5vblBhZ2UoMCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDQwMSkgewogICAgICAgICAgICAgICAgICBfdGhpczYuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkVycm9yIiwKICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IHJlc3VsdC5kYXRhLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZWQiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LnJlcywKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAzNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYucGF0aWVudFJlZ2lzdHJhdGlvblNlcnZpY2UucHV0KF90aGlzNi5wYXRpZW50UmVnaXN0cmF0aW9uLCBfdGhpczYpOwoKICAgICAgICAgICAgICBjYXNlIDM4OgogICAgICAgICAgICAgICAgX3Jlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKF9yZXN1bHQuc3RhdHVzID09PSAyMDIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIlN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogIlVwZGF0ZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNi5oaWRlTmV3KCk7CgogICAgICAgICAgICAgICAgICBfdGhpczYub25QYWdlKDApOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfcmVzdWx0LnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRXJyb3IiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogX3Jlc3VsdC5kYXRhLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZWQiLAogICAgICAgICAgICAgICAgICAgIGRldGFpbDogX3Jlc3VsdC5yZXMsCiAgICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA0MjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA0MjsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CgogICAgICAgICAgICAgICAgX3RoaXM2LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgIGRldGFpbDogX2NvbnRleHQudDAsCiAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0NToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgNDJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGVkaXQ6IGZ1bmN0aW9uIGVkaXQob2JqKSB7CiAgICAgIHRoaXMucGF0aWVudFJlZ2lzdHJhdGlvbiA9IE9iamVjdC5hc3NpZ24oe30sIG9iaik7IC8vIHRoaXMucGF0aWVudFJlZ2lzdHJhdGlvbi5jZGRvYiA9IG1vbWVudCgKICAgICAgLy8gICBTdHJpbmcodGhpcy5wYXRpZW50UmVnaXN0cmF0aW9uLmRvYikKICAgICAgLy8gKS5mb3JtYXQoIllZWVktTU0tREQiKTsKCiAgICAgIHRoaXMuZGF0YUxpc3QgPSBmYWxzZTsKICAgICAgdGhpcy5uZXdJbmZvID0gdHJ1ZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["F:/SVN PROJECTS/DiagnosticCenterManagement_Client/trunk/src/scripts/front-desk/PatientRegistration.js"],"names":["PatientRegistrationService","PatientReportService","CommonService","Validation","moment","FilterMatchMode","FilterOperator","data","page","isContactExist","isValid","isEmailValid","newInfo","dataList","relationList","bloodGroupList","genderList","patientRegistrationList","patientRegistration","age_year","age_month","age_day","filters","global","value","matchMode","CONTAINS","name","STARTS_WITH","initFilters","operator","AND","constraints","submitted","created","patientRegistrationService","patientReportService","commonService","validation","GetAllGender","then","GetAllBloodGroup","GetAllPatientsRelatives","filter","getPatientWithPagination","patientFormatted","methods","printAllPatient","getAll","Downloadfile","printID","regNo","GetPatientIdCardByRegNo","length","_total_records","onPage","event","rows","openNew","hideNew","isExistContact","contact_no","match","getByContactOrRegNo","getContact","add","first_name","currentDate","Date","dob","getFullYear","getMonth","getDate","String","format","patient_id","result","status","$toast","severity","summary","detail","life","res","put","edit","obj","Object","assign"],"mappings":"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","sourcesContent":["import PatientRegistrationService from \"../../service/front-desk/PatientRegistrationService\";\r\nimport PatientReportService from \"../../service/report/PatientReportService\";\r\nimport CommonService from \"../../service/CommonService\";\r\nimport Validation from \"../../scripts/validation\";\r\nimport moment from \"moment\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      page: 100,\r\n      isContactExist: \"\",\r\n      isValid: \"\",\r\n      isEmailValid: \"\",\r\n      newInfo: false,\r\n      dataList: true,\r\n      relationList: [],\r\n      bloodGroupList: [],\r\n      genderList: [],\r\n      patientRegistrationList: [],\r\n      patientRegistration: {\r\n        age_year: \"0\",\r\n        age_month: \"0\",\r\n        age_day: \"0\",\r\n      },\r\n      filters: {\r\n        global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        name: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      initFilters() {\r\n        this.filters = {\r\n          global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n          name: {\r\n            operator: FilterOperator.AND,\r\n            constraints: [\r\n              { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            ],\r\n          },\r\n        };\r\n      },\r\n      submitted: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.patientRegistrationService = new PatientRegistrationService();\r\n    this.patientReportService = new PatientReportService();\r\n    this.commonService = new CommonService();\r\n    this.validation = new Validation();\r\n\r\n    this.commonService.GetAllGender().then(\r\n      (data) =>\r\n        //  console.log(data.data)\r\n        (this.genderList = data.data)\r\n    );\r\n\r\n    this.commonService\r\n      .GetAllBloodGroup()\r\n      .then((data) => (this.bloodGroupList = data.data));\r\n\r\n    this.commonService\r\n      .GetAllPatientsRelatives()\r\n      .then((data) => (this.relationList = data.data));\r\n\r\n    // server side pagination\r\n    var filter = this.filters['global'].value ? this.filters['global'].value : \"\";\r\n    this.patientRegistrationService\r\n      .getPatientWithPagination(\"0\", \"10\", filter, this)\r\n      .then((data) => this.patientFormatted(data.data));\r\n  },\r\n  methods: {\r\n    printAllPatient() {\r\n      this.patientReportService.getAll(this).then((data) => (this.commonService.Downloadfile(data.data)));\r\n    },\r\n    printID(regNo){\r\n      this.patientReportService.GetPatientIdCardByRegNo(regNo, this).then((data) => (this.commonService.Downloadfile(data.data)));\r\n    },\r\n    patientFormatted(data) {\r\n      this.patientRegistrationList = data;\r\n      this.page = data.length ? data[0]._total_records : 100;\r\n    },\r\n    // server side pagination\r\n    onPage(event) {\r\n      var filter = this.filters['global'].value ? this.filters['global'].value : \"\";\r\n      var page = event == 0 ? 0 : event.page;\r\n      var rows = event == 0 ? 10 : event.rows;\r\n\r\n      this.patientRegistrationService\r\n        .getPatientWithPagination(page, rows, filter, this)\r\n        .then((data) => this.patientFormatted(data.data));\r\n    },\r\n    openNew() {\r\n      this.isContactExist = \"\";\r\n      this.isValid = \"\";\r\n      this.isEmailValid = \"\";\r\n      this.patientRegistration = {\r\n        age_year: \"0\",\r\n        age_month: \"0\",\r\n        age_day: \"0\",\r\n      };\r\n      this.newInfo = true;\r\n      this.dataList = false;\r\n      this.submitted = false;\r\n    },\r\n    hideNew() {\r\n      this.isContactExist = \"\";\r\n      this.isValid = \"\";\r\n      this.isEmailValid = \"\";\r\n      this.patientRegistration = {\r\n        age_year: \"0\",\r\n        age_month: \"0\",\r\n        age_day: \"0\",\r\n      };\r\n      this.dataList = true;\r\n      this.newInfo = false;\r\n      this.submitted = false;\r\n    },\r\n    isExistContact() {\r\n      if (this.patientRegistration.contact_no.match(/^(01)([0-9]{9})$/)) {\r\n        this.patientRegistrationService\r\n          .getByContactOrRegNo(this.patientRegistration.contact_no, this)\r\n          .then((data) => this.getContact(data.data));\r\n      } else {\r\n        this.isContactExist =\r\n          \"Contact number must start with 01 and the required length is 11\";\r\n      }\r\n    },\r\n    getContact(data) {\r\n      if (data.contact_no) {\r\n        this.isContactExist = \"Duplicate phone number!\";\r\n      } else {\r\n        this.isContactExist = \"\";\r\n      }\r\n    },\r\n    async add() {\r\n      this.submitted = true;\r\n      try {\r\n        if (!this.patientRegistration.first_name) {\r\n          return;\r\n        } else if (!this.patientRegistration.age_year) {\r\n          return;\r\n        } else if (!this.patientRegistration.age_month) {\r\n          return;\r\n        } else if (!this.patientRegistration.age_day) {\r\n          return;\r\n        } else if (!this.patientRegistration.contact_no) {\r\n          return;\r\n        } else if (this.isContactExist) {\r\n          return;\r\n        } else {\r\n          var currentDate = new Date();\r\n          var dob = new Date(currentDate.getFullYear() - this.patientRegistration.age_year, currentDate.getMonth() - this.patientRegistration.age_month, currentDate.getDate() - this.patientRegistration.age_day);\r\n          this.patientRegistration.dob = moment(\r\n            String(dob)\r\n          ).format(\"YYYY-MM-DD\");\r\n\r\n          if (!this.patientRegistration.patient_id) {\r\n            let result = await this.patientRegistrationService.add(\r\n              this.patientRegistration, this\r\n            );\r\n            if (result.status === 201) {\r\n              this.$toast.add({\r\n                severity: \"success\",\r\n                summary: \"Success\",\r\n                detail: \"Saved Successfully\",\r\n                life: 10000,\r\n              });\r\n              this.hideNew();\r\n              this.onPage(0);\r\n            } else if (result.status === 401) {\r\n              this.$toast.add({\r\n                severity: \"error\",\r\n                summary: \"Error\",\r\n                detail: result.data,\r\n                life: 10000,\r\n              });\r\n            } else {\r\n              this.$toast.add({\r\n                severity: \"error\",\r\n                summary: \"Failed\",\r\n                detail: result.res,\r\n                life: 10000,\r\n              });\r\n            }\r\n          } else {\r\n            let result = await this.patientRegistrationService.put(\r\n              this.patientRegistration,\r\n              this\r\n            );\r\n            if (result.status === 202) {\r\n              this.$toast.add({\r\n                severity: \"success\",\r\n                summary: \"Success\",\r\n                detail: \"Updated Successfully\",\r\n                life: 10000,\r\n              });\r\n              this.hideNew();\r\n              this.onPage(0);\r\n            } else if (result.status === 401) {\r\n              this.$toast.add({\r\n                severity: \"error\",\r\n                summary: \"Error\",\r\n                detail: result.data,\r\n                life: 10000,\r\n              });\r\n            } else {\r\n              this.$toast.add({\r\n                severity: \"error\",\r\n                summary: \"Failed\",\r\n                detail: result.res,\r\n                life: 10000,\r\n              });\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n        this.$toast.add({\r\n          severity: \"error\",\r\n          summary: \"Failed\",\r\n          detail: error,\r\n          life: 10000,\r\n        });\r\n      }\r\n    },\r\n    edit(obj) {\r\n      this.patientRegistration = Object.assign({}, obj);\r\n      // this.patientRegistration.cddob = moment(\r\n      //   String(this.patientRegistration.dob)\r\n      // ).format(\"YYYY-MM-DD\");\r\n      this.dataList = false;\r\n      this.newInfo = true;\r\n    },\r\n  },\r\n};"]}]}