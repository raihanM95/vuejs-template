{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\ot\\OTScheduleForm.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\ot\\OTScheduleForm.js","mtime":1669031004617},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0IE9UU2NoZWR1bGVTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2Uvb3QvT1RTY2hlZHVsZVNlcnZpY2UiOwppbXBvcnQgQ29tbW9uU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL0NvbW1vblNlcnZpY2UiOwppbXBvcnQgQ29uc3VsdGFuY3lEZXBhcnRtZW50U2V0dXBTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2Uvc2V0dXAvQ29uc3VsdGFuY3lEZXBhcnRtZW50U2V0dXBTZXJ2aWNlIjsKaW1wb3J0IERvY3RvclNldHVwU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL3NldHVwL0RvY3RvclNldHVwU2VydmljZSI7CmltcG9ydCBFbXBsb3llZVNldHVwU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL3NldHVwL0VtcGxveWVlU2V0dXBTZXJ2aWNlIjsKaW1wb3J0IFJlZmVycmVkQnlTZXR1cFNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9zZXR1cC9SZWZlcnJlZEJ5U2V0dXBTZXJ2aWNlIjsKaW1wb3J0IFZhbGlkYXRpb24gZnJvbSAiLi4vLi4vc2NyaXB0cy92YWxpZGF0aW9uIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgeyBGaWx0ZXJNYXRjaE1vZGUsIEZpbHRlck9wZXJhdG9yIH0gZnJvbSAicHJpbWV2dWUvYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvdFNjaGVkdWxlRGlhbG9nOiBmYWxzZSwKICAgICAgaXNTY2hlZHVsZUV4aXN0OiAiIiwKICAgICAgaXNWYWxpZDogIiIsCiAgICAgIGlzRXhpc3Q6ICIiLAogICAgICBibG9vZEdyb3VwTGlzdDogW10sCiAgICAgIGdlbmRlckxpc3Q6IFtdLAogICAgICBkZXBhcnRtZW50TGlzdDogW10sCiAgICAgIGRvY3Rvckxpc3Q6IFtdLAogICAgICBvdEJvb2tlZExpc3Q6IFtdLAogICAgICByZWZlcnJlZEJ5TGlzdDogW10sCiAgICAgIG90U2NoZWR1bGU6IHsKICAgICAgICBzY2hlZHVsZV9kYXRlOiBtb21lbnQoU3RyaW5nKG5ldyBEYXRlKCkpKS5mb3JtYXQoIk1NL0REL1lZWVkiKSwKICAgICAgICBhZG1pc3Npb25fZW1lcmdlbmN5X2lkOiAiIgogICAgICB9LAogICAgICBmaWx0ZXJzOiB7CiAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLkNPTlRBSU5TCiAgICAgICAgfSwKICAgICAgICBuYW1lOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLlNUQVJUU19XSVRICiAgICAgICAgfQogICAgICB9LAogICAgICBpbml0RmlsdGVyczogZnVuY3Rpb24gaW5pdEZpbHRlcnMoKSB7CiAgICAgICAgdGhpcy5maWx0ZXJzID0gewogICAgICAgICAgZ2xvYmFsOiB7CiAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgICAgfSwKICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgb3BlcmF0b3I6IEZpbHRlck9wZXJhdG9yLkFORCwKICAgICAgICAgICAgY29uc3RyYWludHM6IFt7CiAgICAgICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuU1RBUlRTX1dJVEgKICAgICAgICAgICAgfV0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9LAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgLy8gcGFzdCBkYXRlLXllYXIgZGlzYWJsZWQKICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7CiAgICB2YXIgbW9udGggPSB0b2RheS5nZXRNb250aCgpOwogICAgdmFyIHllYXIgPSB0b2RheS5nZXRGdWxsWWVhcigpOwogICAgdmFyIHByZXZNb250aCA9IG1vbnRoID09PSAwID8gMTEgOiBtb250aCAtIDA7CiAgICB2YXIgcHJldlllYXIgPSBwcmV2TW9udGggPT09IDExID8geWVhciAtIDAgOiB5ZWFyOwogICAgdGhpcy5taW5EYXRlID0gbmV3IERhdGUoKTsKICAgIHRoaXMubWluRGF0ZS5zZXRNb250aChwcmV2TW9udGgpOwogICAgdGhpcy5taW5EYXRlLnNldEZ1bGxZZWFyKHByZXZZZWFyKTsKICAgIHRoaXMub3RTY2hlZHVsZVNlcnZpY2UgPSBuZXcgT1RTY2hlZHVsZVNlcnZpY2UoKTsKICAgIHRoaXMuY29tbW9uU2VydmljZSA9IG5ldyBDb21tb25TZXJ2aWNlKCk7CiAgICB0aGlzLmRvY3RvclNldHVwU2VydmljZSA9IG5ldyBEb2N0b3JTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMuY29uc3VsdGFuY3lEZXBhcnRtZW50U2V0dXBTZXJ2aWNlID0gbmV3IENvbnN1bHRhbmN5RGVwYXJ0bWVudFNldHVwU2VydmljZSgpOwogICAgdGhpcy5lbXBsb3llZVNldHVwU2VydmljZSA9IG5ldyBFbXBsb3llZVNldHVwU2VydmljZSgpOwogICAgdGhpcy5yZWZlcnJlZEJ5U2V0dXBTZXJ2aWNlID0gbmV3IFJlZmVycmVkQnlTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMudmFsaWRhdGlvbiA9IG5ldyBWYWxpZGF0aW9uKCk7CiAgICB0aGlzLmNvbW1vblNlcnZpY2UuR2V0QWxsR2VuZGVyKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICByZXR1cm4gX3RoaXMuZ2VuZGVyTGlzdCA9IGRhdGEuZGF0YTsKICAgIH0pOwogICAgdGhpcy5jb21tb25TZXJ2aWNlLkdldEFsbEJsb29kR3JvdXAoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5ibG9vZEdyb3VwTGlzdCA9IGRhdGEuZGF0YTsKICAgIH0pOwogICAgdGhpcy5jb25zdWx0YW5jeURlcGFydG1lbnRTZXR1cFNlcnZpY2UuZ2V0QWN0aXZlQ29tYm8oKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5kZXBhcnRtZW50TGlzdCA9IGRhdGEuZGF0YTsKICAgIH0pOwogICAgdGhpcy5yZWZlcnJlZEJ5U2V0dXBTZXJ2aWNlLmdldEFsbCgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIF90aGlzLm1lcmdlUmVmZXJyZWRCeUluZm8oZGF0YS5kYXRhKTsKICAgIH0pOwogICAgdGhpcy5lbXBsb3llZVNldHVwU2VydmljZS5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5tZXJnZUVtcGxveWVlSW5mbyhkYXRhLmRhdGEpOwogICAgfSk7CiAgICB0aGlzLmRvY3RvclNldHVwU2VydmljZS5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5tZXJnZURvY3RvckluZm8oZGF0YS5kYXRhKTsKICAgIH0pOwogIH0sCiAgd2F0Y2g6IHsKICAgICdvdFNjaGVkdWxlLnNjaGVkdWxlX2RhdGUnOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICB0aGlzLmdldE9UQm9va2VkTGlzdCgpOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoaWRlRGlhbG9nOiBmdW5jdGlvbiBoaWRlRGlhbG9nKCkgewogICAgICB0aGlzLm90U2NoZWR1bGVEaWFsb2cgPSBmYWxzZTsKICAgIH0sCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuaXNTY2hlZHVsZUV4aXN0ID0gIiI7CiAgICAgIHRoaXMuaXNFeGlzdCA9ICIiOwogICAgICB0aGlzLm90U2NoZWR1bGUgPSB7CiAgICAgICAgc2NoZWR1bGVfZGF0ZTogbW9tZW50KFN0cmluZyhuZXcgRGF0ZSgpKSkuZm9ybWF0KCJNTS9ERC9ZWVlZIiksCiAgICAgICAgYWRtaXNzaW9uX2VtZXJnZW5jeV9pZDogIiIKICAgICAgfTsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgICAgdGhpcy5zY2hlZHVsZUxpc3QgPSBbXTsKICAgICAgdGhpcy5nZXRTY2hlZHVsZUxpc3QgPSBbXTsKICAgIH0sCiAgICBtZXJnZVJlZmVycmVkQnlJbmZvOiBmdW5jdGlvbiBtZXJnZVJlZmVycmVkQnlJbmZvKGRhdGEpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgZmlsdGVyRGF0YSA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5hY3RpdmUgPT0gdHJ1ZTsKICAgICAgfSwgdGhpcyk7CiAgICAgIGZpbHRlckRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIF90aGlzMi5yZWZlcnJlZEJ5TGlzdC5wdXNoKHsKICAgICAgICAgIHZhbHVlOiBlbGVtZW50LnJlZ2lzdHJhdGlvbl9ubywKICAgICAgICAgIHRleHQ6IGVsZW1lbnQubWFudWFsX2NvZGUgKyAiLSIgKyBlbGVtZW50LnJlZ2lzdHJhdGlvbl9ubyArICItIiArIGVsZW1lbnQucmVmZmVyZWRfYnlfbmFtZSArICIoUmVmZXJyZWQgQnkpIgogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBtZXJnZURvY3RvckluZm86IGZ1bmN0aW9uIG1lcmdlRG9jdG9ySW5mbyhkYXRhKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgLy90aGlzLmRvY3Rvckxpc3QgPSBkYXRhOwogICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICBfdGhpczMucmVmZXJyZWRCeUxpc3QucHVzaCh7CiAgICAgICAgICB2YWx1ZTogZWxlbWVudC5kb2Nfbm8sCiAgICAgICAgICB0ZXh0OiBlbGVtZW50LmRvY19ubyArICItIiArIGVsZW1lbnQuZG9jdG9yX25hbWUgKyAiKERvY3RvcikiCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICB2YXIgb2JqID0gZWxlbWVudDsKICAgICAgICBvYmouZG9jdG9yX2RlZ3JlZSA9ICIiOwogICAgICAgIG9iai5sc3RDb25zdWx0YW50RGVncmVlLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICBvYmouZG9jdG9yX2RlZ3JlZSArPSBlbC5jb25zdWx0YW50X2RlZ3JlZV9uYW1lICsgIi4gIjsKICAgICAgICB9KTsKICAgICAgICBvYmouZG9jdG9yX25hbWUgPSBlbGVtZW50LmRvY19ubyArICIgLSAoIiArIG9iai5kb2N0b3JfZGVncmVlICsgIikgLSAiICsgZWxlbWVudC5kb2N0b3JfbmFtZTsKCiAgICAgICAgX3RoaXMzLmRvY3Rvckxpc3QucHVzaChvYmopOwogICAgICB9KTsKICAgICAgdmFyIGFwcG9pbnRtZW50SW5mbyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImFwcG9pbnRtZW50SW5mbyIpKTsKCiAgICAgIGlmIChhcHBvaW50bWVudEluZm8pIHsKICAgICAgICB0aGlzLmRvY3RvckFwcG9pbnRtZW50ID0gYXBwb2ludG1lbnRJbmZvOwogICAgICAgIHRoaXMuZ2V0Q29uc3VsdGFuY3lGZWVCeURvY3RvcklkKCk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FwcG9pbnRtZW50SW5mbycpOwogICAgICB9CiAgICB9LAogICAgbWVyZ2VFbXBsb3llZUluZm86IGZ1bmN0aW9uIG1lcmdlRW1wbG95ZWVJbmZvKGRhdGEpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgZmlsdGVyRGF0YSA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5hY3RpdmUgPT0gdHJ1ZTsKICAgICAgfSwgdGhpcyk7CiAgICAgIGZpbHRlckRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIF90aGlzNC5yZWZlcnJlZEJ5TGlzdC5wdXNoKHsKICAgICAgICAgIHZhbHVlOiBlbGVtZW50LmVtcF9ubywKICAgICAgICAgIHRleHQ6IGVsZW1lbnQuZW1wX25vICsgIi0iICsgZWxlbWVudC5maXJzdF9uYW1lICsgIihFbXBsb3llZSkiCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGZpbHRlckRvY3RvcnNEZXBhcnRtZW50V2lzZTogZnVuY3Rpb24gZmlsdGVyRG9jdG9yc0RlcGFydG1lbnRXaXNlKCkgewogICAgICByZXR1cm4gdGhpcy5kb2N0b3JMaXN0LmZpbHRlcihmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gZWwuZGVwYXJ0bWVudF9pZCA9PT0gdGhpcy5vdFNjaGVkdWxlLmRlcGFydG1lbnRfaWQ7CiAgICAgIH0sIHRoaXMpOwogICAgfSwKICAgIGdldEZvcm1hdHRlZDogZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkKGRhdGEpIHsKICAgICAgZGVidWdnZXI7CgogICAgICBpZiAoZGF0YS5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuaXNFeGlzdCA9ICJQYXRpZW50IG5vdCBFeGlzdCEiOwogICAgICAgIHRoaXMub3RTY2hlZHVsZSA9IHsKICAgICAgICAgIGFkbWlzc2lvbl9lbWVyZ2VuY3lfaWQ6ICIiCiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm90U2NoZWR1bGUgPSBkYXRhWzBdOwogICAgICAgIHRoaXMuaXNFeGlzdCA9ICIiOwoKICAgICAgICBpZiAodGhpcy5vdFNjaGVkdWxlLnR5cGUgPT0gJ0lQRCcpIHsKICAgICAgICAgIHRoaXMub3RTY2hlZHVsZS5hZG1pc3Npb25faWQgPSB0aGlzLm90U2NoZWR1bGUuYWRtaXNzaW9uX2VtZXJnZW5jeV9pZDsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3RTY2hlZHVsZS50eXBlID09ICdFbWVyZ2VuY3knKSB7CiAgICAgICAgICB0aGlzLm90U2NoZWR1bGUuZW1lcmdlbmN5X2lkID0gdGhpcy5vdFNjaGVkdWxlLmFkbWlzc2lvbl9lbWVyZ2VuY3lfaWQ7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZ2V0QWRtaXR0ZWRPckVtZXJnZW5jeVBhdGllbnRJbmZvRm9yT1Q6IGZ1bmN0aW9uIGdldEFkbWl0dGVkT3JFbWVyZ2VuY3lQYXRpZW50SW5mb0Zvck9UKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMub3RTY2hlZHVsZVNlcnZpY2UuZ2V0QWRtaXR0ZWRPckVtZXJnZW5jeVBhdGllbnRJbmZvRm9yT1QodGhpcy5vdFNjaGVkdWxlLmFkbWlzc2lvbl9lbWVyZ2VuY3lfbm8udHJpbSgpLCB0aGlzKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNS5nZXRGb3JtYXR0ZWQoZGF0YS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgc2hvd09UU2NoZWR1bGVEaWFsb2c6IGZ1bmN0aW9uIHNob3dPVFNjaGVkdWxlRGlhbG9nKCkgewogICAgICB0aGlzLmdldE9UQm9va2VkTGlzdCgpOyAvL3RoaXMub3RTY2hlZHVsZURpYWxvZyA9IHRydWU7CiAgICB9LAogICAgZ2V0T1RCb29rZWRMaXN0OiBmdW5jdGlvbiBnZXRPVEJvb2tlZExpc3QoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgZGVidWdnZXI7CgogICAgICBpZiAodGhpcy5vdFNjaGVkdWxlLnNjaGVkdWxlX2RhdGUgJiYgdGhpcy5vdFNjaGVkdWxlLmRvY3Rvcl9pZCkgewogICAgICAgIHZhciBzY2hlZHVsZV9kYXRlID0gbW9tZW50KFN0cmluZyh0aGlzLm90U2NoZWR1bGUuc2NoZWR1bGVfZGF0ZSkpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICAgIHRoaXMub3RTY2hlZHVsZVNlcnZpY2UuZ2V0T1REb2N0b3JCb29rZWRMaXN0KHRoaXMub3RTY2hlZHVsZS5kb2N0b3JfaWQsIHNjaGVkdWxlX2RhdGUpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBfdGhpczYub3RCb29rZWRMaXN0ID0gZGF0YS5kYXRhOwogICAgICAgIH0pOwogICAgICAgIHRoaXMub3RTY2hlZHVsZURpYWxvZyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBmb3JtYXREYXRlOiBmdW5jdGlvbiBmb3JtYXREYXRlKHZhbHVlKSB7CiAgICAgIHJldHVybiBtb21lbnQoU3RyaW5nKHZhbHVlKSkuZm9ybWF0KCJoOm1tOnNzIGEiKTsKICAgIH0gLy8gYXN5bmMgYWRkKCkgewogICAgLy8gICAvL3RoaXMuY2hlY2tEclNjaGVkdWxlKCk7CiAgICAvLyAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKICAgIC8vICAgdHJ5IHsKICAgIC8vICAgICBpZiAoIXRoaXMuZG9jdG9yQXBwb2ludG1lbnQuYVBhdGllbnQuZmlyc3RfbmFtZSkgewogICAgLy8gICAgICAgcmV0dXJuOwogICAgLy8gICAgIH0gZWxzZSBpZiAoIXRoaXMuZG9jdG9yQXBwb2ludG1lbnQuYVBhdGllbnQuYWdlX3llYXIpIHsKICAgIC8vICAgICAgIHJldHVybjsKICAgIC8vICAgICB9IGVsc2UgaWYgKCF0aGlzLmRvY3RvckFwcG9pbnRtZW50LmFQYXRpZW50LmFnZV9tb250aCkgewogICAgLy8gICAgICAgcmV0dXJuOwogICAgLy8gICAgIH0gZWxzZSBpZiAoIXRoaXMuZG9jdG9yQXBwb2ludG1lbnQuYVBhdGllbnQuYWdlX2RheSkgewogICAgLy8gICAgICAgcmV0dXJuOwogICAgLy8gICAgIH0gZWxzZSBpZiAoIXRoaXMuZG9jdG9yQXBwb2ludG1lbnQuYVBhdGllbnQuY29udGFjdF9ubykgewogICAgLy8gICAgICAgcmV0dXJuOwogICAgLy8gICAgIH0gZWxzZSBpZiAoIXRoaXMuZG9jdG9yQXBwb2ludG1lbnQuZGVwYXJ0bWVudF9pZCkgewogICAgLy8gICAgICAgcmV0dXJuOwogICAgLy8gICAgIH0gZWxzZSBpZiAoIXRoaXMuZG9jdG9yQXBwb2ludG1lbnQuZG9jdG9yX2lkKSB7CiAgICAvLyAgICAgICByZXR1cm47CiAgICAvLyAgICAgfSBlbHNlIGlmICghdGhpcy5kb2N0b3JBcHBvaW50bWVudC5hcHBvaW50bWVudF90eXBlKSB7CiAgICAvLyAgICAgICByZXR1cm47CiAgICAvLyAgICAgfSBlbHNlIGlmICghdGhpcy5kb2N0b3JBcHBvaW50bWVudC5jb25zdWx0YW5jeV9mZWUpIHsKICAgIC8vICAgICAgIHJldHVybjsKICAgIC8vICAgICB9IGVsc2UgaWYgKCF0aGlzLmRvY3RvckFwcG9pbnRtZW50LmJ1aWxkaW5nX2lkKSB7CiAgICAvLyAgICAgICByZXR1cm47CiAgICAvLyAgICAgfSBlbHNlIGlmICghdGhpcy5kb2N0b3JBcHBvaW50bWVudC5yb29tX2lkKSB7CiAgICAvLyAgICAgICByZXR1cm47CiAgICAvLyAgICAgfSBlbHNlIGlmICghdGhpcy5kb2N0b3JBcHBvaW50bWVudC5jZGFwcG9pbnRfZGF0ZSkgewogICAgLy8gICAgICAgcmV0dXJuOwogICAgLy8gICAgIH0gZWxzZSBpZiAoIXRoaXMuZG9jdG9yQXBwb2ludG1lbnQucmVhc29uKSB7CiAgICAvLyAgICAgICByZXR1cm47CiAgICAvLyAgICAgfSBlbHNlIGlmICh0aGlzLmlzQ29udGFjdEV4aXN0IHx8IHRoaXMuaXNTY2hlZHVsZUV4aXN0KSB7CiAgICAvLyAgICAgICByZXR1cm47CiAgICAvLyAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgIHRoaXMuZG9jdG9yQXBwb2ludG1lbnQuYXBwb2ludF9kYXRlID0gbW9tZW50KAogICAgLy8gICAgICAgICBTdHJpbmcodGhpcy5kb2N0b3JBcHBvaW50bWVudC5jZGFwcG9pbnRfZGF0ZSkKICAgIC8vICAgICAgICkuZm9ybWF0KCJZWVlZLU1NLUREIGg6bW06c3MgYSIpOwogICAgLy8gICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTsKICAgIC8vICAgICAgIHZhciBkb2IgPSBuZXcgRGF0ZShjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpIC0gdGhpcy5kb2N0b3JBcHBvaW50bWVudC5hUGF0aWVudC5hZ2VfeWVhciwgY3VycmVudERhdGUuZ2V0TW9udGgoKSAtIHRoaXMuZG9jdG9yQXBwb2ludG1lbnQuYVBhdGllbnQuYWdlX21vbnRoLCBjdXJyZW50RGF0ZS5nZXREYXRlKCkgLSB0aGlzLmRvY3RvckFwcG9pbnRtZW50LmFQYXRpZW50LmFnZV9kYXkpOwogICAgLy8gICAgICAgdGhpcy5kb2N0b3JBcHBvaW50bWVudC5hUGF0aWVudC5kb2IgPSBtb21lbnQoCiAgICAvLyAgICAgICAgIFN0cmluZyhkb2IpCiAgICAvLyAgICAgICApLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgLy8gICAgICAgaWYgKCF0aGlzLmRvY3RvckFwcG9pbnRtZW50Lmludm9pY2VfaWQpIHsKICAgIC8vICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZG9jdG9yQXBwb2ludG1lbnRTZXJ2aWNlLmFkZCgKICAgIC8vICAgICAgICAgICB0aGlzLmRvY3RvckFwcG9pbnRtZW50LCB0aGlzCiAgICAvLyAgICAgICAgICk7CiAgICAvLyAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAyMDApIHsKICAgIC8vICAgICAgICAgICB0aGlzLiR0b2FzdC5hZGQoewogICAgLy8gICAgICAgICAgICAgc2V2ZXJpdHk6ICJzdWNjZXNzIiwKICAgIC8vICAgICAgICAgICAgIHN1bW1hcnk6ICJTdWNjZXNzIiwKICAgIC8vICAgICAgICAgICAgIGRldGFpbDogIlNhdmVkIFN1Y2Nlc3NmdWxseSIsCiAgICAvLyAgICAgICAgICAgICBsaWZlOiAxMDAwMCwKICAgIC8vICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgICBpZiAodGhpcy5nbG9iYWxTZXR0aW5nLnNldHRpbmdfdmFsdWUgPT0gIlllcyIpIHsKICAgIC8vICAgICAgICAgICAgIHRoaXMuY29uZmlybVBheShyZXN1bHQuZGF0YSk7CiAgICAvLyAgICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgICAgICAgIHRoaXMucmVzZXQoKTsKICAgIC8vICAgICAgICAgICAgIHRoaXMucHJpbnRBcHBvaW50bWVudFRva2VuKHJlc3VsdC5kYXRhKTsKICAgIC8vICAgICAgICAgICB9CiAgICAvLyAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PT0gNDAxKSB7CiAgICAvLyAgICAgICAgICAgdGhpcy4kdG9hc3QuYWRkKHsKICAgIC8vICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgLy8gICAgICAgICAgICAgc3VtbWFyeTogIkVycm9yIiwKICAgIC8vICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LmRhdGEsCiAgICAvLyAgICAgICAgICAgICBsaWZlOiAxMDAwMCwKICAgIC8vICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgICAgICB0aGlzLiR0b2FzdC5hZGQoewogICAgLy8gICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAvLyAgICAgICAgICAgICBzdW1tYXJ5OiAiRmFpbGVkIiwKICAgIC8vICAgICAgICAgICAgIGRldGFpbDogcmVzdWx0LnJlcywKICAgIC8vICAgICAgICAgICAgIGxpZmU6IDEwMDAwLAogICAgLy8gICAgICAgICAgIH0pOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9IGVsc2UgaWYgKHRoaXMuZG9jdG9yQXBwb2ludG1lbnQuaW52b2ljZV9pZCkgewogICAgLy8gICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy5kb2N0b3JBcHBvaW50bWVudFNlcnZpY2UucHV0KAogICAgLy8gICAgICAgICAgIHRoaXMuZG9jdG9yQXBwb2ludG1lbnQsIHRoaXMKICAgIC8vICAgICAgICAgKTsKICAgIC8vICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDIwMCkgewogICAgLy8gICAgICAgICAgIHRoaXMuJHRvYXN0LmFkZCh7CiAgICAvLyAgICAgICAgICAgICBzZXZlcml0eTogInN1Y2Nlc3MiLAogICAgLy8gICAgICAgICAgICAgc3VtbWFyeTogIlN1Y2Nlc3MiLAogICAgLy8gICAgICAgICAgICAgZGV0YWlsOiAiU3VjY2Vzc2Z1bGx5IFVwZGF0ZWQiLAogICAgLy8gICAgICAgICAgICAgbGlmZTogMTAwMDAsCiAgICAvLyAgICAgICAgICAgfSk7CiAgICAvLyAgICAgICAgICAgdGhpcy5yZXNldCgpOwogICAgLy8gICAgICAgICAgIHRoaXMucHJpbnRBcHBvaW50bWVudFRva2VuKHJlc3VsdC5kYXRhKTsKICAgIC8vICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3BhdGllbnQtZG9jdG9yLWFwcG9pbnRtZW50LWxpc3QiKTsKICAgIC8vICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuc3RhdHVzID09PSA0MDEpIHsKICAgIC8vICAgICAgICAgICB0aGlzLiR0b2FzdC5hZGQoewogICAgLy8gICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAvLyAgICAgICAgICAgICBzdW1tYXJ5OiAiRXJyb3IiLAogICAgLy8gICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQuZGF0YSwKICAgIC8vICAgICAgICAgICAgIGxpZmU6IDEwMDAwLAogICAgLy8gICAgICAgICAgIH0pOwogICAgLy8gICAgICAgICB9IGVsc2UgewogICAgLy8gICAgICAgICAgIHRoaXMuJHRvYXN0LmFkZCh7CiAgICAvLyAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgIC8vICAgICAgICAgICAgIHN1bW1hcnk6ICJGYWlsZWQiLAogICAgLy8gICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQucmVzLAogICAgLy8gICAgICAgICAgICAgbGlmZTogMTAwMDAsCiAgICAvLyAgICAgICAgICAgfSk7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgIH0KICAgIC8vICAgICB9CiAgICAvLyAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAvLyAgICAgdGhpcy4kdG9hc3QuYWRkKHsKICAgIC8vICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgLy8gICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAvLyAgICAgICBkZXRhaWw6IGVycm9yLAogICAgLy8gICAgICAgbGlmZTogMTAwMDAsCiAgICAvLyAgICAgfSk7CiAgICAvLyAgIH0KICAgIC8vIH0sCgogIH0KfTs="},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/ot/OTScheduleForm.js"],"names":["OTScheduleService","CommonService","ConsultancyDepartmentSetupService","DoctorSetupService","EmployeeSetupService","ReferredBySetupService","Validation","moment","FilterMatchMode","FilterOperator","data","otScheduleDialog","isScheduleExist","isValid","isExist","bloodGroupList","genderList","departmentList","doctorList","otBookedList","referredByList","otSchedule","schedule_date","String","Date","format","admission_emergency_id","filters","global","value","matchMode","CONTAINS","name","STARTS_WITH","initFilters","operator","AND","constraints","submitted","created","today","month","getMonth","year","getFullYear","prevMonth","prevYear","minDate","setMonth","setFullYear","otScheduleService","commonService","doctorSetupService","consultancyDepartmentSetupService","employeeSetupService","referredBySetupService","validation","GetAllGender","then","GetAllBloodGroup","getActiveCombo","getAll","mergeReferredByInfo","mergeEmployeeInfo","mergeDoctorInfo","watch","immediate","handler","getOTBookedList","methods","hideDialog","reset","scheduleList","getScheduleList","filterData","filter","el","active","forEach","element","push","registration_no","text","manual_code","reffered_by_name","doc_no","doctor_name","obj","doctor_degree","lstConsultantDegree","consultant_degree_name","appointmentInfo","JSON","parse","localStorage","getItem","doctorAppointment","getConsultancyFeeByDoctorId","removeItem","emp_no","first_name","filterDoctorsDepartmentWise","department_id","getFormatted","length","type","admission_id","emergency_id","getAdmittedOrEmergencyPatientInfoForOT","admission_emergency_no","trim","showOTScheduleDialog","doctor_id","getOTDoctorBookedList","formatDate"],"mappings":"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AC0C,KAAKvF,UAAL,CAAgBwF,sBAAhB,CAAuCC,IAAvC,EAD1C,EACyF,IADzF,EAEGpD,IAFH,CAEQ,UAAChD,IAAD;AAAA,eAAU,MAAI,CAAC6F,YAAL,CAAkB7F,IAAI,CAACA,IAAvB,CAAV;AAAA,OAFR;AAGD,KA7FM;AA+FPqG,IAAAA,oBA/FO,kCA+FgB;AACrB,WAAK3C,eAAL,GADqB,CAErB;AACD,KAlGM;AAmGPA,IAAAA,eAnGO,6BAmGW;AAAA;;AAChB;;AACA,UAAI,KAAK/C,UAAL,CAAgBC,aAAhB,IAAiC,KAAKD,UAAL,CAAgB2F,SAArD,EAAgE;AAC9D,YAAI1F,aAAa,GAAGf,MAAM,CAACgB,MAAM,CAAC,KAAKF,UAAL,CAAgBC,aAAjB,CAAP,CAAN,CAA8CG,MAA9C,CAAqD,YAArD,CAApB;AACA,aAAKyB,iBAAL,CAAuB+D,qBAAvB,CAA6C,KAAK5F,UAAL,CAAgB2F,SAA7D,EAAwE1F,aAAxE,EAAuFoC,IAAvF,CAA4F,UAAChD,IAAD;AAAA,iBAAW,MAAI,CAACS,YAAL,GAAoBT,IAAI,CAACA,IAApC;AAAA,SAA5F;AACA,aAAKC,gBAAL,GAAwB,IAAxB;AACD;AACF,KA1GM;AA2GPuG,IAAAA,UA3GO,sBA2GIrF,KA3GJ,EA2GW;AAChB,aAAOtB,MAAM,CAACgB,MAAM,CAACM,KAAD,CAAP,CAAN,CAAsBJ,MAAtB,CAA6B,WAA7B,CAAP;AACD,KA7GM,CA8GP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAlOO;AAxFI,CAAf","sourcesContent":["import OTScheduleService from \"../../service/ot/OTScheduleService\";\r\nimport CommonService from \"../../service/CommonService\";\r\nimport ConsultancyDepartmentSetupService from \"../../service/setup/ConsultancyDepartmentSetupService\";\r\nimport DoctorSetupService from \"../../service/setup/DoctorSetupService\";\r\nimport EmployeeSetupService from \"../../service/setup/EmployeeSetupService\";\r\nimport ReferredBySetupService from \"../../service/setup/ReferredBySetupService\";\r\nimport Validation from \"../../scripts/validation\";\r\nimport moment from \"moment\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      otScheduleDialog: false,\r\n      isScheduleExist: \"\",\r\n      isValid: \"\",\r\n      isExist: \"\",\r\n      bloodGroupList: [],\r\n      genderList: [],\r\n      departmentList: [],\r\n      doctorList: [],\r\n      otBookedList: [],\r\n      referredByList: [],\r\n      otSchedule: {\r\n        schedule_date: moment(String(new Date())).format(\r\n          \"MM/DD/YYYY\"\r\n        ),\r\n        admission_emergency_id: \"\",\r\n      },\r\n      filters: {\r\n        global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n        name: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n      },\r\n      initFilters() {\r\n        this.filters = {\r\n          global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n          name: {\r\n            operator: FilterOperator.AND,\r\n            constraints: [\r\n              { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            ],\r\n          },\r\n        };\r\n      },\r\n      submitted: false,\r\n    };\r\n  },\r\n  created() {\r\n    // past date-year disabled\r\n    let today = new Date();\r\n    let month = today.getMonth();\r\n    let year = today.getFullYear();\r\n    let prevMonth = (month === 0) ? 11 : month - 0;\r\n    let prevYear = (prevMonth === 11) ? year - 0 : year;\r\n    this.minDate = new Date();\r\n    this.minDate.setMonth(prevMonth);\r\n    this.minDate.setFullYear(prevYear);\r\n\r\n    this.otScheduleService = new OTScheduleService();\r\n    this.commonService = new CommonService();\r\n    this.doctorSetupService = new DoctorSetupService();\r\n    this.consultancyDepartmentSetupService = new ConsultancyDepartmentSetupService();\r\n    this.employeeSetupService = new EmployeeSetupService();\r\n    this.referredBySetupService = new ReferredBySetupService();\r\n    this.validation = new Validation();\r\n\r\n    this.commonService\r\n      .GetAllGender()\r\n      .then((data) => (this.genderList = data.data));\r\n\r\n    this.commonService\r\n      .GetAllBloodGroup()\r\n      .then((data) => (this.bloodGroupList = data.data));\r\n\r\n    this.consultancyDepartmentSetupService\r\n      .getActiveCombo()\r\n      .then((data) => (this.departmentList = data.data));\r\n\r\n    this.referredBySetupService\r\n      .getAll()\r\n      .then((data) => this.mergeReferredByInfo(data.data));\r\n\r\n    this.employeeSetupService\r\n      .getAll()\r\n      .then((data) => this.mergeEmployeeInfo(data.data));\r\n\r\n    this.doctorSetupService\r\n      .getAll()\r\n      .then((data) => this.mergeDoctorInfo(data.data));\r\n  },\r\n  watch: {\r\n    'otSchedule.schedule_date': {\r\n      immediate: true,\r\n      handler() {\r\n        this.getOTBookedList();\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    hideDialog() {\r\n      this.otScheduleDialog = false;\r\n    },\r\n    reset() {\r\n      this.isScheduleExist = \"\";\r\n      this.isExist = \"\";\r\n      this.otSchedule = {\r\n        schedule_date: moment(String(new Date())).format(\r\n          \"MM/DD/YYYY\"\r\n        ),\r\n        admission_emergency_id: \"\",\r\n      };\r\n      this.submitted = false;\r\n      this.scheduleList = [];\r\n      this.getScheduleList = [];\r\n    },\r\n    mergeReferredByInfo(data) {\r\n      let filterData = data.filter(function (el) {\r\n        return el.active == true;\r\n      }, this);\r\n      filterData.forEach((element) => {\r\n        this.referredByList.push({\r\n          value: element.registration_no,\r\n          text: element.manual_code + \"-\" + element.registration_no + \"-\" + element.reffered_by_name + \"(Referred By)\",\r\n        });\r\n      });\r\n    },\r\n    mergeDoctorInfo(data) {\r\n      //this.doctorList = data;\r\n      data.forEach((element) => {\r\n        this.referredByList.push({\r\n          value: element.doc_no,\r\n          text: element.doc_no + \"-\" + element.doctor_name + \"(Doctor)\",\r\n        });\r\n      });\r\n\r\n      data.forEach((element) => {\r\n        var obj = element;\r\n        obj.doctor_degree = \"\";\r\n        obj.lstConsultantDegree.forEach((el) => {\r\n          obj.doctor_degree += el.consultant_degree_name + \". \";\r\n        });\r\n\r\n        obj.doctor_name = element.doc_no + \" - (\" + obj.doctor_degree + \") - \" + element.doctor_name;\r\n        this.doctorList.push(obj);\r\n      });\r\n\r\n      var appointmentInfo = JSON.parse(localStorage.getItem(\"appointmentInfo\"));\r\n      if (appointmentInfo) {\r\n        this.doctorAppointment = appointmentInfo;\r\n        this.getConsultancyFeeByDoctorId();\r\n        localStorage.removeItem('appointmentInfo');\r\n      }\r\n    },\r\n    mergeEmployeeInfo(data) {\r\n      let filterData = data.filter(function (el) {\r\n        return el.active == true;\r\n      }, this);\r\n      filterData.forEach((element) => {\r\n        this.referredByList.push({\r\n          value: element.emp_no,\r\n          text: element.emp_no + \"-\" + element.first_name + \"(Employee)\",\r\n        });\r\n      });\r\n    },\r\n    filterDoctorsDepartmentWise() {\r\n      return this.doctorList.filter(function (el) {\r\n        return el.department_id === this.otSchedule.department_id;\r\n      }, this);\r\n    },\r\n\r\n    getFormatted(data) {\r\n      debugger;\r\n      if (data.length == 0) {\r\n        this.isExist = \"Patient not Exist!\";\r\n        this.otSchedule = {\r\n          admission_emergency_id: \"\",\r\n        };\r\n      } else {\r\n        this.otSchedule = data[0];\r\n        this.isExist = \"\";\r\n        if (this.otSchedule.type == 'IPD') {\r\n          this.otSchedule.admission_id = this.otSchedule.admission_emergency_id;\r\n        } else if (this.otSchedule.type == 'Emergency') {\r\n          this.otSchedule.emergency_id = this.otSchedule.admission_emergency_id;\r\n        }\r\n      }\r\n    },\r\n    getAdmittedOrEmergencyPatientInfoForOT() {\r\n      this.otScheduleService\r\n        .getAdmittedOrEmergencyPatientInfoForOT(this.otSchedule.admission_emergency_no.trim(), this)\r\n        .then((data) => this.getFormatted(data.data));\r\n    },\r\n\r\n    showOTScheduleDialog() {\r\n      this.getOTBookedList();\r\n      //this.otScheduleDialog = true;\r\n    },\r\n    getOTBookedList() {\r\n      debugger;\r\n      if (this.otSchedule.schedule_date && this.otSchedule.doctor_id) {\r\n        var schedule_date = moment(String(this.otSchedule.schedule_date)).format(\"YYYY-MM-DD\");\r\n        this.otScheduleService.getOTDoctorBookedList(this.otSchedule.doctor_id, schedule_date).then((data) => (this.otBookedList = data.data));\r\n        this.otScheduleDialog = true;\r\n      }\r\n    },\r\n    formatDate(value) {\r\n      return moment(String(value)).format(\"h:mm:ss a\");\r\n    },\r\n    // async add() {\r\n    //   //this.checkDrSchedule();\r\n    //   this.submitted = true;\r\n    //   try {\r\n    //     if (!this.doctorAppointment.aPatient.first_name) {\r\n    //       return;\r\n    //     } else if (!this.doctorAppointment.aPatient.age_year) {\r\n    //       return;\r\n    //     } else if (!this.doctorAppointment.aPatient.age_month) {\r\n    //       return;\r\n    //     } else if (!this.doctorAppointment.aPatient.age_day) {\r\n    //       return;\r\n    //     } else if (!this.doctorAppointment.aPatient.contact_no) {\r\n    //       return;\r\n    //     } else if (!this.doctorAppointment.department_id) {\r\n    //       return;\r\n    //     } else if (!this.doctorAppointment.doctor_id) {\r\n    //       return;\r\n    //     } else if (!this.doctorAppointment.appointment_type) {\r\n    //       return;\r\n    //     } else if (!this.doctorAppointment.consultancy_fee) {\r\n    //       return;\r\n    //     } else if (!this.doctorAppointment.building_id) {\r\n    //       return;\r\n    //     } else if (!this.doctorAppointment.room_id) {\r\n    //       return;\r\n    //     } else if (!this.doctorAppointment.cdappoint_date) {\r\n    //       return;\r\n    //     } else if (!this.doctorAppointment.reason) {\r\n    //       return;\r\n    //     } else if (this.isContactExist || this.isScheduleExist) {\r\n    //       return;\r\n    //     } else {\r\n    //       this.doctorAppointment.appoint_date = moment(\r\n    //         String(this.doctorAppointment.cdappoint_date)\r\n    //       ).format(\"YYYY-MM-DD h:mm:ss a\");\r\n\r\n    //       var currentDate = new Date();\r\n    //       var dob = new Date(currentDate.getFullYear() - this.doctorAppointment.aPatient.age_year, currentDate.getMonth() - this.doctorAppointment.aPatient.age_month, currentDate.getDate() - this.doctorAppointment.aPatient.age_day);\r\n    //       this.doctorAppointment.aPatient.dob = moment(\r\n    //         String(dob)\r\n    //       ).format(\"YYYY-MM-DD\");\r\n    //       if (!this.doctorAppointment.invoice_id) {\r\n    //         let result = await this.doctorAppointmentService.add(\r\n    //           this.doctorAppointment, this\r\n    //         );\r\n\r\n    //         if (result.status === 200) {\r\n    //           this.$toast.add({\r\n    //             severity: \"success\",\r\n    //             summary: \"Success\",\r\n    //             detail: \"Saved Successfully\",\r\n    //             life: 10000,\r\n    //           });\r\n\r\n    //           if (this.globalSetting.setting_value == \"Yes\") {\r\n    //             this.confirmPay(result.data);\r\n    //           } else {\r\n    //             this.reset();\r\n    //             this.printAppointmentToken(result.data);\r\n    //           }\r\n    //         } else if (result.status === 401) {\r\n    //           this.$toast.add({\r\n    //             severity: \"error\",\r\n    //             summary: \"Error\",\r\n    //             detail: result.data,\r\n    //             life: 10000,\r\n    //           });\r\n    //         } else {\r\n    //           this.$toast.add({\r\n    //             severity: \"error\",\r\n    //             summary: \"Failed\",\r\n    //             detail: result.res,\r\n    //             life: 10000,\r\n    //           });\r\n    //         }\r\n    //       } else if (this.doctorAppointment.invoice_id) {\r\n    //         let result = await this.doctorAppointmentService.put(\r\n    //           this.doctorAppointment, this\r\n    //         );\r\n    //         if (result.status === 200) {\r\n    //           this.$toast.add({\r\n    //             severity: \"success\",\r\n    //             summary: \"Success\",\r\n    //             detail: \"Successfully Updated\",\r\n    //             life: 10000,\r\n    //           });\r\n    //           this.reset();\r\n    //           this.printAppointmentToken(result.data);\r\n    //           this.$router.push(\"/patient-doctor-appointment-list\");\r\n    //         } else if (result.status === 401) {\r\n    //           this.$toast.add({\r\n    //             severity: \"error\",\r\n    //             summary: \"Error\",\r\n    //             detail: result.data,\r\n    //             life: 10000,\r\n    //           });\r\n    //         } else {\r\n    //           this.$toast.add({\r\n    //             severity: \"error\",\r\n    //             summary: \"Failed\",\r\n    //             detail: result.res,\r\n    //             life: 10000,\r\n    //           });\r\n    //         }\r\n    //       }\r\n\r\n    //     }\r\n    //   } catch (error) {\r\n    //     this.$toast.add({\r\n    //       severity: \"error\",\r\n    //       summary: \"Failed\",\r\n    //       detail: error,\r\n    //       life: 10000,\r\n    //     });\r\n    //   }\r\n    // },\r\n  },\r\n};"]}]}