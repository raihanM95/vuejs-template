{"remainingRequest":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\setup\\commission\\EmployeeIPDCommissionSetup.js","dependencies":[{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\src\\scripts\\setup\\commission\\EmployeeIPDCommissionSetup.js","mtime":1659423674466},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\babel.config.js","mtime":1624271518206},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"F:\\SVN PROJECTS\\ERP_Hospital_Client\\trunk\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1NWTiBQUk9KRUNUUy9FUlBfSG9zcGl0YWxfQ2xpZW50L3RydW5rL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IEVtcGxveWVlU2V0dXBTZXJ2aWNlIGZyb20gIi4uLy4uLy4uL3NlcnZpY2Uvc2V0dXAvRW1wbG95ZWVTZXR1cFNlcnZpY2UiOwppbXBvcnQgQ29tbWlzc2lvblNldHVwU2VydmljZSBmcm9tICIuLi8uLi8uLi9zZXJ2aWNlL3NldHVwL2NvbW1pc3Npb24vRW1wbG95ZWVDb21taXNzaW9uU2V0dXBTZXJ2aWNlIjsKaW1wb3J0IHsgRmlsdGVyTWF0Y2hNb2RlLCBGaWx0ZXJPcGVyYXRvciB9IGZyb20gInByaW1ldnVlL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YUxpc3Q6IGZhbHNlLAogICAgICBidXR0b246IGZhbHNlLAogICAgICBlbXBsb3llZUxpc3Q6IFtdLAogICAgICBjb21taXNzaW9uU2VydmljZUxpc3Q6IFtdLAogICAgICBjb21taXNzaW9uU2VydmljZVBhY2thZ2VMaXN0OiBbXSwKICAgICAgY29tbWlzc2lvblNldHVwOiB7CiAgICAgICAgaXBkVHlwZTogIlNlcnZpY2UiLAogICAgICAgIHR5cGU6ICJBbGwiLAogICAgICAgIGNvbW1pc3Npb25QZXJjZW50OiAiMCIsCiAgICAgICAgY29tbWlzc2lvbkFtb3VudDogIjAiLAogICAgICAgIGxzdEVtcGxveWVlOiBbXSwKICAgICAgICBsc3RTZXJ2aWNlOiBbXSwKICAgICAgICBsc3RTZXJ2aWNlUGFja2FnZTogW10KICAgICAgfSwKICAgICAgZmlsdGVyczogewogICAgICAgIGdsb2JhbDogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5DT05UQUlOUwogICAgICAgIH0sCiAgICAgICAgbmFtZTogewogICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICBtYXRjaE1vZGU6IEZpbHRlck1hdGNoTW9kZS5TVEFSVFNfV0lUSAogICAgICAgIH0KICAgICAgfSwKICAgICAgaW5pdEZpbHRlcnM6IGZ1bmN0aW9uIGluaXRGaWx0ZXJzKCkgewogICAgICAgIHRoaXMuZmlsdGVycyA9IHsKICAgICAgICAgIGdsb2JhbDogewogICAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgICAgbWF0Y2hNb2RlOiBGaWx0ZXJNYXRjaE1vZGUuQ09OVEFJTlMKICAgICAgICAgIH0sCiAgICAgICAgICBuYW1lOiB7CiAgICAgICAgICAgIG9wZXJhdG9yOiBGaWx0ZXJPcGVyYXRvci5BTkQsCiAgICAgICAgICAgIGNvbnN0cmFpbnRzOiBbewogICAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICAgIG1hdGNoTW9kZTogRmlsdGVyTWF0Y2hNb2RlLlNUQVJUU19XSVRICiAgICAgICAgICAgIH1dCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSwKICAgICAgc3VibWl0dGVkOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuZW1wbG95ZWVTZXR1cFNlcnZpY2UgPSBuZXcgRW1wbG95ZWVTZXR1cFNlcnZpY2UoKTsKICAgIHRoaXMuY29tbWlzc2lvblNldHVwU2VydmljZSA9IG5ldyBDb21taXNzaW9uU2V0dXBTZXJ2aWNlKCk7CiAgICB0aGlzLmVtcGxveWVlU2V0dXBTZXJ2aWNlLmdldEFsbCgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIF90aGlzLm1lcmdlRW1wbG95ZWVJbmZvKGRhdGEuZGF0YSk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhpZGVOZXc6IGZ1bmN0aW9uIGhpZGVOZXcoKSB7CiAgICAgIHRoaXMuY29tbWlzc2lvblNldHVwID0gewogICAgICAgIGlwZFR5cGU6ICJTZXJ2aWNlIiwKICAgICAgICB0eXBlOiAiQWxsIiwKICAgICAgICBjb21taXNzaW9uUGVyY2VudDogIjAiLAogICAgICAgIGNvbW1pc3Npb25BbW91bnQ6ICIwIiwKICAgICAgICBsc3RFbXBsb3llZTogW10sCiAgICAgICAgbHN0U2VydmljZTogW10sCiAgICAgICAgbHN0U2VydmljZVBhY2thZ2U6IFtdCiAgICAgIH07CiAgICAgIHRoaXMuZGF0YUxpc3QgPSBmYWxzZTsKICAgICAgdGhpcy5idXR0b24gPSBmYWxzZTsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgIH0sCiAgICBtZXJnZUVtcGxveWVlSW5mbzogZnVuY3Rpb24gbWVyZ2VFbXBsb3llZUluZm8oZGF0YSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBmaWx0ZXJEYXRhID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgcmV0dXJuIGVsLmFjdGl2ZSA9PSB0cnVlOwogICAgICB9LCB0aGlzKTsKICAgICAgZmlsdGVyRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgX3RoaXMyLmVtcGxveWVlTGlzdC5wdXNoKHsKICAgICAgICAgIGVtcGxveWVlX2lkOiBlbGVtZW50LmVtcGxveWVlX2lkLAogICAgICAgICAgdGV4dDogZWxlbWVudC5lbXBfbm8gKyAiLSIgKyBlbGVtZW50LmZpcnN0X25hbWUKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkgewogICAgICBpZiAodGhpcy5jb21taXNzaW9uU2V0dXAudHlwZSA9PSAiQWxsIikgewogICAgICAgIHRoaXMuY29tbWlzc2lvblNldHVwLmVtcGxveWVlX2lkID0gIkFsbCI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jb21taXNzaW9uU2V0dXAuZW1wbG95ZWVfaWQgPSAiIjsKICAgICAgfQoKICAgICAgdGhpcy5nZXRDb21taXNzaW9uQnlMaXN0KCk7CiAgICB9LAogICAgZ2V0Q29tbWlzc2lvbkJ5TGlzdDogZnVuY3Rpb24gZ2V0Q29tbWlzc2lvbkJ5TGlzdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmRhdGFMaXN0ID0gZmFsc2U7CiAgICAgIHRoaXMuYnV0dG9uID0gZmFsc2U7CiAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKCiAgICAgIGlmICghdGhpcy5jb21taXNzaW9uU2V0dXAuZW1wbG95ZWVfaWQgJiYgdGhpcy5jb21taXNzaW9uU2V0dXAudHlwZSA9PSAiU2luZ2xlIikgewogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIXRoaXMuY29tbWlzc2lvblNldHVwLmVtcGxveWVlX2lkICYmIHRoaXMuY29tbWlzc2lvblNldHVwLnR5cGUgPT0gIkFsbCIpIHsKICAgICAgICAgIHRoaXMuY29tbWlzc2lvblNldHVwLmVtcGxveWVlX2lkID0gIkFsbCI7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmRhdGFMaXN0ID0gdHJ1ZTsKICAgICAgICB0aGlzLmJ1dHRvbiA9IHRydWU7CgogICAgICAgIGlmICh0aGlzLmNvbW1pc3Npb25TZXR1cC5pcGRUeXBlID09ICdTZXJ2aWNlJykgewogICAgICAgICAgdGhpcy5jb21taXNzaW9uU2V0dXBTZXJ2aWNlLmdldElQRFNlcnZpY2VDb21taXNzaW9uQnlFbXBsb3llZSh0aGlzLmNvbW1pc3Npb25TZXR1cC5lbXBsb3llZV9pZCwgdGhpcykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMzLmNvbW1pc3Npb25TZXJ2aWNlTGlzdCA9IGRhdGEuZGF0YTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5jb21taXNzaW9uU2VydmljZVBhY2thZ2VMaXN0ID0gW107CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbW1pc3Npb25TZXR1cC5pcGRUeXBlID09ICdQYWNrYWdlJykgewogICAgICAgICAgdGhpcy5jb21taXNzaW9uU2V0dXBTZXJ2aWNlLmdldElQRFNlcnZpY2VQYWNrYWdlQ29tbWlzc2lvbkJ5RW1wbG95ZWUodGhpcy5jb21taXNzaW9uU2V0dXAuZW1wbG95ZWVfaWQsIHRoaXMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5jb21taXNzaW9uU2VydmljZVBhY2thZ2VMaXN0ID0gZGF0YS5kYXRhOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmNvbW1pc3Npb25TZXJ2aWNlTGlzdCA9IFtdOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgIH0sCiAgICB1cGRhdGVDb21taXNzaW9uUGVyY2VudEFtb3VudDogZnVuY3Rpb24gdXBkYXRlQ29tbWlzc2lvblBlcmNlbnRBbW91bnQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOwoKICAgICAgaWYgKCF0aGlzLmNvbW1pc3Npb25TZXR1cC5jb21taXNzaW9uUGVyY2VudCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLmNvbW1pc3Npb25TZXR1cC5jb21taXNzaW9uQW1vdW50KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5jb21taXNzaW9uU2V0dXAuaXBkVHlwZSA9PSAnU2VydmljZScpIHsKICAgICAgICB0aGlzLmNvbW1pc3Npb25TZXJ2aWNlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICBlbGVtZW50Ll9jb21taXNzaW9uX3JhdGVfcGVyY2VudGFnZSA9IF90aGlzNC5jb21taXNzaW9uU2V0dXAuY29tbWlzc2lvblBlcmNlbnQsIGVsZW1lbnQuX2NvbW1pc3Npb25fcmF0ZV9hbW91bnQgPSBfdGhpczQuY29tbWlzc2lvblNldHVwLmNvbW1pc3Npb25BbW91bnQ7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5jb21taXNzaW9uU2V0dXAuaXBkVHlwZSA9PSAnUGFja2FnZScpIHsKICAgICAgICB0aGlzLmNvbW1pc3Npb25TZXJ2aWNlUGFja2FnZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgZWxlbWVudC5fY29tbWlzc2lvbl9yYXRlX3BlcmNlbnRhZ2UgPSBfdGhpczQuY29tbWlzc2lvblNldHVwLmNvbW1pc3Npb25QZXJjZW50LCBlbGVtZW50Ll9jb21taXNzaW9uX3JhdGVfYW1vdW50ID0gX3RoaXM0LmNvbW1pc3Npb25TZXR1cC5jb21taXNzaW9uQW1vdW50OwogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgfSwKICAgIGNoZWNrQWxsQ29tbWlzc2lvblJhdGVQZXJjZW50YWdlOiBmdW5jdGlvbiBjaGVja0FsbENvbW1pc3Npb25SYXRlUGVyY2VudGFnZSgpIHsKICAgICAgaWYgKHRoaXMuY29tbWlzc2lvblNldHVwLmNvbW1pc3Npb25QZXJjZW50ID4gMCkgewogICAgICAgIHRoaXMuY29tbWlzc2lvblNldHVwLmNvbW1pc3Npb25BbW91bnQgPSAiMCI7CiAgICAgIH0KICAgIH0sCiAgICBjaGVja0FsbENvbW1pc3Npb25SYXRlQW1vdW50OiBmdW5jdGlvbiBjaGVja0FsbENvbW1pc3Npb25SYXRlQW1vdW50KCkgewogICAgICBpZiAodGhpcy5jb21taXNzaW9uU2V0dXAuY29tbWlzc2lvbkFtb3VudCA+IDApIHsKICAgICAgICB0aGlzLmNvbW1pc3Npb25TZXR1cC5jb21taXNzaW9uUGVyY2VudCA9ICIwIjsKICAgICAgfQogICAgfSwKICAgIGNoZWNrQ29tbWlzc2lvblJhdGVQZXJjZW50YWdlOiBmdW5jdGlvbiBjaGVja0NvbW1pc3Npb25SYXRlUGVyY2VudGFnZShkYXRhKSB7CiAgICAgIGlmICh0aGlzLmNvbW1pc3Npb25TZXR1cC5pcGRUeXBlID09ICdTZXJ2aWNlJykgewogICAgICAgIHRoaXMuY29tbWlzc2lvblNlcnZpY2VMaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgIGlmIChlbGVtZW50LnNlcnZpY2VfaWQgPT0gZGF0YS5zZXJ2aWNlX2lkKSB7CiAgICAgICAgICAgIGlmIChlbGVtZW50Ll9jb21taXNzaW9uX3JhdGVfcGVyY2VudGFnZSA+IDApIGVsZW1lbnQuX2NvbW1pc3Npb25fcmF0ZV9hbW91bnQgPSAwOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHRoaXMuY29tbWlzc2lvblNldHVwLmlwZFR5cGUgPT0gJ1BhY2thZ2UnKSB7CiAgICAgICAgdGhpcy5jb21taXNzaW9uU2VydmljZVBhY2thZ2VMaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgIGlmIChlbGVtZW50LnNlcnZpY2VfcGFja2FnZV9pZCA9PSBkYXRhLnNlcnZpY2VfcGFja2FnZV9pZCkgewogICAgICAgICAgICBpZiAoZWxlbWVudC5fY29tbWlzc2lvbl9yYXRlX3BlcmNlbnRhZ2UgPiAwKSBlbGVtZW50Ll9jb21taXNzaW9uX3JhdGVfYW1vdW50ID0gMDsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrQ29tbWlzc2lvblJhdGVBbW91bnQ6IGZ1bmN0aW9uIGNoZWNrQ29tbWlzc2lvblJhdGVBbW91bnQoZGF0YSkgewogICAgICBpZiAodGhpcy5jb21taXNzaW9uU2V0dXAuaXBkVHlwZSA9PSAnU2VydmljZScpIHsKICAgICAgICB0aGlzLmNvbW1pc3Npb25TZXJ2aWNlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICBpZiAoZWxlbWVudC5zZXJ2aWNlX2lkID09IGRhdGEuc2VydmljZV9pZCkgewogICAgICAgICAgICBpZiAoZWxlbWVudC5fY29tbWlzc2lvbl9yYXRlX2Ftb3VudCA+IDApIGVsZW1lbnQuX2NvbW1pc3Npb25fcmF0ZV9wZXJjZW50YWdlID0gMDsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbW1pc3Npb25TZXR1cC5pcGRUeXBlID09ICdQYWNrYWdlJykgewogICAgICAgIHRoaXMuY29tbWlzc2lvblNlcnZpY2VQYWNrYWdlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICBpZiAoZWxlbWVudC5zZXJ2aWNlX3BhY2thZ2VfaWQgPT0gZGF0YS5zZXJ2aWNlX3BhY2thZ2VfaWQpIHsKICAgICAgICAgICAgaWYgKGVsZW1lbnQuX2NvbW1pc3Npb25fcmF0ZV9hbW91bnQgPiAwKSBlbGVtZW50Ll9jb21taXNzaW9uX3JhdGVfcGVyY2VudGFnZSA9IDA7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXN1bHQsIF9yZXN1bHQ7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNS5zdWJtaXR0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXM1LmNvbW1pc3Npb25TZXR1cC5pcGRUeXBlID09ICdTZXJ2aWNlJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczUucmVxdXJlZCA9ICIiOwoKICAgICAgICAgICAgICAgIF90aGlzNS5jb21taXNzaW9uU2VydmljZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5fY29tbWlzc2lvbl9yYXRlX2Ftb3VudCA+IDAgJiYgZWxlbWVudC5fY29tbWlzc2lvbl9yYXRlX3BlcmNlbnRhZ2UgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnJlcXVyZWQgPSAicmVxdWlyZWQiOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNS5yZXF1cmVkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM1LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIlJlcXVpcmVkIiwKICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiQ2Fubm90IGVudGVyIGNvbW1pc3Npb24gKCUpIGFuZCBjb21taXNzaW9uICh0aykgYXQgdGhlIHNhbWUgdGltZSIsCiAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUuY29tbWlzc2lvblNldHVwLmVtcGxveWVlX2lkID09ICJBbGwiKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5jb21taXNzaW9uU2V0dXAubHN0RW1wbG95ZWUgPSBfdGhpczUuZW1wbG95ZWVMaXN0OwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmNvbW1pc3Npb25TZXR1cC5sc3RFbXBsb3llZS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZV9pZDogX3RoaXM1LmNvbW1pc3Npb25TZXR1cC5lbXBsb3llZV9pZAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczUuY29tbWlzc2lvblNlcnZpY2VMaXN0Lmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM1LmNvbW1pc3Npb25TZXR1cC5sc3RTZXJ2aWNlID0gX3RoaXM1LmNvbW1pc3Npb25TZXJ2aWNlTGlzdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuY29tbWlzc2lvblNldHVwU2VydmljZS5pUERTZXJ2aWNlQ29tbWlzc2lvblNhdmUoX3RoaXM1LmNvbW1pc3Npb25TZXR1cCwgX3RoaXM1KTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICBfdGhpczUuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiU2F2ZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNS5oaWRlTmV3KCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczUuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiByZXN1bHQucmVzLAogICAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgX3RoaXM1LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIlJlcXVpcmVkIiwKICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiU2VydmljZSBsaXN0IGVtcHR5IiwKICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczUuY29tbWlzc2lvblNldHVwLmlwZFR5cGUgPT0gJ1BhY2thZ2UnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNS5yZXF1cmVkID0gIiI7CgogICAgICAgICAgICAgICAgX3RoaXM1LmNvbW1pc3Npb25TZXJ2aWNlUGFja2FnZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5fY29tbWlzc2lvbl9yYXRlX2Ftb3VudCA+IDAgJiYgZWxlbWVudC5fY29tbWlzc2lvbl9yYXRlX3BlcmNlbnRhZ2UgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnJlcXVyZWQgPSAicmVxdWlyZWQiOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNS5yZXF1cmVkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM1LiR0b2FzdC5hZGQoewogICAgICAgICAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIlJlcXVpcmVkIiwKICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiQ2Fubm90IGVudGVyIGNvbW1pc3Npb24gKCUpIGFuZCBjb21taXNzaW9uICh0aykgYXQgdGhlIHNhbWUgdGltZSIsCiAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgICAgIGlmIChfdGhpczUuY29tbWlzc2lvblNldHVwLmVtcGxveWVlX2lkID09ICJBbGwiKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5jb21taXNzaW9uU2V0dXAubHN0RW1wbG95ZWUgPSBfdGhpczUuZW1wbG95ZWVMaXN0OwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmNvbW1pc3Npb25TZXR1cC5sc3RFbXBsb3llZS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZV9pZDogX3RoaXM1LmNvbW1pc3Npb25TZXR1cC5lbXBsb3llZV9pZAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczUuY29tbWlzc2lvblNlcnZpY2VQYWNrYWdlTGlzdC5sZW5ndGggPiAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNS5jb21taXNzaW9uU2V0dXAubHN0U2VydmljZVBhY2thZ2UgPSBfdGhpczUuY29tbWlzc2lvblNlcnZpY2VQYWNrYWdlTGlzdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuY29tbWlzc2lvblNldHVwU2VydmljZS5pUERTZXJ2aWNlUGFja2FnZUNvbW1pc3Npb25TYXZlKF90aGlzNS5jb21taXNzaW9uU2V0dXAsIF90aGlzNSk7CgogICAgICAgICAgICAgIGNhc2UgMzY6CiAgICAgICAgICAgICAgICBfcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoX3Jlc3VsdC5zdGF0dXMgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICBfdGhpczUuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiAiU2F2ZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNS5oaWRlTmV3KCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczUuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBfcmVzdWx0LnJlcywKICAgICAgICAgICAgICAgICAgICBsaWZlOiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA0MDoKICAgICAgICAgICAgICAgIF90aGlzNS4kdG9hc3QuYWRkKHsKICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHN1bW1hcnk6ICJSZXF1aXJlZCIsCiAgICAgICAgICAgICAgICAgIGRldGFpbDogIlBhY2thZ2UgbGlzdCBlbXB0eSIsCiAgICAgICAgICAgICAgICAgIGxpZmU6IDEwMDAwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA0MjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0NzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDQ0OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDQ0OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKCiAgICAgICAgICAgICAgICBfdGhpczUuJHRvYXN0LmFkZCh7CiAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICBzdW1tYXJ5OiAiRmFpbGVkIiwKICAgICAgICAgICAgICAgICAgZGV0YWlsOiBfY29udGV4dC50MCwKICAgICAgICAgICAgICAgICAgbGlmZTogMTAwMDAKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCA0NF1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["F:/SVN PROJECTS/ERP_Hospital_Client/trunk/src/scripts/setup/commission/EmployeeIPDCommissionSetup.js"],"names":["EmployeeSetupService","CommissionSetupService","FilterMatchMode","FilterOperator","data","dataList","button","employeeList","commissionServiceList","commissionServicePackageList","commissionSetup","ipdType","type","commissionPercent","commissionAmount","lstEmployee","lstService","lstServicePackage","filters","global","value","matchMode","CONTAINS","name","STARTS_WITH","initFilters","operator","AND","constraints","submitted","created","employeeSetupService","commissionSetupService","getAll","then","mergeEmployeeInfo","methods","hideNew","filterData","filter","el","active","forEach","element","push","employee_id","text","emp_no","first_name","onChange","getCommissionByList","getIPDServiceCommissionByEmployee","getIPDServicePackageCommissionByEmployee","updateCommissionPercentAmount","_commission_rate_percentage","_commission_rate_amount","checkAllCommissionRatePercentage","checkAllCommissionRateAmount","checkCommissionRatePercentage","service_id","service_package_id","checkCommissionRateAmount","add","requred","$toast","severity","summary","detail","life","length","iPDServiceCommissionSave","result","status","res","iPDServicePackageCommissionSave"],"mappings":"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","sourcesContent":["import EmployeeSetupService from \"../../../service/setup/EmployeeSetupService\";\r\nimport CommissionSetupService from \"../../../service/setup/commission/EmployeeCommissionSetupService\";\r\nimport { FilterMatchMode, FilterOperator } from \"primevue/api\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            dataList: false,\r\n            button: false,\r\n            employeeList: [],\r\n            commissionServiceList: [],\r\n            commissionServicePackageList: [],\r\n            commissionSetup: {\r\n                ipdType: \"Service\",\r\n                type: \"All\",\r\n                commissionPercent: \"0\",\r\n                commissionAmount: \"0\",\r\n                lstEmployee: [],\r\n                lstService: [],\r\n                lstServicePackage: []\r\n            },\r\n            filters: {\r\n                global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n                name: { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n            },\r\n            initFilters() {\r\n                this.filters = {\r\n                    global: { value: null, matchMode: FilterMatchMode.CONTAINS },\r\n                    name: {\r\n                        operator: FilterOperator.AND,\r\n                        constraints: [\r\n                            { value: null, matchMode: FilterMatchMode.STARTS_WITH },\r\n                        ],\r\n                    },\r\n                };\r\n            },\r\n            submitted: false,\r\n        };\r\n    },\r\n    created() {\r\n        this.employeeSetupService = new EmployeeSetupService();\r\n        this.commissionSetupService = new CommissionSetupService();\r\n\r\n        this.employeeSetupService\r\n            .getAll()\r\n            .then((data) => this.mergeEmployeeInfo(data.data));\r\n    },\r\n    methods: {\r\n        hideNew() {\r\n            this.commissionSetup = {\r\n                ipdType: \"Service\",\r\n                type: \"All\",\r\n                commissionPercent: \"0\",\r\n                commissionAmount: \"0\",\r\n                lstEmployee: [],\r\n                lstService: [],\r\n                lstServicePackage: []\r\n            };\r\n            this.dataList = false;\r\n            this.button = false;\r\n            this.submitted = false;\r\n        },\r\n        mergeEmployeeInfo(data) {\r\n            let filterData = data.filter(function (el) {\r\n              return el.active == true;\r\n            }, this);\r\n            filterData.forEach((element) => {\r\n              this.employeeList.push({\r\n                employee_id: element.employee_id,\r\n                text: element.emp_no + \"-\" + element.first_name,\r\n              });\r\n            });\r\n          },\r\n        onChange() {\r\n            if (this.commissionSetup.type == \"All\") {\r\n                this.commissionSetup.employee_id = \"All\";\r\n            } else {\r\n                this.commissionSetup.employee_id = \"\";\r\n            }\r\n            this.getCommissionByList();\r\n        },\r\n        getCommissionByList() {\r\n            this.dataList = false;\r\n            this.button = false;\r\n            this.submitted = true;\r\n            if (!this.commissionSetup.employee_id && this.commissionSetup.type == \"Single\") {\r\n                return;\r\n            } else {\r\n                if (!this.commissionSetup.employee_id && this.commissionSetup.type == \"All\") {\r\n                    this.commissionSetup.employee_id = \"All\";\r\n                }\r\n                this.dataList = true;\r\n                this.button = true;\r\n                if (this.commissionSetup.ipdType == 'Service') {\r\n                    this.commissionSetupService\r\n                        .getIPDServiceCommissionByEmployee(this.commissionSetup.employee_id, this)\r\n                        .then((data) => (this.commissionServiceList = data.data));\r\n                    this.commissionServicePackageList = [];\r\n                } else if (this.commissionSetup.ipdType == 'Package') {\r\n                    this.commissionSetupService\r\n                        .getIPDServicePackageCommissionByEmployee(this.commissionSetup.employee_id, this)\r\n                        .then((data) => (this.commissionServicePackageList = data.data));\r\n                    this.commissionServiceList = [];\r\n                }\r\n            }\r\n            this.submitted = false;\r\n        },\r\n        updateCommissionPercentAmount() {\r\n            this.submitted = true;\r\n            if (!this.commissionSetup.commissionPercent) {\r\n                return;\r\n            }\r\n            if (!this.commissionSetup.commissionAmount) {\r\n                return;\r\n            }\r\n\r\n            if (this.commissionSetup.ipdType == 'Service') {\r\n                this.commissionServiceList.forEach(element => {\r\n                    element._commission_rate_percentage = this.commissionSetup.commissionPercent,\r\n                        element._commission_rate_amount = this.commissionSetup.commissionAmount\r\n                });\r\n            } else if (this.commissionSetup.ipdType == 'Package') {\r\n                this.commissionServicePackageList.forEach(element => {\r\n                    element._commission_rate_percentage = this.commissionSetup.commissionPercent,\r\n                        element._commission_rate_amount = this.commissionSetup.commissionAmount\r\n                });\r\n            }\r\n            this.submitted = false;\r\n        },\r\n        checkAllCommissionRatePercentage() {\r\n            if (this.commissionSetup.commissionPercent > 0) {\r\n                this.commissionSetup.commissionAmount = \"0\";\r\n            }\r\n        },\r\n        checkAllCommissionRateAmount() {\r\n            if (this.commissionSetup.commissionAmount > 0) {\r\n                this.commissionSetup.commissionPercent = \"0\";\r\n            }\r\n        },\r\n        checkCommissionRatePercentage(data) {\r\n            if (this.commissionSetup.ipdType == 'Service') {\r\n                this.commissionServiceList.forEach(\r\n                    (element) => {\r\n                        if (element.service_id == data.service_id) {\r\n                            if (element._commission_rate_percentage > 0)\r\n                                element._commission_rate_amount = 0;\r\n                        }\r\n                    }\r\n                );\r\n            } else if (this.commissionSetup.ipdType == 'Package') {\r\n                this.commissionServicePackageList.forEach(\r\n                    (element) => {\r\n                        if (element.service_package_id == data.service_package_id) {\r\n                            if (element._commission_rate_percentage > 0)\r\n                                element._commission_rate_amount = 0;\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n        },\r\n        checkCommissionRateAmount(data) {\r\n            if (this.commissionSetup.ipdType == 'Service') {\r\n                this.commissionServiceList.forEach(\r\n                    (element) => {\r\n                        if (element.service_id == data.service_id) {\r\n                            if (element._commission_rate_amount > 0)\r\n                                element._commission_rate_percentage = 0;\r\n                        }\r\n                    }\r\n                );\r\n            } else if (this.commissionSetup.ipdType == 'Package') {\r\n                this.commissionServicePackageList.forEach(\r\n                    (element) => {\r\n                        if (element.service_package_id == data.service_package_id) {\r\n                            if (element._commission_rate_amount > 0)\r\n                                element._commission_rate_percentage = 0;\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n        },\r\n        async add() {\r\n            this.submitted = true;\r\n            try {\r\n                if (this.commissionSetup.ipdType == 'Service') {\r\n                    this.requred = \"\";\r\n                    this.commissionServiceList.forEach((element) => {\r\n                        if (element._commission_rate_amount > 0 && element._commission_rate_percentage > 0) {\r\n                            this.requred = \"required\";\r\n                        }\r\n                    });\r\n\r\n                    if (this.requred) {\r\n                        this.$toast.add({\r\n                            severity: \"error\",\r\n                            summary: \"Required\",\r\n                            detail: \"Cannot enter commission (%) and commission (tk) at the same time\",\r\n                            life: 10000,\r\n                        });\r\n                        return;\r\n                    } else {\r\n                        if (this.commissionSetup.employee_id == \"All\") {\r\n                            this.commissionSetup.lstEmployee = this.employeeList;\r\n                        } else {\r\n                            this.commissionSetup.lstEmployee.push({\r\n                                employee_id: this.commissionSetup.employee_id,\r\n                            });\r\n                        }\r\n                        if (this.commissionServiceList.length > 0) {\r\n                            this.commissionSetup.lstService = this.commissionServiceList;\r\n\r\n                            let result = await this.commissionSetupService.iPDServiceCommissionSave(\r\n                                this.commissionSetup, this\r\n                            );\r\n                            if (result.status === 201) {\r\n                                this.$toast.add({\r\n                                    severity: \"success\",\r\n                                    summary: \"Success\",\r\n                                    detail: \"Saved Successfully\",\r\n                                    life: 10000,\r\n                                });\r\n                                this.hideNew();\r\n                            } else {\r\n                                this.$toast.add({\r\n                                    severity: \"error\",\r\n                                    summary: \"Failed\",\r\n                                    detail: result.res,\r\n                                    life: 10000,\r\n                                });\r\n                            }\r\n                        } else {\r\n                            this.$toast.add({\r\n                                severity: \"error\",\r\n                                summary: \"Required\",\r\n                                detail: \"Service list empty\",\r\n                                life: 10000,\r\n                            });\r\n                            return;\r\n                        }\r\n                    }\r\n                } else if (this.commissionSetup.ipdType == 'Package') {\r\n                    this.requred = \"\";\r\n                    this.commissionServicePackageList.forEach((element) => {\r\n                        if (element._commission_rate_amount > 0 && element._commission_rate_percentage > 0) {\r\n                            this.requred = \"required\";\r\n                        }\r\n                    });\r\n\r\n                    if (this.requred) {\r\n                        this.$toast.add({\r\n                            severity: \"error\",\r\n                            summary: \"Required\",\r\n                            detail: \"Cannot enter commission (%) and commission (tk) at the same time\",\r\n                            life: 10000,\r\n                        });\r\n                        return;\r\n                    } else {\r\n                        if (this.commissionSetup.employee_id == \"All\") {\r\n                            this.commissionSetup.lstEmployee = this.employeeList;\r\n                        } else {\r\n                            this.commissionSetup.lstEmployee.push({\r\n                                employee_id: this.commissionSetup.employee_id,\r\n                            });\r\n                        }\r\n\r\n                        if (this.commissionServicePackageList.length > 0) {\r\n                            this.commissionSetup.lstServicePackage = this.commissionServicePackageList;\r\n                            let result = await this.commissionSetupService.iPDServicePackageCommissionSave(\r\n                                this.commissionSetup, this\r\n                            );\r\n                            if (result.status === 201) {\r\n                                this.$toast.add({\r\n                                    severity: \"success\",\r\n                                    summary: \"Success\",\r\n                                    detail: \"Saved Successfully\",\r\n                                    life: 10000,\r\n                                });\r\n                                this.hideNew();\r\n                            } else {\r\n                                this.$toast.add({\r\n                                    severity: \"error\",\r\n                                    summary: \"Failed\",\r\n                                    detail: result.res,\r\n                                    life: 10000,\r\n                                });\r\n                            }\r\n                        } else {\r\n                            this.$toast.add({\r\n                                severity: \"error\",\r\n                                summary: \"Required\",\r\n                                detail: \"Package list empty\",\r\n                                life: 10000,\r\n                            });\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                this.$toast.add({\r\n                    severity: \"error\",\r\n                    summary: \"Failed\",\r\n                    detail: error,\r\n                    life: 10000,\r\n                });\r\n            }\r\n        },\r\n    },\r\n};"]}]}